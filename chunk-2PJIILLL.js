import{a as pc,c as $f,d as zo,e as pa,f as Sc}from"./chunk-OY54IF7T.js";import{a as He}from"./chunk-FK6H3RFT.js";import{a as Yf,b as Gf,c as Zf,d as Pc,e as jo,f as sr,g as Mc,h as Bi}from"./chunk-YTLR5RWA.js";import{$ as G,$a as cc,$b as _c,$c as pu,Aa as Af,Ac as uu,B as Yt,Ba as Ei,Bb as au,C as Lr,Ca as Oi,Cb as ou,D as yf,Da as Ti,Ea as or,Eb as su,F as et,Fa as Qn,Ga as Df,H as ca,Ha as Nf,I as wf,K as Le,Kb as If,Kc as ro,M as Dn,Mb as gc,N as Qa,Na as we,O as xf,Oa as ac,Ob as mc,Oc as Wn,P as da,Pa as Ce,Q as Cf,Qa as io,Qb as Ff,R as Ae,Rb as Rf,Sa as ti,Sc as Ii,T as Er,Ta as oc,Tc as yc,U as me,Ua as kf,Uc as hu,V as ve,Va as Lf,Vc as Uf,W as Oo,Wa as Rn,X as to,Xa as sc,Xb as fa,Xc as Hf,Y as eo,Ya as lc,Yc as wc,Z as At,Zb as qs,Zc as Vf,_ as Z,_a as Ef,_b as vc,_c as fu,aa as Je,ab as Of,ac as lu,ba as Or,bb as dc,ca as Tr,cb as uc,cd as Us,da as To,db as hc,e as kr,ea as Io,eb as si,fa as Fo,fb as js,fc as cu,fd as xc,g as Eo,ga as zs,ha as Ee,i as tc,ia as ic,ic as Bf,id as Wf,j as ec,ja as ee,jc as zf,k as nc,ka as dt,kd as Fi,la as Sf,ld as Ri,m as vf,ma as eu,na as Ir,nc as du,nd as Cc,oa as ua,ob as Ro,pa as Hn,pc as jf,q as oi,qa as Vn,qb as ha,r as Ka,ra as Pf,rb as fc,s as _f,sa as Mf,sc as qf,sd as Bo,t as Ja,ta as Li,tb as nu,tc as bc,u as sa,ua as no,v as Jt,va as ar,w as Qt,wa as Ct,wb as Tf,x as la,xa as ye,xb as iu,ya as Fn,z as bf,za as rc,zb as ru}from"./chunk-KPKDQF2Q.js";import{a as xe,b as _i}from"./chunk-C6Q5SG76.js";var Yg=["data-p-icon","window-maximize"],Xf=(()=>{class e extends xc{pathId;onInit(){this.pathId="url(#"+ro()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Lr(e)))(r||e)}})();static \u0275cmp=Dn({type:e,selectors:[["","data-p-icon","window-maximize"]],features:[da],attrs:Yg,decls:5,vars:2,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(la(),Or(0,"g"),To(1,"path",0),Tr(),Or(2,"defs")(3,"clipPath",1),To(4,"rect",2),Tr()()),i&2&&(Er("clip-path",r.pathId),et(3),ic("id",r.pathId))},encapsulation:2})}return e})();var Gg=["data-p-icon","window-minimize"],Kf=(()=>{class e extends xc{pathId;onInit(){this.pathId="url(#"+ro()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Lr(e)))(r||e)}})();static \u0275cmp=Dn({type:e,selectors:[["","data-p-icon","window-minimize"]],features:[da],attrs:Gg,decls:5,vars:2,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(la(),Or(0,"g"),To(1,"path",0),Tr(),Or(2,"defs")(3,"clipPath",1),To(4,"rect",2),Tr()()),i&2&&(Er("clip-path",r.pathId),et(3),ic("id",r.pathId))},encapsulation:2})}return e})();function Jf(){return{items:[{effectiveDate:new Date(2025,0,1),payRate:8}]}}var lr=class e{getPayRate(n){let t=Jf();return kr(t).pipe(nc(100))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=oi({token:e,factory:e.\u0275fac,providedIn:"root"})};var Zg=()=>({width:"auto"});function Xg(e,n){e&1&&(Z(0,"tr")(1,"th",9),Ct(2,"Effective Date"),G(),Z(3,"th",10),Ct(4,"Pay Rate"),G()())}function Kg(e,n){if(e&1&&(Z(0,"tr")(1,"td",9),Ct(2),G(),Z(3,"td",10),Ct(4),we(5,"currency"),G()()),e&2){let t=n.$implicit,i=dt();et(2),ye(i.formatDate(t.effectiveDate)),et(2),ye(ac(5,2,t.payRate))}}function Jg(e,n){e&1&&(Z(0,"tr")(1,"td",11),Ct(2,"No rate data available"),G()())}var Dc=class e{constructor(n){this.rateCardService=n}rateCard=Yt(null);rateItems=Yt([]);ngOnInit(){let n=new Date;this.rateCardService.getPayRate(n).subscribe(t=>{this.rateCard.set(t),this.rateItems.set(t.items)})}formatDate(n){return new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}static \u0275fac=function(t){return new(t||e)(Le(lr))};static \u0275cmp=Dn({type:e,selectors:[["app-rate-card"]],decls:12,vars:5,consts:[[1,"rate-card-container"],[1,"rate-card-header"],["routerLink","/",1,"home-button"],["icon","pi pi-home","severity","secondary",3,"outlined"],[1,"table-wrapper"],[1,"p-datatable-gridlines","rate-card-table",3,"value","stripedRows","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"col-date"],[1,"col-rate"],["colspan","2",1,"empty-message"]],template:function(t,i){t&1&&(Z(0,"div",0)(1,"div",1)(2,"a",2),Je(3,"p-button",3),G(),Z(4,"h2"),Ct(5,"Rate Card"),G(),Je(6,"div"),G(),Z(7,"div",4)(8,"p-table",5),Ae(9,Xg,5,0,"ng-template",6)(10,Kg,6,4,"ng-template",7)(11,Jg,3,0,"ng-template",8),G()()()),t&2&&(et(3),At("outlined",!0),et(5),At("value",i.rateItems())("stripedRows",!0)("tableStyle",Qn(4,Zg)))},dependencies:[si,fc,Ri,Fi,Ii,Bi,sr,hc],styles:[".rate-card-container[_ngcontent-%COMP%]{padding:1rem;max-width:100vw;overflow-x:hidden;box-sizing:border-box}@media (max-width: 768px){.rate-card-container[_ngcontent-%COMP%]{padding:.5rem}}.rate-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;gap:1rem;box-sizing:border-box;position:relative}.rate-card-header[_ngcontent-%COMP%]   .home-button[_ngcontent-%COMP%]{flex-shrink:0}.rate-card-header[_ngcontent-%COMP%]   .home-button[_ngcontent-%COMP%]     .p-button{color:#1565c0;border-color:#1565c0}.rate-card-header[_ngcontent-%COMP%]   .home-button[_ngcontent-%COMP%]     .p-button:hover{background-color:#1565c0;border-color:#1565c0;color:#fff}.rate-card-header[_ngcontent-%COMP%]   .home-button[_ngcontent-%COMP%]     .p-button .pi{color:#1565c0;font-size:1.2rem}.rate-card-header[_ngcontent-%COMP%]   .home-button[_ngcontent-%COMP%]     .p-button:hover .pi{color:#fff}.rate-card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;position:absolute;left:50%;transform:translate(-50%);font-weight:600}@media (max-width: 768px){.rate-card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;position:static;transform:none;flex:1;text-align:center}}@media (max-width: 768px){.rate-card-header[_ngcontent-%COMP%]{flex-wrap:wrap}.rate-card-header[_ngcontent-%COMP%]     p-button button{min-height:44px}}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;width:100%;border:1px solid #dee2e6;border-radius:4px;-webkit-overflow-scrolling:touch;box-sizing:border-box}.rate-card-table[_ngcontent-%COMP%]{font-size:.9rem;position:relative}.rate-card-table[_ngcontent-%COMP%]     .p-datatable-tbody>tr:nth-child(2n){background-color:#f9f9f9}.rate-card-table[_ngcontent-%COMP%]     .p-datatable-tbody>tr:nth-child(odd){background-color:#fff}.rate-card-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#e3f2fd;font-weight:600;text-align:center;padding:.75rem 1rem}.rate-card-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem 1rem;text-align:center}.rate-card-table[_ngcontent-%COMP%]   .col-date[_ngcontent-%COMP%]{min-width:150px;background-color:#f0f8ff;font-weight:500}.rate-card-table[_ngcontent-%COMP%]   th.col-date[_ngcontent-%COMP%]{background-color:#e3f2fd}.rate-card-table[_ngcontent-%COMP%]   .col-rate[_ngcontent-%COMP%]{min-width:120px;background-color:#fffaf0;font-weight:500}.rate-card-table[_ngcontent-%COMP%]   th.col-rate[_ngcontent-%COMP%]{background-color:#e3f2fd}.rate-card-table[_ngcontent-%COMP%]   .empty-message[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#666;font-style:italic}@media (max-width: 768px){  .p-datatable{font-size:.85rem}  .p-datatable .p-datatable-wrapper{overflow-x:auto;-webkit-overflow-scrolling:touch}  .p-datatable input[type=tel]{min-height:44px;padding:6px 4px}}"]})};var Qf=(()=>{class e extends wc{pFocusTrapDisabled=!1;platformId=sa(yf);document=sa(bf);firstHiddenFocusableElement;lastHiddenFocusableElement;onInit(){js(this.platformId)&&!this.pFocusTrapDisabled&&!this.firstHiddenFocusableElement&&!this.lastHiddenFocusableElement&&this.createHiddenFocusableElements()}onChanges(t){t.pFocusTrapDisabled&&js(this.platformId)&&(t.pFocusTrapDisabled.currentValue?this.removeHiddenFocusableElements():this.createHiddenFocusableElements())}removeHiddenFocusableElements(){this.firstHiddenFocusableElement&&this.firstHiddenFocusableElement.parentNode&&this.firstHiddenFocusableElement.parentNode.removeChild(this.firstHiddenFocusableElement),this.lastHiddenFocusableElement&&this.lastHiddenFocusableElement.parentNode&&this.lastHiddenFocusableElement.parentNode.removeChild(this.lastHiddenFocusableElement)}getComputedSelector(t){return`:not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])${t??""}`}createHiddenFocusableElements(){let i=r=>zf("span",{class:"p-hidden-accessible p-hidden-focusable",tabindex:"0",role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:r?.bind(this)});this.firstHiddenFocusableElement=i(this.onFirstHiddenElementFocus),this.lastHiddenFocusableElement=i(this.onLastHiddenElementFocus),this.firstHiddenFocusableElement.setAttribute("data-pc-section","firstfocusableelement"),this.lastHiddenFocusableElement.setAttribute("data-pc-section","lastfocusableelement"),this.el.nativeElement.prepend(this.firstHiddenFocusableElement),this.el.nativeElement.append(this.lastHiddenFocusableElement)}onFirstHiddenElementFocus(t){let{currentTarget:i,relatedTarget:r}=t,a=r===this.lastHiddenFocusableElement||!this.el.nativeElement?.contains(r)?jf(i.parentElement,":not(.p-hidden-focusable)"):this.lastHiddenFocusableElement;du(a)}onLastHiddenElementFocus(t){let{currentTarget:i,relatedTarget:r}=t,a=r===this.firstHiddenFocusableElement||!this.el.nativeElement?.contains(r)?qf(i.parentElement,":not(.p-hidden-focusable)"):this.firstHiddenFocusableElement;du(a)}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Lr(e)))(r||e)}})();static \u0275dir=xf({type:e,selectors:[["","pFocusTrap",""]],inputs:{pFocusTrapDisabled:[2,"pFocusTrapDisabled","pFocusTrapDisabled",Rn]},features:[da]})}return e})();var t0=`
    .p-dialog {
        max-height: 90%;
        transform: scale(1);
        border-radius: dt('dialog.border.radius');
        box-shadow: dt('dialog.shadow');
        background: dt('dialog.background');
        border: 1px solid dt('dialog.border.color');
        color: dt('dialog.color');
    }

    .p-dialog-content {
        overflow-y: auto;
        padding: dt('dialog.content.padding');
    }

    .p-dialog-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        flex-shrink: 0;
        padding: dt('dialog.header.padding');
    }

    .p-dialog-title {
        font-weight: dt('dialog.title.font.weight');
        font-size: dt('dialog.title.font.size');
    }

    .p-dialog-footer {
        flex-shrink: 0;
        padding: dt('dialog.footer.padding');
        display: flex;
        justify-content: flex-end;
        gap: dt('dialog.footer.gap');
    }

    .p-dialog-header-actions {
        display: flex;
        align-items: center;
        gap: dt('dialog.header.gap');
    }

    .p-dialog-enter-active {
        transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
    }

    .p-dialog-leave-active {
        transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
    }

    .p-dialog-enter-from,
    .p-dialog-leave-to {
        opacity: 0;
        transform: scale(0.7);
    }

    .p-dialog-top .p-dialog,
    .p-dialog-bottom .p-dialog,
    .p-dialog-left .p-dialog,
    .p-dialog-right .p-dialog,
    .p-dialog-topleft .p-dialog,
    .p-dialog-topright .p-dialog,
    .p-dialog-bottomleft .p-dialog,
    .p-dialog-bottomright .p-dialog {
        margin: 0.75rem;
        transform: translate3d(0px, 0px, 0px);
    }

    .p-dialog-top .p-dialog-enter-active,
    .p-dialog-top .p-dialog-leave-active,
    .p-dialog-bottom .p-dialog-enter-active,
    .p-dialog-bottom .p-dialog-leave-active,
    .p-dialog-left .p-dialog-enter-active,
    .p-dialog-left .p-dialog-leave-active,
    .p-dialog-right .p-dialog-enter-active,
    .p-dialog-right .p-dialog-leave-active,
    .p-dialog-topleft .p-dialog-enter-active,
    .p-dialog-topleft .p-dialog-leave-active,
    .p-dialog-topright .p-dialog-enter-active,
    .p-dialog-topright .p-dialog-leave-active,
    .p-dialog-bottomleft .p-dialog-enter-active,
    .p-dialog-bottomleft .p-dialog-leave-active,
    .p-dialog-bottomright .p-dialog-enter-active,
    .p-dialog-bottomright .p-dialog-leave-active {
        transition: all 0.3s ease-out;
    }

    .p-dialog-top .p-dialog-enter-from,
    .p-dialog-top .p-dialog-leave-to {
        transform: translate3d(0px, -100%, 0px);
    }

    .p-dialog-bottom .p-dialog-enter-from,
    .p-dialog-bottom .p-dialog-leave-to {
        transform: translate3d(0px, 100%, 0px);
    }

    .p-dialog-left .p-dialog-enter-from,
    .p-dialog-left .p-dialog-leave-to,
    .p-dialog-topleft .p-dialog-enter-from,
    .p-dialog-topleft .p-dialog-leave-to,
    .p-dialog-bottomleft .p-dialog-enter-from,
    .p-dialog-bottomleft .p-dialog-leave-to {
        transform: translate3d(-100%, 0px, 0px);
    }

    .p-dialog-right .p-dialog-enter-from,
    .p-dialog-right .p-dialog-leave-to,
    .p-dialog-topright .p-dialog-enter-from,
    .p-dialog-topright .p-dialog-leave-to,
    .p-dialog-bottomright .p-dialog-enter-from,
    .p-dialog-bottomright .p-dialog-leave-to {
        transform: translate3d(100%, 0px, 0px);
    }

    .p-dialog-left:dir(rtl) .p-dialog-enter-from,
    .p-dialog-left:dir(rtl) .p-dialog-leave-to,
    .p-dialog-topleft:dir(rtl) .p-dialog-enter-from,
    .p-dialog-topleft:dir(rtl) .p-dialog-leave-to,
    .p-dialog-bottomleft:dir(rtl) .p-dialog-enter-from,
    .p-dialog-bottomleft:dir(rtl) .p-dialog-leave-to {
        transform: translate3d(100%, 0px, 0px);
    }

    .p-dialog-right:dir(rtl) .p-dialog-enter-from,
    .p-dialog-right:dir(rtl) .p-dialog-leave-to,
    .p-dialog-topright:dir(rtl) .p-dialog-enter-from,
    .p-dialog-topright:dir(rtl) .p-dialog-leave-to,
    .p-dialog-bottomright:dir(rtl) .p-dialog-enter-from,
    .p-dialog-bottomright:dir(rtl) .p-dialog-leave-to {
        transform: translate3d(-100%, 0px, 0px);
    }

    .p-dialog-maximized {
        width: 100vw !important;
        height: 100vh !important;
        top: 0px !important;
        left: 0px !important;
        max-height: 100%;
        height: 100%;
        border-radius: 0;
    }

    .p-dialog-maximized .p-dialog-content {
        flex-grow: 1;
    }

    .p-dialog .p-resizable-handle {
        position: absolute;
        font-size: 0.1px;
        display: block;
        cursor: se-resize;
        width: 12px;
        height: 12px;
        right: 1px;
        bottom: 1px;
    }
`;var Qg=["header"],e0=["content"],n0=["footer"],t2=["closeicon"],e2=["maximizeicon"],n2=["minimizeicon"],i2=["headless"],r2=["titlebar"],a2=["*",[["p-footer"]]],o2=["*","p-footer"],s2=(e,n)=>({transform:e,transition:n}),l2=e=>({value:"visible",params:e});function c2(e,n){e&1&&zs(0)}function d2(e,n){if(e&1&&(Io(0),Ae(1,c2,1,0,"ng-container",11),Fo()),e&2){let t=dt(3);et(),At("ngTemplateOutlet",t._headlessTemplate||t.headlessTemplate||t.headlessT)}}function u2(e,n){if(e&1){let t=Ee();Z(0,"div",15),ee("mousedown",function(r){Jt(t);let a=dt(4);return Qt(a.initResize(r))}),G()}if(e&2){let t=dt(4);ar(t.cx("resizeHandle")),Mf("z-index",90),At("pBind",t.ptm("resizeHandle"))}}function h2(e,n){if(e&1&&(Z(0,"span",19),Ct(1),G()),e&2){let t=dt(5);ar(t.cx("title")),At("id",t.ariaLabelledBy)("pBind",t.ptm("title")),et(),ye(t.header)}}function f2(e,n){e&1&&zs(0)}function p2(e,n){if(e&1&&Je(0,"span",23),e&2){let t=dt(7);At("ngClass",t.maximized?t.minimizeIcon:t.maximizeIcon)}}function g2(e,n){e&1&&(la(),Je(0,"svg",26))}function m2(e,n){e&1&&(la(),Je(0,"svg",27))}function v2(e,n){if(e&1&&(Io(0),Ae(1,g2,1,0,"svg",24)(2,m2,1,0,"svg",25),Fo()),e&2){let t=dt(7);et(),At("ngIf",!t.maximized&&!t._maximizeiconTemplate&&!t.maximizeIconTemplate&&!t.maximizeIconT),et(),At("ngIf",t.maximized&&!t._minimizeiconTemplate&&!t.minimizeIconTemplate&&!t.minimizeIconT)}}function _2(e,n){}function b2(e,n){e&1&&Ae(0,_2,0,0,"ng-template")}function y2(e,n){if(e&1&&(Io(0),Ae(1,b2,1,0,null,11),Fo()),e&2){let t=dt(7);et(),At("ngTemplateOutlet",t._maximizeiconTemplate||t.maximizeIconTemplate||t.maximizeIconT)}}function w2(e,n){}function x2(e,n){e&1&&Ae(0,w2,0,0,"ng-template")}function C2(e,n){if(e&1&&(Io(0),Ae(1,x2,1,0,null,11),Fo()),e&2){let t=dt(7);et(),At("ngTemplateOutlet",t._minimizeiconTemplate||t.minimizeIconTemplate||t.minimizeIconT)}}function S2(e,n){if(e&1&&Ae(0,p2,1,1,"span",21)(1,v2,3,2,"ng-container",22)(2,y2,2,1,"ng-container",22)(3,C2,2,1,"ng-container",22),e&2){let t=dt(6);At("ngIf",t.maximizeIcon&&!t._maximizeiconTemplate&&!t._minimizeiconTemplate),et(),At("ngIf",!t.maximizeIcon&&!(t.maximizeButtonProps!=null&&t.maximizeButtonProps.icon)),et(),At("ngIf",!t.maximized),et(),At("ngIf",t.maximized)}}function P2(e,n){if(e&1){let t=Ee();Z(0,"p-button",20),ee("onClick",function(){Jt(t);let r=dt(5);return Qt(r.maximize())})("keydown.enter",function(){Jt(t);let r=dt(5);return Qt(r.maximize())}),Ae(1,S2,4,4,"ng-template",null,4,io),G()}if(e&2){let t=dt(5);At("pt",t.ptm("pcMaximizeButton"))("styleClass",t.cx("pcMaximizeButton"))("ariaLabel",t.maximized?t.minimizeLabel:t.maximizeLabel)("tabindex",t.maximizable?"0":"-1")("buttonProps",t.maximizeButtonProps)}}function M2(e,n){if(e&1&&Je(0,"span"),e&2){let t=dt(8);ar(t.closeIcon)}}function A2(e,n){e&1&&(la(),Je(0,"svg",30))}function D2(e,n){if(e&1&&(Io(0),Ae(1,M2,1,2,"span",28)(2,A2,1,0,"svg",29),Fo()),e&2){let t=dt(7);et(),At("ngIf",t.closeIcon),et(),At("ngIf",!t.closeIcon)}}function N2(e,n){}function k2(e,n){e&1&&Ae(0,N2,0,0,"ng-template")}function L2(e,n){if(e&1&&(Z(0,"span"),Ae(1,k2,1,0,null,11),G()),e&2){let t=dt(7);et(),At("ngTemplateOutlet",t._closeiconTemplate||t.closeIconTemplate||t.closeIconT)}}function E2(e,n){if(e&1&&Ae(0,D2,3,2,"ng-container",22)(1,L2,2,1,"span",22),e&2){let t=dt(6);At("ngIf",!t._closeiconTemplate&&!t.closeIconTemplate&&!t.closeIconT&&!(t.closeButtonProps!=null&&t.closeButtonProps.icon)),et(),At("ngIf",t._closeiconTemplate||t.closeIconTemplate||t.closeIconT)}}function O2(e,n){if(e&1){let t=Ee();Z(0,"p-button",20),ee("onClick",function(r){Jt(t);let a=dt(5);return Qt(a.close(r))})("keydown.enter",function(r){Jt(t);let a=dt(5);return Qt(a.close(r))}),Ae(1,E2,2,2,"ng-template",null,4,io),G()}if(e&2){let t=dt(5);At("pt",t.ptm("pcCloseButton"))("styleClass",t.cx("pcCloseButton"))("ariaLabel",t.closeAriaLabel)("tabindex",t.closeTabindex)("buttonProps",t.closeButtonProps)}}function T2(e,n){if(e&1){let t=Ee();Z(0,"div",15,3),ee("mousedown",function(r){Jt(t);let a=dt(4);return Qt(a.initDrag(r))}),Ae(2,h2,2,5,"span",16)(3,f2,1,0,"ng-container",11),Z(4,"div",17),Ae(5,P2,3,5,"p-button",18)(6,O2,3,5,"p-button",18),G()()}if(e&2){let t=dt(4);ar(t.cx("header")),At("pBind",t.ptm("header")),et(2),At("ngIf",!t._headerTemplate&&!t.headerTemplate&&!t.headerT),et(),At("ngTemplateOutlet",t._headerTemplate||t.headerTemplate||t.headerT),et(),ar(t.cx("headerActions")),At("pBind",t.ptm("headerActions")),et(),At("ngIf",t.maximizable),et(),At("ngIf",t.closable)}}function I2(e,n){e&1&&zs(0)}function F2(e,n){e&1&&zs(0)}function R2(e,n){if(e&1&&(Z(0,"div",17,5),eu(2,1),Ae(3,F2,1,0,"ng-container",11),G()),e&2){let t=dt(4);ar(t.cx("footer")),At("pBind",t.ptm("footer")),et(3),At("ngTemplateOutlet",t._footerTemplate||t.footerTemplate||t.footerT)}}function B2(e,n){if(e&1&&(Ae(0,u2,1,5,"div",12)(1,T2,7,10,"div",13),Z(2,"div",7,2),eu(4),Ae(5,I2,1,0,"ng-container",11),G(),Ae(6,R2,4,4,"div",14)),e&2){let t=dt(3);At("ngIf",t.resizable),et(),At("ngIf",t.showHeader),et(),ar(t.cn(t.cx("content"),t.contentStyleClass)),At("ngStyle",t.contentStyle)("pBind",t.ptm("content")),et(3),At("ngTemplateOutlet",t._contentTemplate||t.contentTemplate||t.contentT),et(),At("ngIf",t._footerTemplate||t.footerTemplate||t.footerT)}}function z2(e,n){if(e&1){let t=Ee();Z(0,"div",9,0),ee("@animation.start",function(r){Jt(t);let a=dt(2);return Qt(a.onAnimationStart(r))})("@animation.done",function(r){Jt(t);let a=dt(2);return Qt(a.onAnimationEnd(r))}),Ae(2,d2,2,1,"ng-container",10)(3,B2,7,8,"ng-template",null,1,io),G()}if(e&2){let t=Pf(4),i=dt(2);no(i.sx("root")),ar(i.cn(i.cx("root"),i.styleClass)),At("ngStyle",i.style)("pBind",i.ptm("root"))("pFocusTrapDisabled",i.focusTrap===!1)("@animation",Df(16,l2,Nf(13,s2,i.transformOptions,i.transitionOptions))),Er("role",i.role)("aria-labelledby",i.ariaLabelledBy)("aria-modal",!0),et(2),At("ngIf",i._headlessTemplate||i.headlessTemplate||i.headlessT)("ngIfElse",t)}}function j2(e,n){if(e&1&&(Z(0,"div",7),Ae(1,z2,5,18,"div",8),G()),e&2){let t=dt();no(t.sx("mask")),ar(t.cn(t.cx("mask"),t.maskStyleClass)),At("ngStyle",t.maskStyle)("pBind",t.ptm("mask")),et(),At("ngIf",t.visible)}}var q2={mask:({instance:e})=>({position:"fixed",height:"100%",width:"100%",left:0,top:0,display:"flex",justifyContent:e.position==="left"||e.position==="topleft"||e.position==="bottomleft"?"flex-start":e.position==="right"||e.position==="topright"||e.position==="bottomright"?"flex-end":"center",alignItems:e.position==="top"||e.position==="topleft"||e.position==="topright"?"flex-start":e.position==="bottom"||e.position==="bottomleft"||e.position==="bottomright"?"flex-end":"center",pointerEvents:e.modal?"auto":"none"}),root:{display:"flex",flexDirection:"column",pointerEvents:"auto"}},U2={mask:({instance:e})=>{let t=["left","right","top","topleft","topright","bottom","bottomleft","bottomright"].find(i=>i===e.position);return["p-dialog-mask",{"p-overlay-mask p-overlay-mask-enter":e.modal},t?`p-dialog-${t}`:""]},root:({instance:e})=>["p-dialog p-component",{"p-dialog-maximized":e.maximizable&&e.maximized}],header:"p-dialog-header",title:"p-dialog-title",resizeHandle:"p-resizable-handle",headerActions:"p-dialog-header-actions",pcMaximizeButton:"p-dialog-maximize-button",pcCloseButton:"p-dialog-close-button",content:()=>["p-dialog-content"],footer:"p-dialog-footer"},i0=(()=>{class e extends Uf{name="dialog";style=t0;classes=U2;inlineStyles=q2;static \u0275fac=(()=>{let t;return function(r){return(t||(t=Lr(e)))(r||e)}})();static \u0275prov=oi({token:e,factory:e.\u0275fac})}return e})();var r0=new _f("DIALOG_INSTANCE"),H2=ou([ru({transform:"{{transform}}",opacity:0}),iu("{{transition}}")]),V2=ou([iu("{{transition}}",ru({transform:"{{transform}}",opacity:0}))]),Ws=(()=>{class e extends wc{hostName="";$pcDialog=sa(r0,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=sa(Us,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("host"))}header;draggable=!0;resizable=!0;contentStyle;contentStyleClass;modal=!1;closeOnEscape=!0;dismissableMask=!1;rtl=!1;closable=!0;breakpoints;styleClass;maskStyleClass;maskStyle;showHeader=!0;blockScroll=!1;autoZIndex=!0;baseZIndex=0;minX=0;minY=0;focusOnShow=!0;maximizable=!1;keepInViewport=!0;focusTrap=!0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";closeIcon;closeAriaLabel;closeTabindex="0";minimizeIcon;maximizeIcon;closeButtonProps={severity:"secondary",variant:"text",rounded:!0};maximizeButtonProps={severity:"secondary",variant:"text",rounded:!0};get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(t){t&&(this._style=xe({},t),this.originalStyle=t)}get position(){return this._position}set position(t){switch(this._position=t,t){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)";break}}role="dialog";appendTo=kf(void 0);onShow=new ca;onHide=new ca;visibleChange=new ca;onResizeInit=new ca;onResizeEnd=new ca;onDragEnd=new ca;onMaximize=new ca;headerViewChild;contentViewChild;footerViewChild;headerTemplate;contentTemplate;footerTemplate;closeIconTemplate;maximizeIconTemplate;minimizeIconTemplate;headlessTemplate;_headerTemplate;_contentTemplate;_footerTemplate;_closeiconTemplate;_maximizeiconTemplate;_minimizeiconTemplate;_headlessTemplate;$appendTo=ti(()=>this.appendTo()||this.config.overlayAppendTo());_visible=!1;maskVisible;container;wrapper;dragging;ariaLabelledBy=this.getAriaLabelledBy();documentDragListener;documentDragEndListener;resizing;documentResizeListener;documentResizeEndListener;documentEscapeListener;maskClickListener;lastPageX;lastPageY;preventVisibleChangePropagation;maximized;preMaximizeContentHeight;preMaximizeContainerWidth;preMaximizeContainerHeight;preMaximizePageX;preMaximizePageY;id=ro("pn_id_");_style={};_position="center";originalStyle;transformOptions="scale(0.7)";styleElement;window;_componentStyle=sa(i0);headerT;contentT;footerT;closeIconT;maximizeIconT;minimizeIconT;headlessT;zIndexForLayering;get maximizeLabel(){return this.config.getTranslation(hu.ARIA).maximizeLabel}get minimizeLabel(){return this.config.getTranslation(hu.ARIA).minimizeLabel}zone=sa(wf);get maskClass(){let i=["left","right","top","topleft","topright","bottom","bottomleft","bottomright"].find(r=>r===this.position);return{"p-dialog-mask":!0,"p-overlay-mask p-overlay-mask-enter":this.modal||this.dismissableMask,[`p-dialog-${i}`]:i}}onInit(){this.breakpoints&&this.createStyle()}templates;onAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"header":this.headerT=t.template;break;case"content":this.contentT=t.template;break;case"footer":this.footerT=t.template;break;case"closeicon":this.closeIconT=t.template;break;case"maximizeicon":this.maximizeIconT=t.template;break;case"minimizeicon":this.minimizeIconT=t.template;break;case"headless":this.headlessT=t.template;break;default:this.contentT=t.template;break}})}getAriaLabelledBy(){return this.header!==null?ro("pn_id_")+"_header":null}parseDurationToMilliseconds(t){let i=/([\d\.]+)(ms|s)\b/g,r=0,a;for(;(a=i.exec(t))!==null;){let l=parseFloat(a[1]),s=a[2];s==="ms"?r+=l:s==="s"&&(r+=l*1e3)}if(r!==0)return r}_focus(t){if(t){let i=this.parseDurationToMilliseconds(this.transitionOptions),r=Vf.getFocusableElements(t);if(r&&r.length>0)return this.zone.runOutsideAngular(()=>{setTimeout(()=>r[0].focus(),i||5)}),!0}return!1}focus(t=this.contentViewChild?.nativeElement){let i=this._focus(t);i||(i=this._focus(this.footerViewChild?.nativeElement),i||(i=this._focus(this.headerViewChild?.nativeElement),i||this._focus(this.contentViewChild?.nativeElement)))}close(t){this.visibleChange.emit(!1),t.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",t=>{this.wrapper&&this.wrapper.isSameNode(t.target)&&this.close(t)})),this.modal&&fu()}disableModality(){if(this.wrapper){this.dismissableMask&&this.unbindMaskClickListener();let t=document.querySelectorAll(".p-dialog-mask-scrollblocker");this.modal&&t&&t.length==1&&pu(),this.cd.destroyed||this.cd.detectChanges()}}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?fu():pu()),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex?(Bo.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1)):this.zIndexForLayering=Bo.generateZIndex("modal",(this.baseZIndex??0)+this.config.zIndex.modal)}createStyle(){if(js(this.platformId)&&!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",uu(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement);let t="";for(let i in this.breakpoints)t+=`
                        @media screen and (max-width: ${i}) {
                            .p-dialog[${this.id}]:not(.p-dialog-maximized) {
                                width: ${this.breakpoints[i]} !important;
                            }
                        }
                    `;this.renderer.setProperty(this.styleElement,"innerHTML",t),uu(this.styleElement,"nonce",this.config?.csp()?.nonce)}}initDrag(t){qs(t.target,"p-dialog-maximize-icon")||qs(t.target,"p-dialog-header-close-icon")||qs(t.target?.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,this.container.style.margin="0",vc(this.document.body,"p-unselectable-text"))}onDrag(t){if(this.dragging&&this.container){let i=cu(this.container),r=bc(this.container),a=t.pageX-this.lastPageX,l=t.pageY-this.lastPageY,s=this.container.getBoundingClientRect(),d=getComputedStyle(this.container),u=parseFloat(d.marginLeft),f=parseFloat(d.marginTop),v=s.left+a-u,_=s.top+l-f,g=lu();this.container.style.position="fixed",this.keepInViewport?(v>=this.minX&&v+i<g.width&&(this._style.left=`${v}px`,this.lastPageX=t.pageX,this.container.style.left=`${v}px`),_>=this.minY&&_+r<g.height&&(this._style.top=`${_}px`,this.lastPageY=t.pageY,this.container.style.top=`${_}px`)):(this.lastPageX=t.pageX,this.container.style.left=`${v}px`,this.lastPageY=t.pageY,this.container.style.top=`${_}px`)}}endDrag(t){this.dragging&&(this.dragging=!1,_c(this.document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(t))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(t){this.resizable&&(this.resizing=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,vc(this.document.body,"p-unselectable-text"),this.onResizeInit.emit(t))}onResize(t){if(this.resizing){let i=t.pageX-this.lastPageX,r=t.pageY-this.lastPageY,a=cu(this.container),l=bc(this.container),s=bc(this.contentViewChild?.nativeElement),d=a+i,u=l+r,f=this.container.style.minWidth,v=this.container.style.minHeight,_=this.container.getBoundingClientRect(),g=lu();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(d+=i,u+=r),(!f||d>parseInt(f))&&_.left+d<g.width&&(this._style.width=d+"px",this.container.style.width=this._style.width),(!v||u>parseInt(v))&&_.top+u<g.height&&(this.contentViewChild.nativeElement.style.height=s+u-l+"px",this._style.height&&(this._style.height=u+"px",this.container.style.height=this._style.height)),this.lastPageX=t.pageX,this.lastPageY=t.pageY}}resizeEnd(t){this.resizing&&(this.resizing=!1,_c(this.document.body,"p-unselectable-text"),this.onResizeEnd.emit(t))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.documentDragListener||this.zone.runOutsideAngular(()=>{this.documentDragListener=this.renderer.listen(this.document.defaultView,"mousemove",this.onDrag.bind(this))})}unbindDocumentDragListener(){this.documentDragListener&&(this.documentDragListener(),this.documentDragListener=null)}bindDocumentDragEndListener(){this.documentDragEndListener||this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.renderer.listen(this.document.defaultView,"mouseup",this.endDrag.bind(this))})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(this.documentDragEndListener(),this.documentDragEndListener=null)}bindDocumentResizeListeners(){!this.documentResizeListener&&!this.documentResizeEndListener&&this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.renderer.listen(this.document.defaultView,"mousemove",this.onResize.bind(this)),this.documentResizeEndListener=this.renderer.listen(this.document.defaultView,"mouseup",this.resizeEnd.bind(this))})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(this.documentResizeListener(),this.documentResizeEndListener(),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){let t=this.el?this.el.nativeElement.ownerDocument:"document";this.documentEscapeListener=this.renderer.listen(t,"keydown",i=>{if(i.key=="Escape"){let r=Bo.getCurrent();(parseInt(this.container.style.zIndex)==r||this.zIndexForLayering==r)&&this.close(i)}})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.$appendTo()&&this.$appendTo()!=="self"&&(this.$appendTo()==="body"?this.renderer.appendChild(this.document.body,this.wrapper):Bf(this.$appendTo(),this.wrapper))}restoreAppend(){this.container&&this.$appendTo()!=="self"&&this.renderer.appendChild(this.el.nativeElement,this.wrapper)}onAnimationStart(t){switch(t.toState){case"visible":this.container=t.element,this.wrapper=this.container?.parentElement,this.$attrSelector&&this.container?.setAttribute(this.$attrSelector,""),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container?.setAttribute(this.id,""),this.modal&&this.enableModality(),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&vc(this.wrapper,"p-overlay-mask-leave");break}}onAnimationEnd(t){switch(t.toState){case"void":this.onContainerDestroy(),this.onHide.emit({}),this.cd.markForCheck(),this.maskVisible!==this.visible&&(this.maskVisible=this.visible);break;case"visible":this.onShow.emit({});break}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(this.document.body.style.removeProperty("--scrollbar;-width"),this.maximized=!1),this.modal&&this.disableModality(),qs(this.document.body,"p-overflow-hidden")&&_c(this.document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&Bo.clear(this.container),this.zIndexForLayering&&Bo.revertZIndex(this.zIndexForLayering),this.container=null,this.wrapper=null,this._style=this.originalStyle?xe({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}onDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Lr(e)))(r||e)}})();static \u0275cmp=Dn({type:e,selectors:[["p-dialog"]],contentQueries:function(i,r,a){if(i&1&&(Ir(a,Qg,4),Ir(a,e0,4),Ir(a,n0,4),Ir(a,t2,4),Ir(a,e2,4),Ir(a,n2,4),Ir(a,i2,4),Ir(a,Ii,4)),i&2){let l;Hn(l=Vn())&&(r._headerTemplate=l.first),Hn(l=Vn())&&(r._contentTemplate=l.first),Hn(l=Vn())&&(r._footerTemplate=l.first),Hn(l=Vn())&&(r._closeiconTemplate=l.first),Hn(l=Vn())&&(r._maximizeiconTemplate=l.first),Hn(l=Vn())&&(r._minimizeiconTemplate=l.first),Hn(l=Vn())&&(r._headlessTemplate=l.first),Hn(l=Vn())&&(r.templates=l)}},viewQuery:function(i,r){if(i&1&&(ua(r2,5),ua(e0,5),ua(n0,5)),i&2){let a;Hn(a=Vn())&&(r.headerViewChild=a.first),Hn(a=Vn())&&(r.contentViewChild=a.first),Hn(a=Vn())&&(r.footerViewChild=a.first)}},inputs:{hostName:"hostName",header:"header",draggable:[2,"draggable","draggable",Rn],resizable:[2,"resizable","resizable",Rn],contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:[2,"modal","modal",Rn],closeOnEscape:[2,"closeOnEscape","closeOnEscape",Rn],dismissableMask:[2,"dismissableMask","dismissableMask",Rn],rtl:[2,"rtl","rtl",Rn],closable:[2,"closable","closable",Rn],breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",maskStyle:"maskStyle",showHeader:[2,"showHeader","showHeader",Rn],blockScroll:[2,"blockScroll","blockScroll",Rn],autoZIndex:[2,"autoZIndex","autoZIndex",Rn],baseZIndex:[2,"baseZIndex","baseZIndex",sc],minX:[2,"minX","minX",sc],minY:[2,"minY","minY",sc],focusOnShow:[2,"focusOnShow","focusOnShow",Rn],maximizable:[2,"maximizable","maximizable",Rn],keepInViewport:[2,"keepInViewport","keepInViewport",Rn],focusTrap:[2,"focusTrap","focusTrap",Rn],transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",closeButtonProps:"closeButtonProps",maximizeButtonProps:"maximizeButtonProps",visible:"visible",style:"style",position:"position",role:"role",appendTo:[1,"appendTo"],headerTemplate:[0,"content","headerTemplate"],contentTemplate:"contentTemplate",footerTemplate:"footerTemplate",closeIconTemplate:"closeIconTemplate",maximizeIconTemplate:"maximizeIconTemplate",minimizeIconTemplate:"minimizeIconTemplate",headlessTemplate:"headlessTemplate"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},features:[or([i0,{provide:r0,useExisting:e},{provide:Hf,useExisting:e}]),Cf([Us]),da],ngContentSelectors:o2,decls:1,vars:1,consts:[["container",""],["notHeadless",""],["content",""],["titlebar",""],["icon",""],["footer",""],[3,"class","style","ngStyle","pBind",4,"ngIf"],[3,"ngStyle","pBind"],["pFocusTrap","",3,"class","style","ngStyle","pBind","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","",3,"ngStyle","pBind","pFocusTrapDisabled"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],[3,"class","pBind","z-index","mousedown",4,"ngIf"],[3,"class","pBind","mousedown",4,"ngIf"],[3,"class","pBind",4,"ngIf"],[3,"mousedown","pBind"],[3,"id","class","pBind",4,"ngIf"],[3,"pBind"],[3,"pt","styleClass","ariaLabel","tabindex","buttonProps","onClick","keydown.enter",4,"ngIf"],[3,"id","pBind"],[3,"onClick","keydown.enter","pt","styleClass","ariaLabel","tabindex","buttonProps"],[3,"ngClass",4,"ngIf"],[4,"ngIf"],[3,"ngClass"],["data-p-icon","window-maximize",4,"ngIf"],["data-p-icon","window-minimize",4,"ngIf"],["data-p-icon","window-maximize"],["data-p-icon","window-minimize"],[3,"class",4,"ngIf"],["data-p-icon","times",4,"ngIf"],["data-p-icon","times"]],template:function(i,r){i&1&&(Sf(a2),Ae(0,j2,2,7,"div",6)),i&2&&At("ngIf",r.maskVisible)},dependencies:[si,lc,Ef,Of,cc,Fi,Qf,Wf,Xf,Kf,yc,Us],encapsulation:2,data:{animation:[Tf("animation",[au("void => visible",[su(H2)]),au("visible => void",[su(V2)])])]},changeDetection:0})}return e})(),qo=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Qa({type:e});static \u0275inj=Ka({imports:[Ws,yc,yc]})}return e})();var Uo=class e{constructor(n){this.couchdbService=n}static CUSTOMERS_DOC_ID="MCM_CUSTOMERS";customersDocument=null;getCustomers(){return this.couchdbService.getDocument(e.CUSTOMERS_DOC_ID).pipe(Eo(n=>(this.customersDocument=n,(n.customers||[]).map(i=>_i(xe({},i),{isActive:i.isActive!==void 0?i.isActive:!0})))),tc(n=>{if(n.status===404)return kr([]);throw n}))}saveCustomers(n){let t={customers:n,updatedAt:new Date().toISOString()};return this.customersDocument?._rev&&(t._rev=this.customersDocument._rev),this.couchdbService.putDocument(e.CUSTOMERS_DOC_ID,t).pipe(Eo(i=>(this.customersDocument||(this.customersDocument={_id:e.CUSTOMERS_DOC_ID,customers:n,updatedAt:t.updatedAt}),this.customersDocument._rev=i.rev,i)))}static \u0275fac=function(t){return new(t||e)(Ja(Sc))};static \u0275prov=oi({token:e,factory:e.\u0275fac,providedIn:"root"})};var G2=()=>({width:"90vw",maxWidth:"500px"});function Z2(e,n){e&1&&(Z(0,"tr")(1,"th"),Ct(2,"Cust No"),G(),Z(3,"th"),Ct(4,"Name"),G(),Z(5,"th"),Ct(6,"Village"),G(),Z(7,"th"),Ct(8,"Mobile"),G(),Z(9,"th"),Ct(10,"Status"),G()())}function X2(e,n){if(e&1){let t=Ee();Z(0,"tr")(1,"td")(2,"div",20),Ct(3),Z(4,"i",21),ee("click",function(){let r=Jt(t).$implicit,a=dt();return Qt(a.openEditCustomerDialog(r))}),G()()(),Z(5,"td"),Ct(6),G(),Z(7,"td"),Ct(8),G(),Z(9,"td"),Ct(10),G(),Z(11,"td"),Ct(12),G()()}if(e&2){let t=n.$implicit;et(3),Fn(" ",t.custNo," "),et(3),ye(t.name_en),et(2),ye(t.village),et(2),ye(t.mobileNo||""),et(2),ye(t.isActive!==!1?"ACTIVE":"")}}function K2(e,n){if(e&1){let t=Ee();Z(0,"div",22)(1,"p-button",23),ee("click",function(){Jt(t);let r=dt();return Qt(r.closeDialog())}),G(),Z(2,"p-button",24),ee("click",function(){Jt(t);let r=dt();return Qt(r.saveCustomer())}),G()()}if(e&2){let t=dt();et(),At("outlined",!0),et(),At("label",t.isEditMode?"Save":"Add")("icon",t.isEditMode?"pi pi-check":"pi pi-plus")}}var Ec=class e{constructor(n,t,i,r){this.customerService=n;this.messageService=t;this.authService=i;this.router=r}customers=Yt([]);loading=Yt(!1);saving=Yt(!1);showDialog=!1;isEditMode=!1;editingCustomerIndex=-1;newCustomer={custNo:0,name_tel:"",name_en:"",village:"",mobileNo:"",isActive:!0};nameDisplayOptions=[{label:"en",value:"en"},{label:"tel",value:"tel"}];selectedNameDisplay="en";goToHome(){this.authService.isAdmin()?this.router.navigate(["/"]):this.router.navigate(["/mcm"])}goToMainHome(){this.router.navigate(["/"])}ngOnInit(){this.loadCustomers()}loadCustomers(){this.loading.set(!0),this.customerService.getCustomers().subscribe({next:n=>{this.loading.set(!1),this.customers.set(n),n.length===0&&this.messageService.add({severity:"info",summary:"No Data",detail:"No customers found in database.",life:3e3})},error:n=>{this.loading.set(!1),this.customers.set([]),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load customers",life:3e3})}})}saveCustomers(){this.saving.set(!0),this.customerService.saveCustomers(this.customers()).subscribe({next:n=>{this.saving.set(!1),this.messageService.add({severity:"success",summary:"Success",detail:"Customers saved successfully",life:3e3})},error:n=>{this.saving.set(!1),this.messageService.add({severity:"error",summary:"Error",detail:n.error?.reason||"Failed to save customers",life:3e3})}})}openAddCustomerDialog(){let n=this.customers().reduce((t,i)=>Math.max(t,i.custNo),0);this.isEditMode=!1,this.editingCustomerIndex=-1,this.newCustomer={custNo:n+1,name_tel:"",name_en:"",village:"",mobileNo:"",isActive:!0},this.showDialog=!0}openEditCustomerDialog(n){this.isEditMode=!0,this.editingCustomerIndex=this.customers().findIndex(t=>t.custNo===n.custNo),this.newCustomer=xe({},n),this.showDialog=!0}closeDialog(){this.showDialog=!1,this.isEditMode=!1,this.editingCustomerIndex=-1}saveCustomer(){this.isEditMode?this.updateCustomer():this.addCustomer()}addCustomer(){if(!this.newCustomer.name_en.trim()){this.messageService.add({severity:"warn",summary:"Validation Error",detail:"Please enter customer name",life:3e3});return}if(!this.newCustomer.village.trim()){this.messageService.add({severity:"warn",summary:"Validation Error",detail:"Please enter village",life:3e3});return}let n=this.customers(),t=[...n,xe({},this.newCustomer)];this.customers.set(t),this.saving.set(!0),this.customerService.saveCustomers(t).subscribe({next:i=>{this.saving.set(!1),this.messageService.add({severity:"success",summary:"Success",detail:"Customer added and saved successfully",life:3e3}),this.closeDialog()},error:i=>{this.saving.set(!1),this.customers.set(n),this.messageService.add({severity:"error",summary:"Error",detail:i.error?.reason||"Failed to save customer",life:3e3})}})}updateCustomer(){if(this.editingCustomerIndex===-1)return;let n=this.customers(),t=[...n];t[this.editingCustomerIndex]=xe({},this.newCustomer),this.customers.set(t),this.saving.set(!0),this.customerService.saveCustomers(t).subscribe({next:i=>{this.saving.set(!1),this.messageService.add({severity:"success",summary:"Success",detail:"Customer updated successfully",life:3e3}),this.closeDialog()},error:i=>{this.saving.set(!1),this.customers.set(n),this.messageService.add({severity:"error",summary:"Error",detail:i.error?.reason||"Failed to update customer",life:3e3})}})}static \u0275fac=function(t){return new(t||e)(Le(Uo),Le(Wn),Le(pc),Le(ha))};static \u0275cmp=Dn({type:e,selectors:[["app-customer-view"]],features:[or([Wn])],decls:40,vars:19,consts:[[1,"customer-container"],[1,"customer-header"],["icon","pi pi-home","severity","secondary",3,"onClick","outlined"],[1,"header-controls"],["label","Add Customer","icon","pi pi-plus","severity","success",3,"click"],[1,"table-wrapper"],["styleClass","p-datatable-gridlines p-datatable-sm",3,"value"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","modal","closable","header"],[1,"dialog-content"],[1,"form-field"],["type","number","readonly","",1,"form-input",3,"ngModelChange","ngModel"],["type","text","placeholder","Enter name in English",1,"form-input",3,"ngModelChange","ngModel","readonly"],["type","text","placeholder","Enter village",1,"form-input",3,"ngModelChange","ngModel","readonly"],["type","tel","placeholder","Enter mobile number",1,"form-input",3,"ngModelChange","ngModel"],[1,"form-field","status-field"],[1,"checkbox-label"],["type","radio","name","customerStatus",3,"ngModelChange","value","ngModel"],["pTemplate","footer"],[1,"custno-cell"],[1,"pi","pi-pencil","edit-icon",3,"click"],[1,"dialog-footer"],["label","Cancel","severity","secondary",3,"click","outlined"],["severity","success",3,"click","label","icon"]],template:function(t,i){t&1&&(Z(0,"div",0),Je(1,"p-toast"),Z(2,"div",1)(3,"p-button",2),ee("onClick",function(){return i.goToMainHome()}),G(),Z(4,"h2"),Ct(5,"Customers"),G(),Z(6,"div",3)(7,"p-button",4),ee("click",function(){return i.openAddCustomerDialog()}),G()()(),Z(8,"div",5)(9,"p-table",6),Ae(10,Z2,11,0,"ng-template",7)(11,X2,13,5,"ng-template",8),G()(),Z(12,"p-dialog",9),Ti("visibleChange",function(a){return Oi(i.showDialog,a)||(i.showDialog=a),a}),Z(13,"div",10)(14,"div",11)(15,"label"),Ct(16,"Customer No"),G(),Z(17,"input",12),Ti("ngModelChange",function(a){return Oi(i.newCustomer.custNo,a)||(i.newCustomer.custNo=a),a}),G()(),Z(18,"div",11)(19,"label"),Ct(20,"Name (English)"),G(),Z(21,"input",13),Ti("ngModelChange",function(a){return Oi(i.newCustomer.name_en,a)||(i.newCustomer.name_en=a),a}),G()(),Z(22,"div",11)(23,"label"),Ct(24,"Village"),G(),Z(25,"input",14),Ti("ngModelChange",function(a){return Oi(i.newCustomer.village,a)||(i.newCustomer.village=a),a}),G()(),Z(26,"div",11)(27,"label"),Ct(28,"Mobile Number"),G(),Z(29,"input",15),Ti("ngModelChange",function(a){return Oi(i.newCustomer.mobileNo,a)||(i.newCustomer.mobileNo=a),a}),G()(),Z(30,"div",16)(31,"label",17)(32,"input",18),Ti("ngModelChange",function(a){return Oi(i.newCustomer.isActive,a)||(i.newCustomer.isActive=a),a}),G(),Z(33,"span"),Ct(34,"Active"),G()(),Z(35,"label",17)(36,"input",18),Ti("ngModelChange",function(a){return Oi(i.newCustomer.isActive,a)||(i.newCustomer.isActive=a),a}),G(),Z(37,"span"),Ct(38,"Inactive"),G()()()(),Ae(39,K2,3,3,"ng-template",19),G()()),t&2&&(et(3),At("outlined",!0),et(6),At("value",i.customers()),et(3),no(Qn(18,G2)),Ei("visible",i.showDialog),At("modal",!0)("closable",!0)("header",i.isEditMode?"Edit Customer":"Add New Customer"),et(5),Ei("ngModel",i.newCustomer.custNo),et(4),Ei("ngModel",i.newCustomer.name_en),At("readonly",i.isEditMode),et(4),Ei("ngModel",i.newCustomer.village),At("readonly",i.isEditMode),et(4),Ei("ngModel",i.newCustomer.mobileNo),et(3),At("value",!0),Ei("ngModel",i.newCustomer.isActive),et(4),At("value",!1),Ei("ngModel",i.newCustomer.isActive))},dependencies:[si,Bi,sr,Ii,jo,Ri,Fi,fa,If,Ff,Rf,gc,mc,pa,zo,qo,Ws],styles:[".customer-container[_ngcontent-%COMP%]{padding:1rem}@media (max-width: 768px){.customer-container[_ngcontent-%COMP%]{padding:.5rem}}.customer-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;flex-wrap:wrap;gap:1rem;position:relative}.customer-header[_ngcontent-%COMP%]   .home-button[_ngcontent-%COMP%]{flex-shrink:0}.customer-header[_ngcontent-%COMP%]   .home-button[_ngcontent-%COMP%]     .p-button{color:#1565c0;border-color:#1565c0}.customer-header[_ngcontent-%COMP%]   .home-button[_ngcontent-%COMP%]     .p-button:hover{background-color:#1565c0;border-color:#1565c0;color:#fff}.customer-header[_ngcontent-%COMP%]   .home-button[_ngcontent-%COMP%]     .p-button .pi{color:#1565c0;font-size:1.2rem}.customer-header[_ngcontent-%COMP%]   .home-button[_ngcontent-%COMP%]     .p-button:hover .pi{color:#fff}.customer-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;position:absolute;left:50%;transform:translate(-50%);font-weight:600}@media (max-width: 768px){.customer-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;position:static;transform:none;flex:1;text-align:center}}.customer-header[_ngcontent-%COMP%]   .header-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex-wrap:wrap}@media (max-width: 768px){.customer-header[_ngcontent-%COMP%]   .header-controls[_ngcontent-%COMP%]{gap:.5rem}}@media (max-width: 768px){.customer-header[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.customer-header[_ngcontent-%COMP%]   .name-toggle[_ngcontent-%COMP%]{width:auto}}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.table-wrapper[_ngcontent-%COMP%]   .table-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:1rem;padding:0 .25rem}@media (max-width: 768px){.table-wrapper[_ngcontent-%COMP%]   .table-actions[_ngcontent-%COMP%]{justify-content:stretch}.table-wrapper[_ngcontent-%COMP%]   .table-actions[_ngcontent-%COMP%]     .p-button{width:100%}}.table-wrapper[_ngcontent-%COMP%]   .custno-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.table-wrapper[_ngcontent-%COMP%]   .custno-cell[_ngcontent-%COMP%]   .edit-icon[_ngcontent-%COMP%]{color:#1976d2;cursor:pointer;font-size:.9rem;transition:color .2s}.table-wrapper[_ngcontent-%COMP%]   .custno-cell[_ngcontent-%COMP%]   .edit-icon[_ngcontent-%COMP%]:hover{color:#1565c0}.table-wrapper[_ngcontent-%COMP%]     .p-datatable td{white-space:nowrap}@media (min-width: 769px){.table-wrapper[_ngcontent-%COMP%]     .p-datatable{width:min-content}}@media (max-width: 768px){.table-wrapper[_ngcontent-%COMP%]     .p-datatable{font-size:.85rem}.table-wrapper[_ngcontent-%COMP%]     .p-datatable th, .table-wrapper[_ngcontent-%COMP%]     .p-datatable td{padding:.75rem .5rem}}[_nghost-%COMP%]     .small-select-button .p-button{padding:.25rem .5rem;font-size:.875rem}.dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem;padding:.5rem 0}.dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:.95rem;color:#333}.dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #d1d5db;border-radius:6px;font-size:1rem;width:100%;box-sizing:border-box;transition:border-color .2s}.dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:read-only{background-color:#f3f4f6;cursor:not-allowed}@media (max-width: 768px){.dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{font-size:16px;padding:.85rem}}.dialog-content[_ngcontent-%COMP%]   .form-field.status-field[_ngcontent-%COMP%]{flex-direction:row;gap:1.5rem}.dialog-content[_ngcontent-%COMP%]   .form-field.status-field[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;font-weight:400}.dialog-content[_ngcontent-%COMP%]   .form-field.status-field[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer}.dialog-content[_ngcontent-%COMP%]   .form-field.status-field[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem}.dialog-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem}@media (max-width: 768px){.dialog-footer[_ngcontent-%COMP%]{flex-direction:column-reverse;gap:.5rem}.dialog-footer[_ngcontent-%COMP%]     .p-button{width:100%;justify-content:center}}"]})};var tn=["Vibhalapuram","Mamillagudem","Kothagudem"],Oc=[{custNo:1,name_tel:"A. \u0C2F\u0C32\u0C4D\u0C32\u0C3E \u0C30\u0C46\u0C21\u0C3F",name_en:"A. Yalla Reddy",village:tn[0]},{custNo:2,name_tel:"A.\u0C2F\u0C3E\u0C26\u0C17\u0C3F\u0C30\u0C3F",name_en:"A. Yadagiri",village:tn[1]},{custNo:3,name_tel:"CH.\u0C32\u0C15\u0C4D\u0C37\u0C4D\u0C2E\u0C3F",name_en:"CH. Lakshmi",village:tn[2]},{custNo:4,name_tel:"D.\u0C30\u0C3E\u0C2E\u0C41\u0C32\u0C41",name_en:"D. Ramulu",village:tn[0]},{custNo:5,name_tel:"G. \u0C17\u0C4C\u0C30\u0C2E\u0C4D\u0C2E",name_en:"G. Gouramma",village:tn[1]},{custNo:6,name_tel:"G. \u0C2E\u0C02\u0C17\u0C2E\u0C4D\u0C2E",name_en:"G. Mangamma",village:tn[2]},{custNo:7,name_tel:"g. \u0C39\u0C28\u0C41\u0C2E\u0C3E \u0C30\u0C46\u0C21\u0C4D\u0C21\u0C3F",name_en:"g. Hanumantha Reddy",village:tn[0]},{custNo:8,name_tel:"K \u0C35\u0C46\u0C02\u0C15\u0C1F\u0C47\u0C36\u0C4D\u0C35\u0C30\u0C4D\u0C32\u0C41",name_en:"K Venkateshwarlu",village:tn[1]},{custNo:9,name_tel:"K.\u0C28\u0C30\u0C38\u0C3F\u0C02\u0C39\u0C41\u0C32\u0C41",name_en:"K. Narasimhulu",village:tn[2]},{custNo:10,name_tel:"k.\u0C35\u0C46\u0C02\u0C15\u0C1F\u0C30\u0C46\u0C21\u0C4D\u0C21\u0C3F",name_en:"k. Venkatareddy",village:tn[0]},{custNo:11,name_tel:"k.\u0C38\u0C41\u0C17\u0C41\u0C23\u0C2E\u0C4D\u0C2E",name_en:"k. Sugunamma",village:tn[1]},{custNo:12,name_tel:"m.\u0C32\u0C3F\u0C02\u0C17\u0C2F\u0C4D\u0C2F",name_en:"m. Lingaiah",village:tn[2]},{custNo:13,name_tel:"N.\u0C24\u0C3F\u0C30\u0C2A\u0C2F\u0C4D\u0C2F",name_en:"N. Tirupayya",village:tn[0]},{custNo:14,name_tel:"N.\u0C24\u0C3F\u0C30\u0C41\u0C2A\u0C24\u0C2F\u0C4D\u0C2F",name_en:"N. Tirupataiah",village:tn[1]},{custNo:15,name_tel:"N.\u0C35\u0C3F.\u0C2D\u0C26\u0C4D\u0C30\u0C2E\u0C4D\u0C2E",name_en:"N.V. Bhadramma",village:tn[2]},{custNo:16,name_tel:"T. \u0C2E\u0C32\u0C2F\u0C4D\u0C2F",name_en:"T. Malayya",village:tn[0]},{custNo:17,name_tel:"V.\u0C05\u0C02\u0C1C\u0C2F\u0C4D\u0C2F",name_en:"V. Anjaiah",village:tn[1]},{custNo:18,name_tel:"V.\u0C30\u0C3E\u0C2E\u0C41\u0C32\u0C41",name_en:"V. Ramulu",village:tn[2]},{custNo:19,name_tel:"\u0C08\u0C36\u0C2A\u0C3E\u0C1F\u0C3F \u0C35\u0C46\u0C02\u0C15\u0C28\u0C4D\u0C28",name_en:"Ishapati Venkanna",village:tn[0]},{custNo:20,name_tel:"\u0C15\u0C4A\u0C02\u0C21\u0C2A\u0C32\u0C4D\u0C32\u0C3F \u0C35\u0C46\u0C02\u0C15\u0C1F\u0C30\u0C46\u0C21\u0C4D\u0C21\u0C3F",name_en:"Kondapalli Venkatareddy",village:tn[1]},{custNo:21,name_tel:"\u0C15\u0C4A\u0C30\u0C4D\u0C30\u0C3E \u0C30\u0C2E\u0C47\u0C37\u0C4D",name_en:"Korramesh",village:tn[2]},{custNo:22,name_tel:"\u0C28\u0C3E\u0C17\u0C2E\u0C23\u0C3F",name_en:"Nagamani",village:tn[0]},{custNo:23,name_tel:"\u0C28\u0C21\u0C3F \u0C2D\u0C26\u0C4D\u0C30\u0C2E\u0C4D\u0C2E",name_en:"Nadi Bhadramma",village:tn[1]},{custNo:24,name_tel:"\u0C28\u0C30\u0C3E\u0C32 \u0C17\u0C4B\u0C2A\u0C2F\u0C4D\u0C2F",name_en:"Narala Gopayya",village:tn[2]},{custNo:25,name_tel:"\u0C35\u0C40\u0C30\u0C2C\u0C4B\u0C2F\u0C3F\u0C28 \u0C24\u0C3F\u0C02\u0C17\u0C2F\u0C4D\u0C2F",name_en:"Veeraboyina Tingayya",village:tn[0]}];var J2=Oc.map(e=>e.custNo);function ga(){return Math.round((Math.random()*4.5+.5)*10)/10}function ma(){return Math.round((Math.random()*7+3)*10)/10}function Fr(){let e=new Date,n=e.getDate(),t=new Date(e);return n>=21?t.setDate(21):n>=11?t.setDate(11):t.setDate(1),t.setHours(0,0,0,0),t}function ao(e){let n=e.getDate(),t=new Date(e);return n===1?t.setDate(10):n===11?t.setDate(20):(t.setMonth(t.getMonth()+1),t.setDate(0)),t.setHours(23,59,59,999),t}function va(e){let n=e.getDate(),t=new Date(e);return n===1?(t.setMonth(t.getMonth()-1),t.setDate(21)):n===11?t.setDate(1):t.setDate(11),t.setHours(0,0,0,0),t}function Q2(e){let n=new Date;return e.getDate()===n.getDate()&&e.getMonth()===n.getMonth()&&e.getFullYear()===n.getFullYear()}function mu(e){let n={tenDayStart:e,records:[],custBills:[],totalAmt:0,receivedAmt:0,pendingAmt:0,receivableAmt:0},t=new Date,i=t.getHours(),r=new Date(t);r.setHours(0,0,0,0);let a=ao(e),l=new Date(a);l.setHours(0,0,0,0);let s,d=!1,u=!1;i<5?(s=new Date(r),s.setDate(r.getDate()-1),d=!1):i<12?(s=new Date(r),d=!0,u=!1):(s=new Date(r),d=!0,u=!0);let f=new Date(e);f.setHours(0,0,0,0);let v=new Date(f);for(;v<=s&&v<=l;){let _=[],g=Q2(v);J2.forEach(k=>{let L={custNo:k,AM:{qty:0,fat:0},PM:{qty:0,fat:0}};if(g&&d)u&&(L.AM={qty:ga(),fat:ma()});else if(!g){let M=Math.random();M<.8?(L.AM={qty:ga(),fat:ma()},L.PM={qty:ga(),fat:ma()}):M<.9?L.AM={qty:ga(),fat:ma()}:L.PM={qty:ga(),fat:ma()}}_.push(L)});let A={day:new Date(v),quantities:_};n.records.push(A),v.setDate(v.getDate()+1)}return n}var l0=mu(Fr());var _a=class e{constructor(n,t){this.couchdbService=n;this.customerService=t}ledgerDocuments=new Map;getLedgerDataMock(){return kr(l0)}getMembers(){return this.customerService.getCustomers()}getDocumentId(n){let t=n.getFullYear(),i=String(n.getMonth()+1).padStart(2,"0"),r=String(n.getDate()).padStart(2,"0");return`${t}${i}${r}_LEDGER`}getLedgerData(n){let t=n||Fr(),i=this.getDocumentId(t),r=this.createEmptyLedger(t);return this.couchdbService.getDocument(i).pipe(Eo(a=>{this.ledgerDocuments.set(i,a);let l=this.deserializeLedger(a.ledger),s=r.records.map(d=>{let u=l.records.find(v=>v.day.getTime()===d.day.getTime());if(!u)return d;let f=d.quantities.map(v=>{let _=u.quantities.find(g=>g.custNo===v.custNo);return _?{custNo:v.custNo,AM:_.AM||{qty:0,fat:0},PM:_.PM||{qty:0,fat:0}}:v});return _i(xe(xe({},d),u),{quantities:f})});return _i(xe(xe({},r),l),{records:s})}),tc(a=>{if(a.status===404)return kr(r);throw a}))}deserializeLedger(n){return _i(xe({},n),{tenDayStart:this.parseDateAtMidnight(n.tenDayStart),records:n.records.map(t=>_i(xe({},t),{day:this.parseDateAtMidnight(t.day)}))})}serializeLedger(n){let t=i=>`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}-${String(i.getDate()).padStart(2,"0")}`;return _i(xe({},n),{tenDayStart:t(n.tenDayStart),records:n.records.map(i=>_i(xe({},i),{day:t(i.day)}))})}parseDateAtMidnight(n){if(n instanceof Date){let r=new Date(n);return r.setHours(0,0,0,0),r}let t=n.split("T")[0].split("-");if(t.length===3){let r=parseInt(t[0],10),a=parseInt(t[1],10)-1,l=parseInt(t[2],10);return new Date(r,a,l,0,0,0,0)}let i=new Date(n);return i.setHours(0,0,0,0),i}createEmptyLedger(n){let t=ao(n),i=new Date;i.setHours(0,0,0,0);let r=t<i?t:i,a=[],l=new Date(n);for(;l<=r;){let s=[];Oc.forEach(d=>{s.push({custNo:d.custNo,AM:{qty:0,fat:0},PM:{qty:0,fat:0}})}),a.push({day:new Date(l),quantities:s,isVerified:!1,dayTotal:{AM:{qty:0,fat:0},PM:{qty:0,fat:0}}}),l.setDate(l.getDate()+1)}return{tenDayStart:n,records:a,custBills:[],totalAmt:0,receivableAmt:0,receivedAmt:0,pendingAmt:0,isBilled:!1}}saveLedgerEntry(n){let t=n.tenDayStart instanceof Date?n.tenDayStart:new Date(n.tenDayStart),i=this.getDocumentId(t),a={ledger:this.serializeLedger(n),updatedAt:new Date().toISOString()},l=this.ledgerDocuments.get(i);return l?._rev&&(a._rev=l._rev),this.couchdbService.putDocument(i,a).pipe(vf(s=>this.couchdbService.getDocument(i).pipe(Eo(d=>(this.ledgerDocuments.set(i,d),s)))))}static \u0275fac=function(t){return new(t||e)(Ja(Sc),Ja(Uo))};static \u0275prov=oi({token:e,factory:e.\u0275fac,providedIn:"root"})};var Ho=class e{getBillingPeriodData(n){let t=mu(n);return kr(t).pipe(nc(300))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=oi({token:e,factory:e.\u0275fac,providedIn:"root"})};var Gi=Uint8Array,bi=Uint16Array,xu=Int32Array,Cu=new Gi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Su=new Gi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),d0=new Gi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),p0=function(e,n){for(var t=new bi(31),i=0;i<31;++i)t[i]=n+=1<<e[i-1];for(var r=new xu(t[30]),i=1;i<30;++i)for(var a=t[i];a<t[i+1];++a)r[a]=a-t[i]<<5|i;return{b:t,r}},g0=p0(Cu,2),tm=g0.b,bu=g0.r;tm[28]=258,bu[258]=28;var m0=p0(Su,0),Lw=m0.b,u0=m0.r,yu=new bi(32768);for(Fe=0;Fe<32768;++Fe)Rr=(Fe&43690)>>1|(Fe&21845)<<1,Rr=(Rr&52428)>>2|(Rr&13107)<<2,Rr=(Rr&61680)>>4|(Rr&3855)<<4,yu[Fe]=((Rr&65280)>>8|(Rr&255)<<8)>>1;var Rr,Fe,Gs=function(e,n,t){for(var i=e.length,r=0,a=new bi(n);r<i;++r)e[r]&&++a[e[r]-1];var l=new bi(n);for(r=1;r<n;++r)l[r]=l[r-1]+a[r-1]<<1;var s;if(t){s=new bi(1<<n);var d=15-n;for(r=0;r<i;++r)if(e[r])for(var u=r<<4|e[r],f=n-e[r],v=l[e[r]-1]++<<f,_=v|(1<<f)-1;v<=_;++v)s[yu[v]>>d]=u}else for(s=new bi(i),r=0;r<i;++r)e[r]&&(s[r]=yu[l[e[r]-1]++]>>15-e[r]);return s},oo=new Gi(288);for(Fe=0;Fe<144;++Fe)oo[Fe]=8;var Fe;for(Fe=144;Fe<256;++Fe)oo[Fe]=9;var Fe;for(Fe=256;Fe<280;++Fe)oo[Fe]=7;var Fe;for(Fe=280;Fe<288;++Fe)oo[Fe]=8;var Fe,Tc=new Gi(32);for(Fe=0;Fe<32;++Fe)Tc[Fe]=5;var Fe,em=Gs(oo,9,0);var nm=Gs(Tc,5,0);var v0=function(e){return(e+7)/8|0},im=function(e,n,t){return(n==null||n<0)&&(n=0),(t==null||t>e.length)&&(t=e.length),new Gi(e.subarray(n,t))};var Br=function(e,n,t){t<<=n&7;var i=n/8|0;e[i]|=t,e[i+1]|=t>>8},$s=function(e,n,t){t<<=n&7;var i=n/8|0;e[i]|=t,e[i+1]|=t>>8,e[i+2]|=t>>16},_u=function(e,n){for(var t=[],i=0;i<e.length;++i)e[i]&&t.push({s:i,f:e[i]});var r=t.length,a=t.slice();if(!r)return{t:b0,l:0};if(r==1){var l=new Gi(t[0].s+1);return l[t[0].s]=1,{t:l,l:1}}t.sort(function(ut,St){return ut.f-St.f}),t.push({s:-1,f:25001});var s=t[0],d=t[1],u=0,f=1,v=2;for(t[0]={s:-1,f:s.f+d.f,l:s,r:d};f!=r-1;)s=t[t[u].f<t[v].f?u++:v++],d=t[u!=f&&t[u].f<t[v].f?u++:v++],t[f++]={s:-1,f:s.f+d.f,l:s,r:d};for(var _=a[0].s,i=1;i<r;++i)a[i].s>_&&(_=a[i].s);var g=new bi(_+1),A=wu(t[f-1],g,0);if(A>n){var i=0,k=0,L=A-n,M=1<<L;for(a.sort(function(St,vt){return g[vt.s]-g[St.s]||St.f-vt.f});i<r;++i){var H=a[i].s;if(g[H]>n)k+=M-(1<<A-g[H]),g[H]=n;else break}for(k>>=L;k>0;){var V=a[i].s;g[V]<n?k-=1<<n-g[V]++-1:++i}for(;i>=0&&k;--i){var F=a[i].s;g[F]==n&&(--g[F],++k)}A=n}return{t:new Gi(g),l:A}},wu=function(e,n,t){return e.s==-1?Math.max(wu(e.l,n,t+1),wu(e.r,n,t+1)):n[e.s]=t},h0=function(e){for(var n=e.length;n&&!e[--n];);for(var t=new bi(++n),i=0,r=e[0],a=1,l=function(d){t[i++]=d},s=1;s<=n;++s)if(e[s]==r&&s!=n)++a;else{if(!r&&a>2){for(;a>138;a-=138)l(32754);a>2&&(l(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(l(r),--a;a>6;a-=6)l(8304);a>2&&(l(a-3<<5|8208),a=0)}for(;a--;)l(r);a=1,r=e[s]}return{c:t.subarray(0,i),n}},Ys=function(e,n){for(var t=0,i=0;i<n.length;++i)t+=e[i]*n[i];return t},_0=function(e,n,t){var i=t.length,r=v0(n+2);e[r]=i&255,e[r+1]=i>>8,e[r+2]=e[r]^255,e[r+3]=e[r+1]^255;for(var a=0;a<i;++a)e[r+a+4]=t[a];return(r+4+i)*8},f0=function(e,n,t,i,r,a,l,s,d,u,f){Br(n,f++,t),++r[256];for(var v=_u(r,15),_=v.t,g=v.l,A=_u(a,15),k=A.t,L=A.l,M=h0(_),H=M.c,V=M.n,F=h0(k),ut=F.c,St=F.n,vt=new bi(19),X=0;X<H.length;++X)++vt[H[X]&31];for(var X=0;X<ut.length;++X)++vt[ut[X]&31];for(var z=_u(vt,7),nt=z.t,S=z.l,N=19;N>4&&!nt[d0[N-1]];--N);var q=u+5<<3,j=Ys(r,oo)+Ys(a,Tc)+l,it=Ys(r,_)+Ys(a,k)+l+14+3*N+Ys(vt,nt)+2*vt[16]+3*vt[17]+7*vt[18];if(d>=0&&q<=j&&q<=it)return _0(n,f,e.subarray(d,d+u));var lt,st,K,ct;if(Br(n,f,1+(it<j)),f+=2,it<j){lt=Gs(_,g,0),st=_,K=Gs(k,L,0),ct=k;var wt=Gs(nt,S,0);Br(n,f,V-257),Br(n,f+5,St-1),Br(n,f+10,N-4),f+=14;for(var X=0;X<N;++X)Br(n,f+3*X,nt[d0[X]]);f+=3*N;for(var bt=[H,ut],C=0;C<2;++C)for(var I=bt[C],X=0;X<I.length;++X){var B=I[X]&31;Br(n,f,wt[B]),f+=nt[B],B>15&&(Br(n,f,I[X]>>5&127),f+=I[X]>>12)}}else lt=em,st=oo,K=nm,ct=Tc;for(var X=0;X<s;++X){var $=i[X];if($>255){var B=$>>18&31;$s(n,f,lt[B+257]),f+=st[B+257],B>7&&(Br(n,f,$>>23&31),f+=Cu[B]);var J=$&31;$s(n,f,K[J]),f+=ct[J],J>3&&($s(n,f,$>>5&8191),f+=Su[J])}else $s(n,f,lt[$]),f+=st[$]}return $s(n,f,lt[256]),f+st[256]},rm=new xu([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),b0=new Gi(0),am=function(e,n,t,i,r,a){var l=a.z||e.length,s=new Gi(i+l+5*(1+Math.ceil(l/7e3))+r),d=s.subarray(i,s.length-r),u=a.l,f=(a.r||0)&7;if(n){f&&(d[0]=a.r>>3);for(var v=rm[n-1],_=v>>13,g=v&8191,A=(1<<t)-1,k=a.p||new bi(32768),L=a.h||new bi(A+1),M=Math.ceil(t/3),H=2*M,V=function(pt){return(e[pt]^e[pt+1]<<M^e[pt+2]<<H)&A},F=new xu(25e3),ut=new bi(288),St=new bi(32),vt=0,X=0,z=a.i||0,nt=0,S=a.w||0,N=0;z+2<l;++z){var q=V(z),j=z&32767,it=L[q];if(k[j]=it,L[q]=j,S<=z){var lt=l-z;if((vt>7e3||nt>24576)&&(lt>423||!u)){f=f0(e,d,0,F,ut,St,X,nt,N,z-N,f),nt=vt=X=0,N=z;for(var st=0;st<286;++st)ut[st]=0;for(var st=0;st<30;++st)St[st]=0}var K=2,ct=0,wt=g,bt=j-it&32767;if(lt>2&&q==V(z-bt))for(var C=Math.min(_,lt)-1,I=Math.min(32767,z),B=Math.min(258,lt);bt<=I&&--wt&&j!=it;){if(e[z+K]==e[z+K-bt]){for(var $=0;$<B&&e[z+$]==e[z+$-bt];++$);if($>K){if(K=$,ct=bt,$>C)break;for(var J=Math.min(bt,$-2),ot=0,st=0;st<J;++st){var ft=z-bt+st&32767,ht=k[ft],xt=ft-ht&32767;xt>ot&&(ot=xt,it=ft)}}}j=it,it=k[j],bt+=j-it&32767}if(ct){F[nt++]=268435456|bu[K]<<18|u0[ct];var Nt=bu[K]&31,Ot=u0[ct]&31;X+=Cu[Nt]+Su[Ot],++ut[257+Nt],++St[Ot],S=z+K,++vt}else F[nt++]=e[z],++ut[e[z]]}}for(z=Math.max(z,S);z<l;++z)F[nt++]=e[z],++ut[e[z]];f=f0(e,d,u,F,ut,St,X,nt,N,z-N,f),u||(a.r=f&7|d[f/8|0]<<3,f-=7,a.h=L,a.p=k,a.i=z,a.w=S)}else{for(var z=a.w||0;z<l+u;z+=65535){var Tt=z+65535;Tt>=l&&(d[f/8|0]=u,Tt=l),f=_0(d,f+1,e.subarray(z,Tt))}a.i=l}return im(s,0,i+v0(f)+r)};var y0=function(){var e=1,n=0;return{p:function(t){for(var i=e,r=n,a=t.length|0,l=0;l!=a;){for(var s=Math.min(l+2655,a);l<s;++l)r+=i+=t[l];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}e=i,n=r},d:function(){return e%=65521,n%=65521,(e&255)<<24|(e&65280)<<8|(n&255)<<8|n>>8}}},om=function(e,n,t,i,r){if(!r&&(r={l:1},n.dictionary)){var a=n.dictionary.subarray(-32768),l=new Gi(a.length+e.length);l.set(a),l.set(e,a.length),e=l,r.w=a.length}return am(e,n.level==null?6:n.level,n.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+n.mem,t,i,r)};var w0=function(e,n,t){for(;t;++n)e[n]=t,t>>>=8};var sm=function(e,n){var t=n.level,i=t==0?0:t<6?1:t==9?3:2;if(e[0]=120,e[1]=i<<6|(n.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,n.dictionary){var r=y0();r.p(n.dictionary),w0(e,2,r.d())}};function Ic(e,n){n||(n={});var t=y0();t.p(e);var i=om(e,n,n.dictionary?6:2,4);return sm(i,n),w0(i,i.length-4,t.d()),i}var lm=typeof TextDecoder<"u"&&new TextDecoder,cm=0;try{lm.decode(b0,{stream:!0}),cm=1}catch{}function x0(e){if(Array.isArray(e))return e}function C0(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var i,r,a,l,s=[],d=!0,u=!1;try{if(a=(t=t.call(e)).next,n===0){if(Object(t)!==t)return;d=!1}else for(;!(d=(i=a.call(t)).done)&&(s.push(i.value),s.length!==n);d=!0);}catch(f){u=!0,r=f}finally{try{if(!d&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(u)throw r}}return s}}function Pu(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,i=Array(n);t<n;t++)i[t]=e[t];return i}function S0(e,n){if(e){if(typeof e=="string")return Pu(e,n);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Pu(e,n):void 0}}function P0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mu(e,n){return x0(e)||C0(e,n)||S0(e,n)||P0()}function Au(e,n="utf8"){return new TextDecoder(n).decode(e)}var dm=new TextEncoder;function M0(e){return dm.encode(e)}var um=1024*8,hm=(()=>{let e=new Uint8Array(4),n=new Uint32Array(e.buffer);return!((n[0]=1)&e[0])})(),Du={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array},Zs=class e{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(n=um,t={}){let i=!1;typeof n=="number"?n=new ArrayBuffer(n):(i=!0,this.lastWrittenByte=n.byteLength);let r=t.offset?t.offset>>>0:0,a=n.byteLength-r,l=r;(ArrayBuffer.isView(n)||n instanceof e)&&(n.byteLength!==n.buffer.byteLength&&(l=n.byteOffset+r),n=n.buffer),i?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=n,this.length=a,this.byteLength=a,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,a),this._mark=0,this._marks=[]}available(n=1){return this.offset+n<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(n=1){return this.offset+=n,this}back(n=1){return this.offset-=n,this}seek(n){return this.offset=n,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){let n=this._marks.pop();if(n===void 0)throw new Error("Mark stack empty");return this.seek(n),this}rewind(){return this.offset=0,this}ensureAvailable(n=1){if(!this.available(n)){let i=(this.offset+n)*2,r=new Uint8Array(i);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(n=1){return this.readArray(n,"uint8")}readArray(n,t){let i=Du[t].BYTES_PER_ELEMENT*n,r=this.byteOffset+this.offset,a=this.buffer.slice(r,r+i);if(this.littleEndian===hm&&t!=="uint8"&&t!=="int8"){let s=new Uint8Array(this.buffer.slice(r,r+i));s.reverse();let d=new Du[t](s.buffer);return this.offset+=i,d.reverse(),d}let l=new Du[t](a);return this.offset+=i,l}readInt16(){let n=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,n}readUint16(){let n=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,n}readInt32(){let n=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,n}readUint32(){let n=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,n}readFloat32(){let n=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,n}readFloat64(){let n=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,n}readBigInt64(){let n=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,n}readBigUint64(){let n=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,n}readChar(){return String.fromCharCode(this.readInt8())}readChars(n=1){let t="";for(let i=0;i<n;i++)t+=this.readChar();return t}readUtf8(n=1){return Au(this.readBytes(n))}decodeText(n=1,t="utf8"){return Au(this.readBytes(n),t)}writeBoolean(n){return this.writeUint8(n?255:0),this}writeInt8(n){return this.ensureAvailable(1),this._data.setInt8(this.offset++,n),this._updateLastWrittenByte(),this}writeUint8(n){return this.ensureAvailable(1),this._data.setUint8(this.offset++,n),this._updateLastWrittenByte(),this}writeByte(n){return this.writeUint8(n)}writeBytes(n){this.ensureAvailable(n.length);for(let t=0;t<n.length;t++)this._data.setUint8(this.offset++,n[t]);return this._updateLastWrittenByte(),this}writeInt16(n){return this.ensureAvailable(2),this._data.setInt16(this.offset,n,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(n){return this.ensureAvailable(2),this._data.setUint16(this.offset,n,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(n){return this.ensureAvailable(4),this._data.setInt32(this.offset,n,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(n){return this.ensureAvailable(4),this._data.setUint32(this.offset,n,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(n){return this.ensureAvailable(4),this._data.setFloat32(this.offset,n,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(n){return this.ensureAvailable(8),this._data.setFloat64(this.offset,n,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(n){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,n,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(n){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,n,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(n){return this.writeUint8(n.charCodeAt(0))}writeChars(n){for(let t=0;t<n.length;t++)this.writeUint8(n.charCodeAt(t));return this}writeUtf8(n){return this.writeBytes(M0(n))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}};function Zo(e){let n=e.length;for(;--n>=0;)e[n]=0}var fm=0,up=1,pm=2,gm=3,mm=258,Ju=29,dl=256,nl=dl+1+Ju,$o=30,Qu=19,hp=2*nl+1,so=15,Nu=16,vm=7,th=256,fp=16,pp=17,gp=18,Hu=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),qc=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),_m=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),mp=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),bm=512,jr=new Array((nl+2)*2);Zo(jr);var Qs=new Array($o*2);Zo(Qs);var il=new Array(bm);Zo(il);var rl=new Array(mm-gm+1);Zo(rl);var eh=new Array(Ju);Zo(eh);var Uc=new Array($o);Zo(Uc);function ku(e,n,t,i,r){this.static_tree=e,this.extra_bits=n,this.extra_base=t,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}var vp,_p,bp;function Lu(e,n){this.dyn_tree=e,this.max_code=0,this.stat_desc=n}var yp=e=>e<256?il[e]:il[256+(e>>>7)],al=(e,n)=>{e.pending_buf[e.pending++]=n&255,e.pending_buf[e.pending++]=n>>>8&255},li=(e,n,t)=>{e.bi_valid>Nu-t?(e.bi_buf|=n<<e.bi_valid&65535,al(e,e.bi_buf),e.bi_buf=n>>Nu-e.bi_valid,e.bi_valid+=t-Nu):(e.bi_buf|=n<<e.bi_valid&65535,e.bi_valid+=t)},dr=(e,n,t)=>{li(e,t[n*2],t[n*2+1])},wp=(e,n)=>{let t=0;do t|=e&1,e>>>=1,t<<=1;while(--n>0);return t>>>1},ym=e=>{e.bi_valid===16?(al(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},wm=(e,n)=>{let t=n.dyn_tree,i=n.max_code,r=n.stat_desc.static_tree,a=n.stat_desc.has_stree,l=n.stat_desc.extra_bits,s=n.stat_desc.extra_base,d=n.stat_desc.max_length,u,f,v,_,g,A,k=0;for(_=0;_<=so;_++)e.bl_count[_]=0;for(t[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<hp;u++)f=e.heap[u],_=t[t[f*2+1]*2+1]+1,_>d&&(_=d,k++),t[f*2+1]=_,!(f>i)&&(e.bl_count[_]++,g=0,f>=s&&(g=l[f-s]),A=t[f*2],e.opt_len+=A*(_+g),a&&(e.static_len+=A*(r[f*2+1]+g)));if(k!==0){do{for(_=d-1;e.bl_count[_]===0;)_--;e.bl_count[_]--,e.bl_count[_+1]+=2,e.bl_count[d]--,k-=2}while(k>0);for(_=d;_!==0;_--)for(f=e.bl_count[_];f!==0;)v=e.heap[--u],!(v>i)&&(t[v*2+1]!==_&&(e.opt_len+=(_-t[v*2+1])*t[v*2],t[v*2+1]=_),f--)}},xp=(e,n,t)=>{let i=new Array(so+1),r=0,a,l;for(a=1;a<=so;a++)r=r+t[a-1]<<1,i[a]=r;for(l=0;l<=n;l++){let s=e[l*2+1];s!==0&&(e[l*2]=wp(i[s]++,s))}},xm=()=>{let e,n,t,i,r,a=new Array(so+1);for(t=0,i=0;i<Ju-1;i++)for(eh[i]=t,e=0;e<1<<Hu[i];e++)rl[t++]=i;for(rl[t-1]=i,r=0,i=0;i<16;i++)for(Uc[i]=r,e=0;e<1<<qc[i];e++)il[r++]=i;for(r>>=7;i<$o;i++)for(Uc[i]=r<<7,e=0;e<1<<qc[i]-7;e++)il[256+r++]=i;for(n=0;n<=so;n++)a[n]=0;for(e=0;e<=143;)jr[e*2+1]=8,e++,a[8]++;for(;e<=255;)jr[e*2+1]=9,e++,a[9]++;for(;e<=279;)jr[e*2+1]=7,e++,a[7]++;for(;e<=287;)jr[e*2+1]=8,e++,a[8]++;for(xp(jr,nl+1,a),e=0;e<$o;e++)Qs[e*2+1]=5,Qs[e*2]=wp(e,5);vp=new ku(jr,Hu,dl+1,nl,so),_p=new ku(Qs,qc,0,$o,so),bp=new ku(new Array(0),_m,0,Qu,vm)},Cp=e=>{let n;for(n=0;n<nl;n++)e.dyn_ltree[n*2]=0;for(n=0;n<$o;n++)e.dyn_dtree[n*2]=0;for(n=0;n<Qu;n++)e.bl_tree[n*2]=0;e.dyn_ltree[th*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Sp=e=>{e.bi_valid>8?al(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},A0=(e,n,t,i)=>{let r=n*2,a=t*2;return e[r]<e[a]||e[r]===e[a]&&i[n]<=i[t]},Eu=(e,n,t)=>{let i=e.heap[t],r=t<<1;for(;r<=e.heap_len&&(r<e.heap_len&&A0(n,e.heap[r+1],e.heap[r],e.depth)&&r++,!A0(n,i,e.heap[r],e.depth));)e.heap[t]=e.heap[r],t=r,r<<=1;e.heap[t]=i},D0=(e,n,t)=>{let i,r,a=0,l,s;if(e.sym_next!==0)do i=e.pending_buf[e.sym_buf+a++]&255,i+=(e.pending_buf[e.sym_buf+a++]&255)<<8,r=e.pending_buf[e.sym_buf+a++],i===0?dr(e,r,n):(l=rl[r],dr(e,l+dl+1,n),s=Hu[l],s!==0&&(r-=eh[l],li(e,r,s)),i--,l=yp(i),dr(e,l,t),s=qc[l],s!==0&&(i-=Uc[l],li(e,i,s)));while(a<e.sym_next);dr(e,th,n)},Vu=(e,n)=>{let t=n.dyn_tree,i=n.stat_desc.static_tree,r=n.stat_desc.has_stree,a=n.stat_desc.elems,l,s,d=-1,u;for(e.heap_len=0,e.heap_max=hp,l=0;l<a;l++)t[l*2]!==0?(e.heap[++e.heap_len]=d=l,e.depth[l]=0):t[l*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=d<2?++d:0,t[u*2]=1,e.depth[u]=0,e.opt_len--,r&&(e.static_len-=i[u*2+1]);for(n.max_code=d,l=e.heap_len>>1;l>=1;l--)Eu(e,t,l);u=a;do l=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Eu(e,t,1),s=e.heap[1],e.heap[--e.heap_max]=l,e.heap[--e.heap_max]=s,t[u*2]=t[l*2]+t[s*2],e.depth[u]=(e.depth[l]>=e.depth[s]?e.depth[l]:e.depth[s])+1,t[l*2+1]=t[s*2+1]=u,e.heap[1]=u++,Eu(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],wm(e,n),xp(t,d,e.bl_count)},N0=(e,n,t)=>{let i,r=-1,a,l=n[1],s=0,d=7,u=4;for(l===0&&(d=138,u=3),n[(t+1)*2+1]=65535,i=0;i<=t;i++)a=l,l=n[(i+1)*2+1],!(++s<d&&a===l)&&(s<u?e.bl_tree[a*2]+=s:a!==0?(a!==r&&e.bl_tree[a*2]++,e.bl_tree[fp*2]++):s<=10?e.bl_tree[pp*2]++:e.bl_tree[gp*2]++,s=0,r=a,l===0?(d=138,u=3):a===l?(d=6,u=3):(d=7,u=4))},k0=(e,n,t)=>{let i,r=-1,a,l=n[1],s=0,d=7,u=4;for(l===0&&(d=138,u=3),i=0;i<=t;i++)if(a=l,l=n[(i+1)*2+1],!(++s<d&&a===l)){if(s<u)do dr(e,a,e.bl_tree);while(--s!==0);else a!==0?(a!==r&&(dr(e,a,e.bl_tree),s--),dr(e,fp,e.bl_tree),li(e,s-3,2)):s<=10?(dr(e,pp,e.bl_tree),li(e,s-3,3)):(dr(e,gp,e.bl_tree),li(e,s-11,7));s=0,r=a,l===0?(d=138,u=3):a===l?(d=6,u=3):(d=7,u=4)}},Cm=e=>{let n;for(N0(e,e.dyn_ltree,e.l_desc.max_code),N0(e,e.dyn_dtree,e.d_desc.max_code),Vu(e,e.bl_desc),n=Qu-1;n>=3&&e.bl_tree[mp[n]*2+1]===0;n--);return e.opt_len+=3*(n+1)+5+5+4,n},Sm=(e,n,t,i)=>{let r;for(li(e,n-257,5),li(e,t-1,5),li(e,i-4,4),r=0;r<i;r++)li(e,e.bl_tree[mp[r]*2+1],3);k0(e,e.dyn_ltree,n-1),k0(e,e.dyn_dtree,t-1)},Pm=e=>{let n=4093624447,t;for(t=0;t<=31;t++,n>>>=1)if(n&1&&e.dyn_ltree[t*2]!==0)return 0;if(e.dyn_ltree[18]!==0||e.dyn_ltree[20]!==0||e.dyn_ltree[26]!==0)return 1;for(t=32;t<dl;t++)if(e.dyn_ltree[t*2]!==0)return 1;return 0},L0=!1,Mm=e=>{L0||(xm(),L0=!0),e.l_desc=new Lu(e.dyn_ltree,vp),e.d_desc=new Lu(e.dyn_dtree,_p),e.bl_desc=new Lu(e.bl_tree,bp),e.bi_buf=0,e.bi_valid=0,Cp(e)},Pp=(e,n,t,i)=>{li(e,(fm<<1)+(i?1:0),3),Sp(e),al(e,t),al(e,~t),t&&e.pending_buf.set(e.window.subarray(n,n+t),e.pending),e.pending+=t},Am=e=>{li(e,up<<1,3),dr(e,th,jr),ym(e)},Dm=(e,n,t,i)=>{let r,a,l=0;e.level>0?(e.strm.data_type===2&&(e.strm.data_type=Pm(e)),Vu(e,e.l_desc),Vu(e,e.d_desc),l=Cm(e),r=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=r&&(r=a)):r=a=t+5,t+4<=r&&n!==-1?Pp(e,n,t,i):e.strategy===4||a===r?(li(e,(up<<1)+(i?1:0),3),D0(e,jr,Qs)):(li(e,(pm<<1)+(i?1:0),3),Sm(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),D0(e,e.dyn_ltree,e.dyn_dtree)),Cp(e),i&&Sp(e)},Nm=(e,n,t)=>(e.pending_buf[e.sym_buf+e.sym_next++]=n,e.pending_buf[e.sym_buf+e.sym_next++]=n>>8,e.pending_buf[e.sym_buf+e.sym_next++]=t,n===0?e.dyn_ltree[t*2]++:(e.matches++,n--,e.dyn_ltree[(rl[t]+dl+1)*2]++,e.dyn_dtree[yp(n)*2]++),e.sym_next===e.sym_end),km=Mm,Lm=Pp,Em=Dm,Om=Nm,Tm=Am,Im={_tr_init:km,_tr_stored_block:Lm,_tr_flush_block:Em,_tr_tally:Om,_tr_align:Tm},Fm=(e,n,t,i)=>{let r=e&65535|0,a=e>>>16&65535|0,l=0;for(;t!==0;){l=t>2e3?2e3:t,t-=l;do r=r+n[i++]|0,a=a+r|0;while(--l);r%=65521,a%=65521}return r|a<<16|0},ol=Fm,Rm=()=>{let e,n=[];for(var t=0;t<256;t++){e=t;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;n[t]=e}return n},Bm=new Uint32Array(Rm()),zm=(e,n,t,i)=>{let r=Bm,a=i+t;e^=-1;for(let l=i;l<a;l++)e=e>>>8^r[(e^n[l])&255];return e^-1},Nn=zm,uo={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Xo={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:jm,_tr_stored_block:Wu,_tr_flush_block:qm,_tr_tally:wa,_tr_align:Um}=Im,{Z_NO_FLUSH:xa,Z_PARTIAL_FLUSH:Hm,Z_FULL_FLUSH:Vm,Z_FINISH:zi,Z_BLOCK:E0,Z_OK:zn,Z_STREAM_END:O0,Z_STREAM_ERROR:ur,Z_DATA_ERROR:Wm,Z_BUF_ERROR:Ou,Z_DEFAULT_COMPRESSION:$m,Z_FILTERED:Ym,Z_HUFFMAN_ONLY:Fc,Z_RLE:Gm,Z_FIXED:Zm,Z_DEFAULT_STRATEGY:Xm,Z_UNKNOWN:Km,Z_DEFLATED:Wc}=Xo,Jm=9,Qm=15,t5=8,e5=29,n5=256,$u=n5+1+e5,i5=30,r5=19,a5=2*$u+1,o5=15,De=3,ya=258,hr=ya+De+1,s5=32,Yo=42,nh=57,Yu=69,Gu=73,Zu=91,Xu=103,lo=113,Ks=666,ei=1,Ko=2,ho=3,Jo=4,l5=3,co=(e,n)=>(e.msg=uo[n],n),T0=e=>e*2-(e>4?9:0),ba=e=>{let n=e.length;for(;--n>=0;)e[n]=0},c5=e=>{let n,t,i,r=e.w_size;n=e.hash_size,i=n;do t=e.head[--i],e.head[i]=t>=r?t-r:0;while(--n);n=r,i=n;do t=e.prev[--i],e.prev[i]=t>=r?t-r:0;while(--n)},d5=(e,n,t)=>(n<<e.hash_shift^t)&e.hash_mask,Ca=d5,yi=e=>{let n=e.state,t=n.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.output.set(n.pending_buf.subarray(n.pending_out,n.pending_out+t),e.next_out),e.next_out+=t,n.pending_out+=t,e.total_out+=t,e.avail_out-=t,n.pending-=t,n.pending===0&&(n.pending_out=0))},wi=(e,n)=>{qm(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,n),e.block_start=e.strstart,yi(e.strm)},Re=(e,n)=>{e.pending_buf[e.pending++]=n},Xs=(e,n)=>{e.pending_buf[e.pending++]=n>>>8&255,e.pending_buf[e.pending++]=n&255},Ku=(e,n,t,i)=>{let r=e.avail_in;return r>i&&(r=i),r===0?0:(e.avail_in-=r,n.set(e.input.subarray(e.next_in,e.next_in+r),t),e.state.wrap===1?e.adler=ol(e.adler,n,r,t):e.state.wrap===2&&(e.adler=Nn(e.adler,n,r,t)),e.next_in+=r,e.total_in+=r,r)},Mp=(e,n)=>{let t=e.max_chain_length,i=e.strstart,r,a,l=e.prev_length,s=e.nice_match,d=e.strstart>e.w_size-hr?e.strstart-(e.w_size-hr):0,u=e.window,f=e.w_mask,v=e.prev,_=e.strstart+ya,g=u[i+l-1],A=u[i+l];e.prev_length>=e.good_match&&(t>>=2),s>e.lookahead&&(s=e.lookahead);do if(r=n,!(u[r+l]!==A||u[r+l-1]!==g||u[r]!==u[i]||u[++r]!==u[i+1])){i+=2,r++;do;while(u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&i<_);if(a=ya-(_-i),i=_-ya,a>l){if(e.match_start=n,l=a,a>=s)break;g=u[i+l-1],A=u[i+l]}}while((n=v[n&f])>d&&--t!==0);return l<=e.lookahead?l:e.lookahead},Go=e=>{let n=e.w_size,t,i,r;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=n+(n-hr)&&(e.window.set(e.window.subarray(n,n+n-i),0),e.match_start-=n,e.strstart-=n,e.block_start-=n,e.insert>e.strstart&&(e.insert=e.strstart),c5(e),i+=n),e.strm.avail_in===0)break;if(t=Ku(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=t,e.lookahead+e.insert>=De)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=Ca(e,e.ins_h,e.window[r+1]);e.insert&&(e.ins_h=Ca(e,e.ins_h,e.window[r+De-1]),e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<De)););}while(e.lookahead<hr&&e.strm.avail_in!==0)},Ap=(e,n)=>{let t=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,i,r,a,l=0,s=e.strm.avail_in;do{if(i=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a||(a=e.strm.avail_out-a,r=e.strstart-e.block_start,i>r+e.strm.avail_in&&(i=r+e.strm.avail_in),i>a&&(i=a),i<t&&(i===0&&n!==zi||n===xa||i!==r+e.strm.avail_in)))break;l=n===zi&&i===r+e.strm.avail_in?1:0,Wu(e,0,0,l),e.pending_buf[e.pending-4]=i,e.pending_buf[e.pending-3]=i>>8,e.pending_buf[e.pending-2]=~i,e.pending_buf[e.pending-1]=~i>>8,yi(e.strm),r&&(r>i&&(r=i),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,i-=r),i&&(Ku(e.strm,e.strm.output,e.strm.next_out,i),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i)}while(l===0);return s-=e.strm.avail_in,s&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),l?Jo:n!==xa&&n!==zi&&e.strm.avail_in===0&&e.strstart===e.block_start?Ko:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(Ku(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,t=a>e.w_size?e.w_size:a,r=e.strstart-e.block_start,(r>=t||(r||n===zi)&&n!==xa&&e.strm.avail_in===0&&r<=a)&&(i=r>a?a:r,l=n===zi&&e.strm.avail_in===0&&i===r?1:0,Wu(e,e.block_start,i,l),e.block_start+=i,yi(e.strm)),l?ho:ei)},Tu=(e,n)=>{let t,i;for(;;){if(e.lookahead<hr){if(Go(e),e.lookahead<hr&&n===xa)return ei;if(e.lookahead===0)break}if(t=0,e.lookahead>=De&&(e.ins_h=Ca(e,e.ins_h,e.window[e.strstart+De-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-hr&&(e.match_length=Mp(e,t)),e.match_length>=De)if(i=wa(e,e.strstart-e.match_start,e.match_length-De),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=De){e.match_length--;do e.strstart++,e.ins_h=Ca(e,e.ins_h,e.window[e.strstart+De-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Ca(e,e.ins_h,e.window[e.strstart+1]);else i=wa(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(wi(e,!1),e.strm.avail_out===0))return ei}return e.insert=e.strstart<De-1?e.strstart:De-1,n===zi?(wi(e,!0),e.strm.avail_out===0?ho:Jo):e.sym_next&&(wi(e,!1),e.strm.avail_out===0)?ei:Ko},Vo=(e,n)=>{let t,i,r;for(;;){if(e.lookahead<hr){if(Go(e),e.lookahead<hr&&n===xa)return ei;if(e.lookahead===0)break}if(t=0,e.lookahead>=De&&(e.ins_h=Ca(e,e.ins_h,e.window[e.strstart+De-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=De-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-hr&&(e.match_length=Mp(e,t),e.match_length<=5&&(e.strategy===Ym||e.match_length===De&&e.strstart-e.match_start>4096)&&(e.match_length=De-1)),e.prev_length>=De&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-De,i=wa(e,e.strstart-1-e.prev_match,e.prev_length-De),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=r&&(e.ins_h=Ca(e,e.ins_h,e.window[e.strstart+De-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=De-1,e.strstart++,i&&(wi(e,!1),e.strm.avail_out===0))return ei}else if(e.match_available){if(i=wa(e,0,e.window[e.strstart-1]),i&&wi(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return ei}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=wa(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<De-1?e.strstart:De-1,n===zi?(wi(e,!0),e.strm.avail_out===0?ho:Jo):e.sym_next&&(wi(e,!1),e.strm.avail_out===0)?ei:Ko},u5=(e,n)=>{let t,i,r,a,l=e.window;for(;;){if(e.lookahead<=ya){if(Go(e),e.lookahead<=ya&&n===xa)return ei;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=De&&e.strstart>0&&(r=e.strstart-1,i=l[r],i===l[++r]&&i===l[++r]&&i===l[++r])){a=e.strstart+ya;do;while(i===l[++r]&&i===l[++r]&&i===l[++r]&&i===l[++r]&&i===l[++r]&&i===l[++r]&&i===l[++r]&&i===l[++r]&&r<a);e.match_length=ya-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=De?(t=wa(e,1,e.match_length-De),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=wa(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(wi(e,!1),e.strm.avail_out===0))return ei}return e.insert=0,n===zi?(wi(e,!0),e.strm.avail_out===0?ho:Jo):e.sym_next&&(wi(e,!1),e.strm.avail_out===0)?ei:Ko},h5=(e,n)=>{let t;for(;;){if(e.lookahead===0&&(Go(e),e.lookahead===0)){if(n===xa)return ei;break}if(e.match_length=0,t=wa(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(wi(e,!1),e.strm.avail_out===0))return ei}return e.insert=0,n===zi?(wi(e,!0),e.strm.avail_out===0?ho:Jo):e.sym_next&&(wi(e,!1),e.strm.avail_out===0)?ei:Ko};function cr(e,n,t,i,r){this.good_length=e,this.max_lazy=n,this.nice_length=t,this.max_chain=i,this.func=r}var Js=[new cr(0,0,0,0,Ap),new cr(4,4,8,4,Tu),new cr(4,5,16,8,Tu),new cr(4,6,32,32,Tu),new cr(4,4,16,16,Vo),new cr(8,16,32,32,Vo),new cr(8,16,128,128,Vo),new cr(8,32,128,256,Vo),new cr(32,128,258,1024,Vo),new cr(32,258,258,4096,Vo)],f5=e=>{e.window_size=2*e.w_size,ba(e.head),e.max_lazy_match=Js[e.level].max_lazy,e.good_match=Js[e.level].good_length,e.nice_match=Js[e.level].nice_length,e.max_chain_length=Js[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=De-1,e.match_available=0,e.ins_h=0};function p5(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Wc,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(a5*2),this.dyn_dtree=new Uint16Array((2*i5+1)*2),this.bl_tree=new Uint16Array((2*r5+1)*2),ba(this.dyn_ltree),ba(this.dyn_dtree),ba(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(o5+1),this.heap=new Uint16Array(2*$u+1),ba(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*$u+1),ba(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var ul=e=>{if(!e)return 1;let n=e.state;return!n||n.strm!==e||n.status!==Yo&&n.status!==nh&&n.status!==Yu&&n.status!==Gu&&n.status!==Zu&&n.status!==Xu&&n.status!==lo&&n.status!==Ks?1:0},Dp=e=>{if(ul(e))return co(e,ur);e.total_in=e.total_out=0,e.data_type=Km;let n=e.state;return n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap===2?nh:n.wrap?Yo:lo,e.adler=n.wrap===2?0:1,n.last_flush=-2,jm(n),zn},Np=e=>{let n=Dp(e);return n===zn&&f5(e.state),n},g5=(e,n)=>ul(e)||e.state.wrap!==2?ur:(e.state.gzhead=n,zn),kp=(e,n,t,i,r,a)=>{if(!e)return ur;let l=1;if(n===$m&&(n=6),i<0?(l=0,i=-i):i>15&&(l=2,i-=16),r<1||r>Jm||t!==Wc||i<8||i>15||n<0||n>9||a<0||a>Zm||i===8&&l!==1)return co(e,ur);i===8&&(i=9);let s=new p5;return e.state=s,s.strm=e,s.status=Yo,s.wrap=l,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=r+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+De-1)/De),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<r+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=n,s.strategy=a,s.method=t,Np(e)},m5=(e,n)=>kp(e,n,Wc,Qm,t5,Xm),v5=(e,n)=>{if(ul(e)||n>E0||n<0)return e?co(e,ur):ur;let t=e.state;if(!e.output||e.avail_in!==0&&!e.input||t.status===Ks&&n!==zi)return co(e,e.avail_out===0?Ou:ur);let i=t.last_flush;if(t.last_flush=n,t.pending!==0){if(yi(e),e.avail_out===0)return t.last_flush=-1,zn}else if(e.avail_in===0&&T0(n)<=T0(i)&&n!==zi)return co(e,Ou);if(t.status===Ks&&e.avail_in!==0)return co(e,Ou);if(t.status===Yo&&t.wrap===0&&(t.status=lo),t.status===Yo){let r=Wc+(t.w_bits-8<<4)<<8,a=-1;if(t.strategy>=Fc||t.level<2?a=0:t.level<6?a=1:t.level===6?a=2:a=3,r|=a<<6,t.strstart!==0&&(r|=s5),r+=31-r%31,Xs(t,r),t.strstart!==0&&(Xs(t,e.adler>>>16),Xs(t,e.adler&65535)),e.adler=1,t.status=lo,yi(e),t.pending!==0)return t.last_flush=-1,zn}if(t.status===nh){if(e.adler=0,Re(t,31),Re(t,139),Re(t,8),t.gzhead)Re(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),Re(t,t.gzhead.time&255),Re(t,t.gzhead.time>>8&255),Re(t,t.gzhead.time>>16&255),Re(t,t.gzhead.time>>24&255),Re(t,t.level===9?2:t.strategy>=Fc||t.level<2?4:0),Re(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(Re(t,t.gzhead.extra.length&255),Re(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(e.adler=Nn(e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=Yu;else if(Re(t,0),Re(t,0),Re(t,0),Re(t,0),Re(t,0),Re(t,t.level===9?2:t.strategy>=Fc||t.level<2?4:0),Re(t,l5),t.status=lo,yi(e),t.pending!==0)return t.last_flush=-1,zn}if(t.status===Yu){if(t.gzhead.extra){let r=t.pending,a=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+a>t.pending_buf_size;){let s=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+s),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>r&&(e.adler=Nn(e.adler,t.pending_buf,t.pending-r,r)),t.gzindex+=s,yi(e),t.pending!==0)return t.last_flush=-1,zn;r=0,a-=s}let l=new Uint8Array(t.gzhead.extra);t.pending_buf.set(l.subarray(t.gzindex,t.gzindex+a),t.pending),t.pending+=a,t.gzhead.hcrc&&t.pending>r&&(e.adler=Nn(e.adler,t.pending_buf,t.pending-r,r)),t.gzindex=0}t.status=Gu}if(t.status===Gu){if(t.gzhead.name){let r=t.pending,a;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>r&&(e.adler=Nn(e.adler,t.pending_buf,t.pending-r,r)),yi(e),t.pending!==0)return t.last_flush=-1,zn;r=0}t.gzindex<t.gzhead.name.length?a=t.gzhead.name.charCodeAt(t.gzindex++)&255:a=0,Re(t,a)}while(a!==0);t.gzhead.hcrc&&t.pending>r&&(e.adler=Nn(e.adler,t.pending_buf,t.pending-r,r)),t.gzindex=0}t.status=Zu}if(t.status===Zu){if(t.gzhead.comment){let r=t.pending,a;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>r&&(e.adler=Nn(e.adler,t.pending_buf,t.pending-r,r)),yi(e),t.pending!==0)return t.last_flush=-1,zn;r=0}t.gzindex<t.gzhead.comment.length?a=t.gzhead.comment.charCodeAt(t.gzindex++)&255:a=0,Re(t,a)}while(a!==0);t.gzhead.hcrc&&t.pending>r&&(e.adler=Nn(e.adler,t.pending_buf,t.pending-r,r))}t.status=Xu}if(t.status===Xu){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(yi(e),t.pending!==0))return t.last_flush=-1,zn;Re(t,e.adler&255),Re(t,e.adler>>8&255),e.adler=0}if(t.status=lo,yi(e),t.pending!==0)return t.last_flush=-1,zn}if(e.avail_in!==0||t.lookahead!==0||n!==xa&&t.status!==Ks){let r=t.level===0?Ap(t,n):t.strategy===Fc?h5(t,n):t.strategy===Gm?u5(t,n):Js[t.level].func(t,n);if((r===ho||r===Jo)&&(t.status=Ks),r===ei||r===ho)return e.avail_out===0&&(t.last_flush=-1),zn;if(r===Ko&&(n===Hm?Um(t):n!==E0&&(Wu(t,0,0,!1),n===Vm&&(ba(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),yi(e),e.avail_out===0))return t.last_flush=-1,zn}return n!==zi?zn:t.wrap<=0?O0:(t.wrap===2?(Re(t,e.adler&255),Re(t,e.adler>>8&255),Re(t,e.adler>>16&255),Re(t,e.adler>>24&255),Re(t,e.total_in&255),Re(t,e.total_in>>8&255),Re(t,e.total_in>>16&255),Re(t,e.total_in>>24&255)):(Xs(t,e.adler>>>16),Xs(t,e.adler&65535)),yi(e),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?zn:O0)},_5=e=>{if(ul(e))return ur;let n=e.state.status;return e.state=null,n===lo?co(e,Wm):zn},b5=(e,n)=>{let t=n.length;if(ul(e))return ur;let i=e.state,r=i.wrap;if(r===2||r===1&&i.status!==Yo||i.lookahead)return ur;if(r===1&&(e.adler=ol(e.adler,n,t,0)),i.wrap=0,t>=i.w_size){r===0&&(ba(i.head),i.strstart=0,i.block_start=0,i.insert=0);let d=new Uint8Array(i.w_size);d.set(n.subarray(t-i.w_size,t),0),n=d,t=i.w_size}let a=e.avail_in,l=e.next_in,s=e.input;for(e.avail_in=t,e.next_in=0,e.input=n,Go(i);i.lookahead>=De;){let d=i.strstart,u=i.lookahead-(De-1);do i.ins_h=Ca(i,i.ins_h,i.window[d+De-1]),i.prev[d&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=d,d++;while(--u);i.strstart=d,i.lookahead=De-1,Go(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=De-1,i.match_available=0,e.next_in=l,e.input=s,e.avail_in=a,i.wrap=r,zn},y5=m5,w5=kp,x5=Np,C5=Dp,S5=g5,P5=v5,M5=_5,A5=b5,D5="pako deflate (from Nodeca project)",tl={deflateInit:y5,deflateInit2:w5,deflateReset:x5,deflateResetKeep:C5,deflateSetHeader:S5,deflate:P5,deflateEnd:M5,deflateSetDictionary:A5,deflateInfo:D5},N5=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),k5=function(e){let n=Array.prototype.slice.call(arguments,1);for(;n.length;){let t=n.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(let i in t)N5(t,i)&&(e[i]=t[i])}}return e},L5=e=>{let n=0;for(let i=0,r=e.length;i<r;i++)n+=e[i].length;let t=new Uint8Array(n);for(let i=0,r=0,a=e.length;i<a;i++){let l=e[i];t.set(l,r),r+=l.length}return t},$c={assign:k5,flattenChunks:L5},Lp=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Lp=!1}var sl=new Uint8Array(256);for(let e=0;e<256;e++)sl[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;sl[254]=sl[254]=1;var E5=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let n,t,i,r,a,l=e.length,s=0;for(r=0;r<l;r++)t=e.charCodeAt(r),(t&64512)===55296&&r+1<l&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),s+=t<128?1:t<2048?2:t<65536?3:4;for(n=new Uint8Array(s),a=0,r=0;a<s;r++)t=e.charCodeAt(r),(t&64512)===55296&&r+1<l&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),t<128?n[a++]=t:t<2048?(n[a++]=192|t>>>6,n[a++]=128|t&63):t<65536?(n[a++]=224|t>>>12,n[a++]=128|t>>>6&63,n[a++]=128|t&63):(n[a++]=240|t>>>18,n[a++]=128|t>>>12&63,n[a++]=128|t>>>6&63,n[a++]=128|t&63);return n},O5=(e,n)=>{if(n<65534&&e.subarray&&Lp)return String.fromCharCode.apply(null,e.length===n?e:e.subarray(0,n));let t="";for(let i=0;i<n;i++)t+=String.fromCharCode(e[i]);return t},T5=(e,n)=>{let t=n||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,n));let i,r,a=new Array(t*2);for(r=0,i=0;i<t;){let l=e[i++];if(l<128){a[r++]=l;continue}let s=sl[l];if(s>4){a[r++]=65533,i+=s-1;continue}for(l&=s===2?31:s===3?15:7;s>1&&i<t;)l=l<<6|e[i++]&63,s--;if(s>1){a[r++]=65533;continue}l<65536?a[r++]=l:(l-=65536,a[r++]=55296|l>>10&1023,a[r++]=56320|l&1023)}return O5(a,r)},I5=(e,n)=>{n=n||e.length,n>e.length&&(n=e.length);let t=n-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?n:t+sl[e[t]]>n?t:n},ll={string2buf:E5,buf2string:T5,utf8border:I5};function F5(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Ep=F5,Op=Object.prototype.toString,{Z_NO_FLUSH:R5,Z_SYNC_FLUSH:B5,Z_FULL_FLUSH:z5,Z_FINISH:j5,Z_OK:Hc,Z_STREAM_END:q5,Z_DEFAULT_COMPRESSION:U5,Z_DEFAULT_STRATEGY:H5,Z_DEFLATED:V5}=Xo;function hl(e){this.options=$c.assign({level:U5,method:V5,chunkSize:16384,windowBits:15,memLevel:8,strategy:H5},e||{});let n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ep,this.strm.avail_out=0;let t=tl.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(t!==Hc)throw new Error(uo[t]);if(n.header&&tl.deflateSetHeader(this.strm,n.header),n.dictionary){let i;if(typeof n.dictionary=="string"?i=ll.string2buf(n.dictionary):Op.call(n.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(n.dictionary):i=n.dictionary,t=tl.deflateSetDictionary(this.strm,i),t!==Hc)throw new Error(uo[t]);this._dict_set=!0}}hl.prototype.push=function(e,n){let t=this.strm,i=this.options.chunkSize,r,a;if(this.ended)return!1;for(n===~~n?a=n:a=n===!0?j5:R5,typeof e=="string"?t.input=ll.string2buf(e):Op.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),(a===B5||a===z5)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(r=tl.deflate(t,a),r===q5)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),r=tl.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===Hc;if(t.avail_out===0){this.onData(t.output);continue}if(a>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};hl.prototype.onData=function(e){this.chunks.push(e)};hl.prototype.onEnd=function(e){e===Hc&&(this.result=$c.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function ih(e,n){let t=new hl(n);if(t.push(e,!0),t.err)throw t.msg||uo[t.err];return t.result}function W5(e,n){return n=n||{},n.raw=!0,ih(e,n)}function $5(e,n){return n=n||{},n.gzip=!0,ih(e,n)}var Y5=hl,G5=ih,Z5=W5,X5=$5,K5=Xo,J5={Deflate:Y5,deflate:G5,deflateRaw:Z5,gzip:X5,constants:K5},Rc=16209,Q5=16191,tv=function(n,t){let i,r,a,l,s,d,u,f,v,_,g,A,k,L,M,H,V,F,ut,St,vt,X,z,nt,S=n.state;i=n.next_in,z=n.input,r=i+(n.avail_in-5),a=n.next_out,nt=n.output,l=a-(t-n.avail_out),s=a+(n.avail_out-257),d=S.dmax,u=S.wsize,f=S.whave,v=S.wnext,_=S.window,g=S.hold,A=S.bits,k=S.lencode,L=S.distcode,M=(1<<S.lenbits)-1,H=(1<<S.distbits)-1;t:do{A<15&&(g+=z[i++]<<A,A+=8,g+=z[i++]<<A,A+=8),V=k[g&M];e:for(;;){if(F=V>>>24,g>>>=F,A-=F,F=V>>>16&255,F===0)nt[a++]=V&65535;else if(F&16){ut=V&65535,F&=15,F&&(A<F&&(g+=z[i++]<<A,A+=8),ut+=g&(1<<F)-1,g>>>=F,A-=F),A<15&&(g+=z[i++]<<A,A+=8,g+=z[i++]<<A,A+=8),V=L[g&H];n:for(;;){if(F=V>>>24,g>>>=F,A-=F,F=V>>>16&255,F&16){if(St=V&65535,F&=15,A<F&&(g+=z[i++]<<A,A+=8,A<F&&(g+=z[i++]<<A,A+=8)),St+=g&(1<<F)-1,St>d){n.msg="invalid distance too far back",S.mode=Rc;break t}if(g>>>=F,A-=F,F=a-l,St>F){if(F=St-F,F>f&&S.sane){n.msg="invalid distance too far back",S.mode=Rc;break t}if(vt=0,X=_,v===0){if(vt+=u-F,F<ut){ut-=F;do nt[a++]=_[vt++];while(--F);vt=a-St,X=nt}}else if(v<F){if(vt+=u+v-F,F-=v,F<ut){ut-=F;do nt[a++]=_[vt++];while(--F);if(vt=0,v<ut){F=v,ut-=F;do nt[a++]=_[vt++];while(--F);vt=a-St,X=nt}}}else if(vt+=v-F,F<ut){ut-=F;do nt[a++]=_[vt++];while(--F);vt=a-St,X=nt}for(;ut>2;)nt[a++]=X[vt++],nt[a++]=X[vt++],nt[a++]=X[vt++],ut-=3;ut&&(nt[a++]=X[vt++],ut>1&&(nt[a++]=X[vt++]))}else{vt=a-St;do nt[a++]=nt[vt++],nt[a++]=nt[vt++],nt[a++]=nt[vt++],ut-=3;while(ut>2);ut&&(nt[a++]=nt[vt++],ut>1&&(nt[a++]=nt[vt++]))}}else if((F&64)===0){V=L[(V&65535)+(g&(1<<F)-1)];continue n}else{n.msg="invalid distance code",S.mode=Rc;break t}break}}else if((F&64)===0){V=k[(V&65535)+(g&(1<<F)-1)];continue e}else if(F&32){S.mode=Q5;break t}else{n.msg="invalid literal/length code",S.mode=Rc;break t}break}}while(i<r&&a<s);ut=A>>3,i-=ut,A-=ut<<3,g&=(1<<A)-1,n.next_in=i,n.next_out=a,n.avail_in=i<r?5+(r-i):5-(i-r),n.avail_out=a<s?257+(s-a):257-(a-s),S.hold=g,S.bits=A},Wo=15,I0=852,F0=592,R0=0,Iu=1,B0=2,ev=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),nv=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),iv=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),rv=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),av=(e,n,t,i,r,a,l,s)=>{let d=s.bits,u=0,f=0,v=0,_=0,g=0,A=0,k=0,L=0,M=0,H=0,V,F,ut,St,vt,X=null,z,nt=new Uint16Array(Wo+1),S=new Uint16Array(Wo+1),N=null,q,j,it;for(u=0;u<=Wo;u++)nt[u]=0;for(f=0;f<i;f++)nt[n[t+f]]++;for(g=d,_=Wo;_>=1&&nt[_]===0;_--);if(g>_&&(g=_),_===0)return r[a++]=1<<24|64<<16|0,r[a++]=1<<24|64<<16|0,s.bits=1,0;for(v=1;v<_&&nt[v]===0;v++);for(g<v&&(g=v),L=1,u=1;u<=Wo;u++)if(L<<=1,L-=nt[u],L<0)return-1;if(L>0&&(e===R0||_!==1))return-1;for(S[1]=0,u=1;u<Wo;u++)S[u+1]=S[u]+nt[u];for(f=0;f<i;f++)n[t+f]!==0&&(l[S[n[t+f]]++]=f);if(e===R0?(X=N=l,z=20):e===Iu?(X=ev,N=nv,z=257):(X=iv,N=rv,z=0),H=0,f=0,u=v,vt=a,A=g,k=0,ut=-1,M=1<<g,St=M-1,e===Iu&&M>I0||e===B0&&M>F0)return 1;for(;;){q=u-k,l[f]+1<z?(j=0,it=l[f]):l[f]>=z?(j=N[l[f]-z],it=X[l[f]-z]):(j=96,it=0),V=1<<u-k,F=1<<A,v=F;do F-=V,r[vt+(H>>k)+F]=q<<24|j<<16|it|0;while(F!==0);for(V=1<<u-1;H&V;)V>>=1;if(V!==0?(H&=V-1,H+=V):H=0,f++,--nt[u]===0){if(u===_)break;u=n[t+l[f]]}if(u>g&&(H&St)!==ut){for(k===0&&(k=g),vt+=v,A=u-k,L=1<<A;A+k<_&&(L-=nt[A+k],!(L<=0));)A++,L<<=1;if(M+=1<<A,e===Iu&&M>I0||e===B0&&M>F0)return 1;ut=H&St,r[ut]=g<<24|A<<16|vt-a|0}}return H!==0&&(r[vt+H]=u-k<<24|64<<16|0),s.bits=g,0},el=av,ov=0,Tp=1,Ip=2,{Z_FINISH:z0,Z_BLOCK:sv,Z_TREES:Bc,Z_OK:fo,Z_STREAM_END:lv,Z_NEED_DICT:cv,Z_STREAM_ERROR:ji,Z_DATA_ERROR:Fp,Z_MEM_ERROR:Rp,Z_BUF_ERROR:dv,Z_DEFLATED:j0}=Xo,Yc=16180,q0=16181,U0=16182,H0=16183,V0=16184,W0=16185,$0=16186,Y0=16187,G0=16188,Z0=16189,Vc=16190,zr=16191,Fu=16192,X0=16193,Ru=16194,K0=16195,J0=16196,Q0=16197,tp=16198,zc=16199,jc=16200,ep=16201,np=16202,ip=16203,rp=16204,ap=16205,Bu=16206,op=16207,sp=16208,en=16209,Bp=16210,zp=16211,uv=852,hv=592,fv=15,pv=fv,lp=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function gv(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var po=e=>{if(!e)return 1;let n=e.state;return!n||n.strm!==e||n.mode<Yc||n.mode>zp?1:0},jp=e=>{if(po(e))return ji;let n=e.state;return e.total_in=e.total_out=n.total=0,e.msg="",n.wrap&&(e.adler=n.wrap&1),n.mode=Yc,n.last=0,n.havedict=0,n.flags=-1,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(uv),n.distcode=n.distdyn=new Int32Array(hv),n.sane=1,n.back=-1,fo},qp=e=>{if(po(e))return ji;let n=e.state;return n.wsize=0,n.whave=0,n.wnext=0,jp(e)},Up=(e,n)=>{let t;if(po(e))return ji;let i=e.state;return n<0?(t=0,n=-n):(t=(n>>4)+5,n<48&&(n&=15)),n&&(n<8||n>15)?ji:(i.window!==null&&i.wbits!==n&&(i.window=null),i.wrap=t,i.wbits=n,qp(e))},Hp=(e,n)=>{if(!e)return ji;let t=new gv;e.state=t,t.strm=e,t.window=null,t.mode=Yc;let i=Up(e,n);return i!==fo&&(e.state=null),i},mv=e=>Hp(e,pv),cp=!0,zu,ju,vv=e=>{if(cp){zu=new Int32Array(512),ju=new Int32Array(32);let n=0;for(;n<144;)e.lens[n++]=8;for(;n<256;)e.lens[n++]=9;for(;n<280;)e.lens[n++]=7;for(;n<288;)e.lens[n++]=8;for(el(Tp,e.lens,0,288,zu,0,e.work,{bits:9}),n=0;n<32;)e.lens[n++]=5;el(Ip,e.lens,0,32,ju,0,e.work,{bits:5}),cp=!1}e.lencode=zu,e.lenbits=9,e.distcode=ju,e.distbits=5},Vp=(e,n,t,i)=>{let r,a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(n.subarray(t-a.wsize,t),0),a.wnext=0,a.whave=a.wsize):(r=a.wsize-a.wnext,r>i&&(r=i),a.window.set(n.subarray(t-i,t-i+r),a.wnext),i-=r,i?(a.window.set(n.subarray(t-i,t),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0},_v=(e,n)=>{let t,i,r,a,l,s,d,u,f,v,_,g,A,k,L=0,M,H,V,F,ut,St,vt,X,z=new Uint8Array(4),nt,S,N=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(po(e)||!e.output||!e.input&&e.avail_in!==0)return ji;t=e.state,t.mode===zr&&(t.mode=Fu),l=e.next_out,r=e.output,d=e.avail_out,a=e.next_in,i=e.input,s=e.avail_in,u=t.hold,f=t.bits,v=s,_=d,X=fo;t:for(;;)switch(t.mode){case Yc:if(t.wrap===0){t.mode=Fu;break}for(;f<16;){if(s===0)break t;s--,u+=i[a++]<<f,f+=8}if(t.wrap&2&&u===35615){t.wbits===0&&(t.wbits=15),t.check=0,z[0]=u&255,z[1]=u>>>8&255,t.check=Nn(t.check,z,2,0),u=0,f=0,t.mode=q0;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",t.mode=en;break}if((u&15)!==j0){e.msg="unknown compression method",t.mode=en;break}if(u>>>=4,f-=4,vt=(u&15)+8,t.wbits===0&&(t.wbits=vt),vt>15||vt>t.wbits){e.msg="invalid window size",t.mode=en;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=u&512?Z0:zr,u=0,f=0;break;case q0:for(;f<16;){if(s===0)break t;s--,u+=i[a++]<<f,f+=8}if(t.flags=u,(t.flags&255)!==j0){e.msg="unknown compression method",t.mode=en;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=en;break}t.head&&(t.head.text=u>>8&1),t.flags&512&&t.wrap&4&&(z[0]=u&255,z[1]=u>>>8&255,t.check=Nn(t.check,z,2,0)),u=0,f=0,t.mode=U0;case U0:for(;f<32;){if(s===0)break t;s--,u+=i[a++]<<f,f+=8}t.head&&(t.head.time=u),t.flags&512&&t.wrap&4&&(z[0]=u&255,z[1]=u>>>8&255,z[2]=u>>>16&255,z[3]=u>>>24&255,t.check=Nn(t.check,z,4,0)),u=0,f=0,t.mode=H0;case H0:for(;f<16;){if(s===0)break t;s--,u+=i[a++]<<f,f+=8}t.head&&(t.head.xflags=u&255,t.head.os=u>>8),t.flags&512&&t.wrap&4&&(z[0]=u&255,z[1]=u>>>8&255,t.check=Nn(t.check,z,2,0)),u=0,f=0,t.mode=V0;case V0:if(t.flags&1024){for(;f<16;){if(s===0)break t;s--,u+=i[a++]<<f,f+=8}t.length=u,t.head&&(t.head.extra_len=u),t.flags&512&&t.wrap&4&&(z[0]=u&255,z[1]=u>>>8&255,t.check=Nn(t.check,z,2,0)),u=0,f=0}else t.head&&(t.head.extra=null);t.mode=W0;case W0:if(t.flags&1024&&(g=t.length,g>s&&(g=s),g&&(t.head&&(vt=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(a,a+g),vt)),t.flags&512&&t.wrap&4&&(t.check=Nn(t.check,i,g,a)),s-=g,a+=g,t.length-=g),t.length))break t;t.length=0,t.mode=$0;case $0:if(t.flags&2048){if(s===0)break t;g=0;do vt=i[a+g++],t.head&&vt&&t.length<65536&&(t.head.name+=String.fromCharCode(vt));while(vt&&g<s);if(t.flags&512&&t.wrap&4&&(t.check=Nn(t.check,i,g,a)),s-=g,a+=g,vt)break t}else t.head&&(t.head.name=null);t.length=0,t.mode=Y0;case Y0:if(t.flags&4096){if(s===0)break t;g=0;do vt=i[a+g++],t.head&&vt&&t.length<65536&&(t.head.comment+=String.fromCharCode(vt));while(vt&&g<s);if(t.flags&512&&t.wrap&4&&(t.check=Nn(t.check,i,g,a)),s-=g,a+=g,vt)break t}else t.head&&(t.head.comment=null);t.mode=G0;case G0:if(t.flags&512){for(;f<16;){if(s===0)break t;s--,u+=i[a++]<<f,f+=8}if(t.wrap&4&&u!==(t.check&65535)){e.msg="header crc mismatch",t.mode=en;break}u=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=zr;break;case Z0:for(;f<32;){if(s===0)break t;s--,u+=i[a++]<<f,f+=8}e.adler=t.check=lp(u),u=0,f=0,t.mode=Vc;case Vc:if(t.havedict===0)return e.next_out=l,e.avail_out=d,e.next_in=a,e.avail_in=s,t.hold=u,t.bits=f,cv;e.adler=t.check=1,t.mode=zr;case zr:if(n===sv||n===Bc)break t;case Fu:if(t.last){u>>>=f&7,f-=f&7,t.mode=Bu;break}for(;f<3;){if(s===0)break t;s--,u+=i[a++]<<f,f+=8}switch(t.last=u&1,u>>>=1,f-=1,u&3){case 0:t.mode=X0;break;case 1:if(vv(t),t.mode=zc,n===Bc){u>>>=2,f-=2;break t}break;case 2:t.mode=J0;break;case 3:e.msg="invalid block type",t.mode=en}u>>>=2,f-=2;break;case X0:for(u>>>=f&7,f-=f&7;f<32;){if(s===0)break t;s--,u+=i[a++]<<f,f+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",t.mode=en;break}if(t.length=u&65535,u=0,f=0,t.mode=Ru,n===Bc)break t;case Ru:t.mode=K0;case K0:if(g=t.length,g){if(g>s&&(g=s),g>d&&(g=d),g===0)break t;r.set(i.subarray(a,a+g),l),s-=g,a+=g,d-=g,l+=g,t.length-=g;break}t.mode=zr;break;case J0:for(;f<14;){if(s===0)break t;s--,u+=i[a++]<<f,f+=8}if(t.nlen=(u&31)+257,u>>>=5,f-=5,t.ndist=(u&31)+1,u>>>=5,f-=5,t.ncode=(u&15)+4,u>>>=4,f-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=en;break}t.have=0,t.mode=Q0;case Q0:for(;t.have<t.ncode;){for(;f<3;){if(s===0)break t;s--,u+=i[a++]<<f,f+=8}t.lens[N[t.have++]]=u&7,u>>>=3,f-=3}for(;t.have<19;)t.lens[N[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,nt={bits:t.lenbits},X=el(ov,t.lens,0,19,t.lencode,0,t.work,nt),t.lenbits=nt.bits,X){e.msg="invalid code lengths set",t.mode=en;break}t.have=0,t.mode=tp;case tp:for(;t.have<t.nlen+t.ndist;){for(;L=t.lencode[u&(1<<t.lenbits)-1],M=L>>>24,H=L>>>16&255,V=L&65535,!(M<=f);){if(s===0)break t;s--,u+=i[a++]<<f,f+=8}if(V<16)u>>>=M,f-=M,t.lens[t.have++]=V;else{if(V===16){for(S=M+2;f<S;){if(s===0)break t;s--,u+=i[a++]<<f,f+=8}if(u>>>=M,f-=M,t.have===0){e.msg="invalid bit length repeat",t.mode=en;break}vt=t.lens[t.have-1],g=3+(u&3),u>>>=2,f-=2}else if(V===17){for(S=M+3;f<S;){if(s===0)break t;s--,u+=i[a++]<<f,f+=8}u>>>=M,f-=M,vt=0,g=3+(u&7),u>>>=3,f-=3}else{for(S=M+7;f<S;){if(s===0)break t;s--,u+=i[a++]<<f,f+=8}u>>>=M,f-=M,vt=0,g=11+(u&127),u>>>=7,f-=7}if(t.have+g>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=en;break}for(;g--;)t.lens[t.have++]=vt}}if(t.mode===en)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=en;break}if(t.lenbits=9,nt={bits:t.lenbits},X=el(Tp,t.lens,0,t.nlen,t.lencode,0,t.work,nt),t.lenbits=nt.bits,X){e.msg="invalid literal/lengths set",t.mode=en;break}if(t.distbits=6,t.distcode=t.distdyn,nt={bits:t.distbits},X=el(Ip,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,nt),t.distbits=nt.bits,X){e.msg="invalid distances set",t.mode=en;break}if(t.mode=zc,n===Bc)break t;case zc:t.mode=jc;case jc:if(s>=6&&d>=258){e.next_out=l,e.avail_out=d,e.next_in=a,e.avail_in=s,t.hold=u,t.bits=f,tv(e,_),l=e.next_out,r=e.output,d=e.avail_out,a=e.next_in,i=e.input,s=e.avail_in,u=t.hold,f=t.bits,t.mode===zr&&(t.back=-1);break}for(t.back=0;L=t.lencode[u&(1<<t.lenbits)-1],M=L>>>24,H=L>>>16&255,V=L&65535,!(M<=f);){if(s===0)break t;s--,u+=i[a++]<<f,f+=8}if(H&&(H&240)===0){for(F=M,ut=H,St=V;L=t.lencode[St+((u&(1<<F+ut)-1)>>F)],M=L>>>24,H=L>>>16&255,V=L&65535,!(F+M<=f);){if(s===0)break t;s--,u+=i[a++]<<f,f+=8}u>>>=F,f-=F,t.back+=F}if(u>>>=M,f-=M,t.back+=M,t.length=V,H===0){t.mode=ap;break}if(H&32){t.back=-1,t.mode=zr;break}if(H&64){e.msg="invalid literal/length code",t.mode=en;break}t.extra=H&15,t.mode=ep;case ep:if(t.extra){for(S=t.extra;f<S;){if(s===0)break t;s--,u+=i[a++]<<f,f+=8}t.length+=u&(1<<t.extra)-1,u>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=np;case np:for(;L=t.distcode[u&(1<<t.distbits)-1],M=L>>>24,H=L>>>16&255,V=L&65535,!(M<=f);){if(s===0)break t;s--,u+=i[a++]<<f,f+=8}if((H&240)===0){for(F=M,ut=H,St=V;L=t.distcode[St+((u&(1<<F+ut)-1)>>F)],M=L>>>24,H=L>>>16&255,V=L&65535,!(F+M<=f);){if(s===0)break t;s--,u+=i[a++]<<f,f+=8}u>>>=F,f-=F,t.back+=F}if(u>>>=M,f-=M,t.back+=M,H&64){e.msg="invalid distance code",t.mode=en;break}t.offset=V,t.extra=H&15,t.mode=ip;case ip:if(t.extra){for(S=t.extra;f<S;){if(s===0)break t;s--,u+=i[a++]<<f,f+=8}t.offset+=u&(1<<t.extra)-1,u>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=en;break}t.mode=rp;case rp:if(d===0)break t;if(g=_-d,t.offset>g){if(g=t.offset-g,g>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=en;break}g>t.wnext?(g-=t.wnext,A=t.wsize-g):A=t.wnext-g,g>t.length&&(g=t.length),k=t.window}else k=r,A=l-t.offset,g=t.length;g>d&&(g=d),d-=g,t.length-=g;do r[l++]=k[A++];while(--g);t.length===0&&(t.mode=jc);break;case ap:if(d===0)break t;r[l++]=t.length,d--,t.mode=jc;break;case Bu:if(t.wrap){for(;f<32;){if(s===0)break t;s--,u|=i[a++]<<f,f+=8}if(_-=d,e.total_out+=_,t.total+=_,t.wrap&4&&_&&(e.adler=t.check=t.flags?Nn(t.check,r,_,l-_):ol(t.check,r,_,l-_)),_=d,t.wrap&4&&(t.flags?u:lp(u))!==t.check){e.msg="incorrect data check",t.mode=en;break}u=0,f=0}t.mode=op;case op:if(t.wrap&&t.flags){for(;f<32;){if(s===0)break t;s--,u+=i[a++]<<f,f+=8}if(t.wrap&4&&u!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=en;break}u=0,f=0}t.mode=sp;case sp:X=lv;break t;case en:X=Fp;break t;case Bp:return Rp;case zp:default:return ji}return e.next_out=l,e.avail_out=d,e.next_in=a,e.avail_in=s,t.hold=u,t.bits=f,(t.wsize||_!==e.avail_out&&t.mode<en&&(t.mode<Bu||n!==z0))&&Vp(e,e.output,e.next_out,_-e.avail_out),v-=e.avail_in,_-=e.avail_out,e.total_in+=v,e.total_out+=_,t.total+=_,t.wrap&4&&_&&(e.adler=t.check=t.flags?Nn(t.check,r,_,e.next_out-_):ol(t.check,r,_,e.next_out-_)),e.data_type=t.bits+(t.last?64:0)+(t.mode===zr?128:0)+(t.mode===zc||t.mode===Ru?256:0),(v===0&&_===0||n===z0)&&X===fo&&(X=dv),X},bv=e=>{if(po(e))return ji;let n=e.state;return n.window&&(n.window=null),e.state=null,fo},yv=(e,n)=>{if(po(e))return ji;let t=e.state;return(t.wrap&2)===0?ji:(t.head=n,n.done=!1,fo)},wv=(e,n)=>{let t=n.length,i,r,a;return po(e)||(i=e.state,i.wrap!==0&&i.mode!==Vc)?ji:i.mode===Vc&&(r=1,r=ol(r,n,t,0),r!==i.check)?Fp:(a=Vp(e,n,t,t),a?(i.mode=Bp,Rp):(i.havedict=1,fo))},xv=qp,Cv=Up,Sv=jp,Pv=mv,Mv=Hp,Av=_v,Dv=bv,Nv=yv,kv=wv,Lv="pako inflate (from Nodeca project)",qr={inflateReset:xv,inflateReset2:Cv,inflateResetKeep:Sv,inflateInit:Pv,inflateInit2:Mv,inflate:Av,inflateEnd:Dv,inflateGetHeader:Nv,inflateSetDictionary:kv,inflateInfo:Lv};function Ev(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Ov=Ev,Wp=Object.prototype.toString,{Z_NO_FLUSH:Tv,Z_FINISH:Iv,Z_OK:cl,Z_STREAM_END:qu,Z_NEED_DICT:Uu,Z_STREAM_ERROR:Fv,Z_DATA_ERROR:dp,Z_MEM_ERROR:Rv}=Xo;function fl(e){this.options=$c.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});let n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(e&&e.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&(n.windowBits&15)===0&&(n.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ep,this.strm.avail_out=0;let t=qr.inflateInit2(this.strm,n.windowBits);if(t!==cl)throw new Error(uo[t]);if(this.header=new Ov,qr.inflateGetHeader(this.strm,this.header),n.dictionary&&(typeof n.dictionary=="string"?n.dictionary=ll.string2buf(n.dictionary):Wp.call(n.dictionary)==="[object ArrayBuffer]"&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(t=qr.inflateSetDictionary(this.strm,n.dictionary),t!==cl)))throw new Error(uo[t])}fl.prototype.push=function(e,n){let t=this.strm,i=this.options.chunkSize,r=this.options.dictionary,a,l,s;if(this.ended)return!1;for(n===~~n?l=n:l=n===!0?Iv:Tv,Wp.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),a=qr.inflate(t,l),a===Uu&&r&&(a=qr.inflateSetDictionary(t,r),a===cl?a=qr.inflate(t,l):a===dp&&(a=Uu));t.avail_in>0&&a===qu&&t.state.wrap>0&&e[t.next_in]!==0;)qr.inflateReset(t),a=qr.inflate(t,l);switch(a){case Fv:case dp:case Uu:case Rv:return this.onEnd(a),this.ended=!0,!1}if(s=t.avail_out,t.next_out&&(t.avail_out===0||a===qu))if(this.options.to==="string"){let d=ll.utf8border(t.output,t.next_out),u=t.next_out-d,f=ll.buf2string(t.output,d);t.next_out=u,t.avail_out=i-u,u&&t.output.set(t.output.subarray(d,d+u),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(a===cl&&s===0)){if(a===qu)return a=qr.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};fl.prototype.onData=function(e){this.chunks.push(e)};fl.prototype.onEnd=function(e){e===cl&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=$c.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function rh(e,n){let t=new fl(n);if(t.push(e),t.err)throw t.msg||uo[t.err];return t.result}function Bv(e,n){return n=n||{},n.raw=!0,rh(e,n)}var zv=fl,jv=rh,qv=Bv,Uv=rh,Hv=Xo,Vv={Inflate:zv,inflate:jv,inflateRaw:qv,ungzip:Uv,constants:Hv},{Deflate:Yw,deflate:Gw,deflateRaw:Zw,gzip:Xw}=J5,{Inflate:Wv,inflate:$v,inflateRaw:Kw,ungzip:Jw}=Vv;var ah=Wv,$p=$v;var Gp=[];for(let e=0;e<256;e++){let n=e;for(let t=0;t<8;t++)n&1?n=3988292384^n>>>1:n=n>>>1;Gp[e]=n}var Yp=4294967295;function Yv(e,n,t){let i=e;for(let r=0;r<t;r++)i=Gp[(i^n[r])&255]^i>>>8;return i}function Gv(e,n){return(Yv(Yp,e,n)^Yp)>>>0}function oh(e,n,t){let i=e.readUint32(),r=Gv(new Uint8Array(e.buffer,e.byteOffset+e.offset-n-4,n),n);if(r!==i)throw new Error(`CRC mismatch for chunk ${t}. Expected ${i}, found ${r}`)}function Gc(e,n,t){for(let i=0;i<t;i++)n[i]=e[i]}function Zc(e,n,t,i){let r=0;for(;r<i;r++)n[r]=e[r];for(;r<t;r++)n[r]=e[r]+n[r-i]&255}function Xc(e,n,t,i){let r=0;if(t.length===0)for(;r<i;r++)n[r]=e[r];else for(;r<i;r++)n[r]=e[r]+t[r]&255}function Kc(e,n,t,i,r){let a=0;if(t.length===0){for(;a<r;a++)n[a]=e[a];for(;a<i;a++)n[a]=e[a]+(n[a-r]>>1)&255}else{for(;a<r;a++)n[a]=e[a]+(t[a]>>1)&255;for(;a<i;a++)n[a]=e[a]+(n[a-r]+t[a]>>1)&255}}function Jc(e,n,t,i,r){let a=0;if(t.length===0){for(;a<r;a++)n[a]=e[a];for(;a<i;a++)n[a]=e[a]+n[a-r]&255}else{for(;a<r;a++)n[a]=e[a]+t[a]&255;for(;a<i;a++)n[a]=e[a]+Zv(n[a-r],t[a],t[a-r])&255}}function Zv(e,n,t){let i=e+n-t,r=Math.abs(i-e),a=Math.abs(i-n),l=Math.abs(i-t);return r<=a&&r<=l?e:a<=l?n:t}function Zp(e,n,t,i,r,a){switch(e){case 0:Gc(n,t,r);break;case 1:Zc(n,t,r,a);break;case 2:Xc(n,t,i,r);break;case 3:Kc(n,t,i,r,a);break;case 4:Jc(n,t,i,r,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}var Xv=new Uint16Array([255]),Kv=new Uint8Array(Xv.buffer),Jv=Kv[0]===255;function Xp(e){let{data:n,width:t,height:i,channels:r,depth:a}=e,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],s=Math.ceil(a/8)*r,d=new Uint8Array(i*t*s),u=0;for(let f=0;f<7;f++){let v=l[f],_=Math.ceil((t-v.x)/v.xStep),g=Math.ceil((i-v.y)/v.yStep);if(_<=0||g<=0)continue;let A=_*s,k=new Uint8Array(A);for(let L=0;L<g;L++){let M=n[u++],H=n.subarray(u,u+A);u+=A;let V=new Uint8Array(A);Zp(M,H,V,k,A,s),k.set(V);for(let F=0;F<_;F++){let ut=v.x+F*v.xStep,St=v.y+L*v.yStep;if(!(ut>=t||St>=i))for(let vt=0;vt<s;vt++)d[(St*t+ut)*s+vt]=V[F*s+vt]}}}if(a===16){let f=new Uint16Array(d.buffer);if(Jv)for(let v=0;v<f.length;v++)f[v]=Qv(f[v]);return f}else return d}function Qv(e){return(e&255)<<8|e>>8&255}var t_=new Uint16Array([255]),e_=new Uint8Array(t_.buffer),n_=e_[0]===255,i_=new Uint8Array(0);function sh(e){let{data:n,width:t,height:i,channels:r,depth:a}=e,l=Math.ceil(a/8)*r,s=Math.ceil(a/8*r*t),d=new Uint8Array(i*s),u=i_,f=0,v,_;for(let g=0;g<i;g++){switch(v=n.subarray(f+1,f+1+s),_=d.subarray(g*s,(g+1)*s),n[f]){case 0:Gc(v,_,s);break;case 1:Zc(v,_,s,l);break;case 2:Xc(v,_,u,s);break;case 3:Kc(v,_,u,s,l);break;case 4:Jc(v,_,u,s,l);break;default:throw new Error(`Unsupported filter: ${n[f]}`)}u=_,f+=s+1}if(a===16){let g=new Uint16Array(d.buffer);if(n_)for(let A=0;A<g.length;A++)g[A]=r_(g[A]);return g}else return d}function r_(e){return(e&255)<<8|e>>8&255}var Qc=Uint8Array.of(137,80,78,71,13,10,26,10);function lh(e){if(!Kp(e.readBytes(Qc.length)))throw new Error("wrong PNG signature")}function Kp(e){if(e.length<Qc.length)return!1;for(let n=0;n<Qc.length;n++)if(e[n]!==Qc[n])return!1;return!0}var Jp="tEXt",o_=0,Qp=new TextDecoder("latin1");function s_(e){if(c_(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}var l_=/^[\u0000-\u00FF]*$/;function c_(e){if(!l_.test(e))throw new Error("invalid latin1 text")}function t1(e,n,t){let i=ch(n);e[i]=d_(n,t-i.length-1)}function ch(e){for(e.mark();e.readByte()!==o_;);let n=e.offset;e.reset();let t=Qp.decode(e.readBytes(n-e.offset-1));return e.skip(1),s_(t),t}function d_(e,n){return Qp.decode(e.readBytes(n))}var ni={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},pl={UNKNOWN:-1,DEFLATE:0},td={UNKNOWN:-1,ADAPTIVE:0},gl={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},ml={NONE:0,BACKGROUND:1,PREVIOUS:2},ed={SOURCE:0,OVER:1};var nd=class extends Zs{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(n,t={}){super(n);let{checkCrc:i=!1}=t;this._checkCrc=i,this._inflator=new ah,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=pl.UNKNOWN,this._filterMethod=td.UNKNOWN,this._interlaceMethod=gl.UNKNOWN,this._colorType=ni.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(lh(this);!this._end;){let n=this.readUint32(),t=this.readChars(4);this.decodeChunk(n,t)}return this.decodeImage(),this._png}decodeApng(){for(lh(this);!this._end;){let n=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(n,t)}return this.decodeApngImage(),this._apng}decodeChunk(n,t){let i=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case Jp:t1(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?oh(this,n+4,t):this.skip(4)}decodeApngChunk(n,t){let i=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,t),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?oh(this,n+4,t):this.skip(4)}decodeIHDR(){let n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=u_(this.readUint8());let t=this.readUint8();this._colorType=t;let i;switch(t){case ni.GREYSCALE:i=1;break;case ni.TRUECOLOUR:i=3;break;case ni.INDEXED_COLOUR:i=1;break;case ni.GREYSCALE_ALPHA:i=2;break;case ni.TRUECOLOUR_ALPHA:i=4;break;case ni.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==pl.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){let n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);let t=n/3;this._hasPalette=!0;let i=[];this._palette=i;for(let r=0;r<t;r++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;let t=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let t=n,i=this.offset+this.byteOffset;if(i+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,i,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case ni.GREYSCALE:case ni.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let t=0;t<n/2;t++)this._transparency[t]=this.readUint16();break}case ni.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let t=0;for(;t<n;t++){let i=this.readByte();this._palette[t].push(i)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case ni.UNKNOWN:case ni.GREYSCALE_ALPHA:case ni.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){let t=ch(this),i=this.readUint8();if(i!==pl.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);let r=this.readBytes(n-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:$p(r)}}decodepHYs(){let n=this.readUint32(),t=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:t,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){let t={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=sh({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)t.data=i.data;else{let r=this._apng.frames.at(n-1);this.disposeFrame(i,r,t),this.addFrameDataToCanvas(t,i)}this._apng.frames.push(t)}}return this._apng}disposeFrame(n,t,i){switch(n.disposeOp){case ml.NONE:break;case ml.BACKGROUND:for(let r=0;r<this._png.height;r++)for(let a=0;a<this._png.width;a++){let l=(r*n.width+a)*this._png.channels;for(let s=0;s<this._png.channels;s++)i.data[l+s]=0}break;case ml.PREVIOUS:i.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,t){let i=1<<this._png.depth,r=(a,l)=>{let s=((a+t.yOffset)*this._png.width+t.xOffset+l)*this._png.channels,d=(a*t.width+l)*this._png.channels;return{index:s,frameIndex:d}};switch(t.blendOp){case ed.SOURCE:for(let a=0;a<t.height;a++)for(let l=0;l<t.width;l++){let{index:s,frameIndex:d}=r(a,l);for(let u=0;u<this._png.channels;u++)n.data[s+u]=t.data[d+u]}break;case ed.OVER:for(let a=0;a<t.height;a++)for(let l=0;l<t.width;l++){let{index:s,frameIndex:d}=r(a,l);for(let u=0;u<this._png.channels;u++){let f=t.data[d+this._png.channels-1]/i,v=u%(this._png.channels-1)===0?1:t.data[d+u],_=Math.floor(f*v+(1-f)*n.data[s+u]);n.data[s+u]+=_}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);let n=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==td.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===gl.NO_INTERLACE)this._png.data=sh({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===gl.ADAM7)this._png.data=Xp({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){let n=this._inflator.result,t=this._frames.at(-1);t?t.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:ml.NONE,blendOp:ed.SOURCE,data:n}),this._inflator=new ah,this._writingDataChunks=!1}};function u_(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}function e1(e,n){return new nd(e,n).decode()}var ne=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function dh(){ne.console&&typeof ne.console.log=="function"&&ne.console.log.apply(ne.console,arguments)}var Ge={log:dh,warn:function(e){ne.console&&(typeof ne.console.warn=="function"?ne.console.warn.apply(ne.console,arguments):dh.call(null,arguments))},error:function(e){ne.console&&(typeof ne.console.error=="function"?ne.console.error.apply(ne.console,arguments):dh(e))}};function uh(e,n,t){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){go(i.response,n,t)},i.onerror=function(){Ge.error("could not download file")},i.send()}function n1(e){var n=new XMLHttpRequest;n.open("HEAD",e,!1);try{n.send()}catch{}return n.status>=200&&n.status<=299}function id(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var go=ne.saveAs||((typeof window>"u"?"undefined":He(window))!=="object"||window!==ne?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,n,t){var i=ne.URL||ne.webkitURL,r=document.createElement("a");n=n||e.name||"download",r.download=n,r.rel="noopener",typeof e=="string"?(r.href=e,r.origin!==location.origin?n1(r.href)?uh(e,n,t):id(r,r.target="_blank"):id(r)):(r.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){id(r)},0))}:"msSaveOrOpenBlob"in navigator?function(e,n,t){if(n=n||e.name||"download",typeof e=="string")if(n1(e))uh(e,n,t);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){id(i)})}else navigator.msSaveOrOpenBlob((function(r,a){return a===void 0?a={autoBom:!1}:He(a)!=="object"&&(Ge.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r})(e,t),n)}:function(e,n,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof e=="string")return uh(e,n,t);var r=e.type==="application/octet-stream",a=/constructor/i.test(ne.HTMLElement)||ne.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||r&&a)&&(typeof FileReader>"u"?"undefined":He(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var f=s.result;f=l?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=f:location=f,i=null},s.readAsDataURL(e)}else{var d=ne.URL||ne.webkitURL,u=d.createObjectURL(e);i?i.location=u:location.href=u,i=null,setTimeout(function(){d.revokeObjectURL(u)},4e4)}});function M1(e){var n;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],i=0;i<t.length;i++){var r=t[i].re,a=t[i].process,l=r.exec(e);l&&(n=a(l),this.r=n[0],this.g=n[1],this.b=n[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),d=this.g.toString(16),u=this.b.toString(16);return s.length==1&&(s="0"+s),d.length==1&&(d="0"+d),u.length==1&&(u="0"+u),"#"+s+d+u}}var sd=ne.atob.bind(ne),i1=ne.btoa.bind(ne);function hh(e,n){var t=e[0],i=e[1],r=e[2],a=e[3];t=$n(t,i,r,a,n[0],7,-680876936),a=$n(a,t,i,r,n[1],12,-389564586),r=$n(r,a,t,i,n[2],17,606105819),i=$n(i,r,a,t,n[3],22,-1044525330),t=$n(t,i,r,a,n[4],7,-176418897),a=$n(a,t,i,r,n[5],12,1200080426),r=$n(r,a,t,i,n[6],17,-1473231341),i=$n(i,r,a,t,n[7],22,-45705983),t=$n(t,i,r,a,n[8],7,1770035416),a=$n(a,t,i,r,n[9],12,-1958414417),r=$n(r,a,t,i,n[10],17,-42063),i=$n(i,r,a,t,n[11],22,-1990404162),t=$n(t,i,r,a,n[12],7,1804603682),a=$n(a,t,i,r,n[13],12,-40341101),r=$n(r,a,t,i,n[14],17,-1502002290),t=Yn(t,i=$n(i,r,a,t,n[15],22,1236535329),r,a,n[1],5,-165796510),a=Yn(a,t,i,r,n[6],9,-1069501632),r=Yn(r,a,t,i,n[11],14,643717713),i=Yn(i,r,a,t,n[0],20,-373897302),t=Yn(t,i,r,a,n[5],5,-701558691),a=Yn(a,t,i,r,n[10],9,38016083),r=Yn(r,a,t,i,n[15],14,-660478335),i=Yn(i,r,a,t,n[4],20,-405537848),t=Yn(t,i,r,a,n[9],5,568446438),a=Yn(a,t,i,r,n[14],9,-1019803690),r=Yn(r,a,t,i,n[3],14,-187363961),i=Yn(i,r,a,t,n[8],20,1163531501),t=Yn(t,i,r,a,n[13],5,-1444681467),a=Yn(a,t,i,r,n[2],9,-51403784),r=Yn(r,a,t,i,n[7],14,1735328473),t=Gn(t,i=Yn(i,r,a,t,n[12],20,-1926607734),r,a,n[5],4,-378558),a=Gn(a,t,i,r,n[8],11,-2022574463),r=Gn(r,a,t,i,n[11],16,1839030562),i=Gn(i,r,a,t,n[14],23,-35309556),t=Gn(t,i,r,a,n[1],4,-1530992060),a=Gn(a,t,i,r,n[4],11,1272893353),r=Gn(r,a,t,i,n[7],16,-155497632),i=Gn(i,r,a,t,n[10],23,-1094730640),t=Gn(t,i,r,a,n[13],4,681279174),a=Gn(a,t,i,r,n[0],11,-358537222),r=Gn(r,a,t,i,n[3],16,-722521979),i=Gn(i,r,a,t,n[6],23,76029189),t=Gn(t,i,r,a,n[9],4,-640364487),a=Gn(a,t,i,r,n[12],11,-421815835),r=Gn(r,a,t,i,n[15],16,530742520),t=Zn(t,i=Gn(i,r,a,t,n[2],23,-995338651),r,a,n[0],6,-198630844),a=Zn(a,t,i,r,n[7],10,1126891415),r=Zn(r,a,t,i,n[14],15,-1416354905),i=Zn(i,r,a,t,n[5],21,-57434055),t=Zn(t,i,r,a,n[12],6,1700485571),a=Zn(a,t,i,r,n[3],10,-1894986606),r=Zn(r,a,t,i,n[10],15,-1051523),i=Zn(i,r,a,t,n[1],21,-2054922799),t=Zn(t,i,r,a,n[8],6,1873313359),a=Zn(a,t,i,r,n[15],10,-30611744),r=Zn(r,a,t,i,n[6],15,-1560198380),i=Zn(i,r,a,t,n[13],21,1309151649),t=Zn(t,i,r,a,n[4],6,-145523070),a=Zn(a,t,i,r,n[11],10,-1120210379),r=Zn(r,a,t,i,n[2],15,718787259),i=Zn(i,r,a,t,n[9],21,-343485551),e[0]=Pa(t,e[0]),e[1]=Pa(i,e[1]),e[2]=Pa(r,e[2]),e[3]=Pa(a,e[3])}function pd(e,n,t,i,r,a){return n=Pa(Pa(n,e),Pa(i,a)),Pa(n<<r|n>>>32-r,t)}function $n(e,n,t,i,r,a,l){return pd(n&t|~n&i,e,n,r,a,l)}function Yn(e,n,t,i,r,a,l){return pd(n&i|t&~i,e,n,r,a,l)}function Gn(e,n,t,i,r,a,l){return pd(n^t^i,e,n,r,a,l)}function Zn(e,n,t,i,r,a,l){return pd(t^(n|~i),e,n,r,a,l)}function A1(e){var n,t=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=e.length;n+=64)hh(i,h_(e.substring(n-64,n)));e=e.substring(n-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<e.length;n++)r[n>>2]|=e.charCodeAt(n)<<(n%4<<3);if(r[n>>2]|=128<<(n%4<<3),n>55)for(hh(i,r),n=0;n<16;n++)r[n]=0;return r[14]=8*t,hh(i,r),i}function h_(e){var n,t=[];for(n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t}var r1="0123456789abcdef".split("");function f_(e){for(var n="",t=0;t<4;t++)n+=r1[e>>8*t+4&15]+r1[e>>8*t&15];return n}function p_(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function _h(e){return A1(e).map(p_).join("")}var g_=(function(e){for(var n=0;n<e.length;n++)e[n]=f_(e[n]);return e.join("")})(A1("hello"))!="5d41402abc4b2a76b9719d911017c592";function Pa(e,n){if(g_){var t=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(t>>16)<<16|65535&t}return e+n&4294967295}function bh(e,n){var t,i,r,a;if(e!==t){for(var l=(r=e,a=1+(256/e.length|0),new Array(a+1).join(r)),s=[],d=0;d<256;d++)s[d]=d;var u=0;for(d=0;d<256;d++){var f=s[d];u=(u+f+l.charCodeAt(d))%256,s[d]=s[u],s[u]=f}t=e,i=s}else s=i;var v=n.length,_=0,g=0,A="";for(d=0;d<v;d++)g=(g+(f=s[_=(_+1)%256]))%256,s[_]=s[g],s[g]=f,l=s[(s[_]+s[g])%256],A+=String.fromCharCode(n.charCodeAt(d)^l);return A}var a1={print:4,modify:8,copy:16,"annot-forms":32};function es(e,n,t,i){this.v=1,this.r=2;var r=192;e.forEach(function(s){if(a1.perm!==void 0)throw new Error("Invalid permission: "+s);r+=a1[s]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var a=(n+this.padding).substr(0,32),l=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,l),this.P=-(1+(255^r)),this.encryptionKey=_h(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=bh(this.encryptionKey,this.padding)}function ns(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var n="",t=e.length,i=0;i<t;i++){var r=e.charCodeAt(i);n+=r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?"#"+("0"+r.toString(16)).slice(-2):e[i]}return n}function o1(e){if(He(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var n={};this.subscribe=function(t,i,r){if(r=r||!1,typeof t!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");n.hasOwnProperty(t)||(n[t]={});var a=Math.random().toString(35);return n[t][a]=[i,!!r],a},this.unsubscribe=function(t){for(var i in n)if(n[i][t])return delete n[i][t],Object.keys(n[i]).length===0&&delete n[i],!0;return!1},this.publish=function(t){if(n.hasOwnProperty(t)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var a in n[t]){var l=n[t][a];try{l[0].apply(e,i)}catch(s){ne.console&&Ge.error("jsPDF PubSub Error",s.message,s)}l[1]&&r.push(a)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return n}}function hd(e){if(!(this instanceof hd))return new hd(e);var n="opacity,stroke-opacity".split(",");for(var t in e)e.hasOwnProperty(t)&&n.indexOf(t)>=0&&(this[t]=e[t]);this.id="",this.objectNumber=-1}function D1(e,n){this.gState=e,this.matrix=n,this.id="",this.objectNumber=-1}function mo(e,n,t,i,r){if(!(this instanceof mo))return new mo(e,n,t,i,r);this.type=e==="axial"?2:3,this.coords=n,this.colors=t,D1.call(this,i,r)}function is(e,n,t,i,r){if(!(this instanceof is))return new is(e,n,t,i,r);this.boundingBox=e,this.xStep=n,this.yStep=t,this.stream="",this.cloneIndex=0,D1.call(this,i,r)}function jt(e){var n,t=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],a=arguments[3],l=[],s=1,d=16,u="S",f=null;He(e=e||{})==="object"&&(t=e.orientation,i=e.unit||i,r=e.format||r,a=e.compress||e.compressPdf||a,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),s=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(n=e.precision),e.floatPrecision!==void 0&&(d=e.floatPrecision),u=e.defaultPathOperation||"S"),l=e.filters||(a===!0?["FlateEncode"]:l),i=i||"mm",t=(""+(t||"P")).toLowerCase();var v=e.putOnlyUsedFonts||!1,_={},g={internal:{},__private__:{}};g.__private__.PubSub=o1;var A="1.3",k=g.__private__.getPdfVersion=function(){return A};g.__private__.setPdfVersion=function(h){A=h};var L={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return L};var M=g.__private__.getPageFormat=function(h){return L[h]};r=r||"a4";var H="compat",V="advanced",F=H;function ut(){this.saveGraphicsState(),R(new Kt(te,0,0,-te,0,za()*te).toString()+" cm"),this.setFontSize(this.getFontSize()/te),u="n",F=V}function St(){this.restoreGraphicsState(),u="S",F=H}var vt=g.__private__.combineFontStyleAndFontWeight=function(h,b){if(h=="bold"&&b=="normal"||h=="bold"&&b==400||h=="normal"&&b=="italic"||h=="bold"&&b=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return b&&(h=b==400||b==="normal"?h==="italic"?"italic":"normal":b!=700&&b!=="bold"||h!=="normal"?(b==700?"bold":b)+""+h:"bold"),h};g.advancedAPI=function(h){var b=F===H;return b&&ut.call(this),typeof h!="function"||(h(this),b&&St.call(this)),this},g.compatAPI=function(h){var b=F===V;return b&&St.call(this),typeof h!="function"||(h(this),b&&ut.call(this)),this},g.isAdvancedAPI=function(){return F===V};var X,z=function(h){if(F!==V)throw new Error(h+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},nt=g.roundToPrecision=g.__private__.roundToPrecision=function(h,b){var T=n||b;if(isNaN(h)||isNaN(T))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return h.toFixed(T).replace(/0+$/,"")};X=g.hpf=g.__private__.hpf=typeof d=="number"?function(h){if(isNaN(h))throw new Error("Invalid argument passed to jsPDF.hpf");return nt(h,d)}:d==="smart"?function(h){if(isNaN(h))throw new Error("Invalid argument passed to jsPDF.hpf");return nt(h,h>-1&&h<1?16:5)}:function(h){if(isNaN(h))throw new Error("Invalid argument passed to jsPDF.hpf");return nt(h,16)};var S=g.f2=g.__private__.f2=function(h){if(isNaN(h))throw new Error("Invalid argument passed to jsPDF.f2");return nt(h,2)},N=g.__private__.f3=function(h){if(isNaN(h))throw new Error("Invalid argument passed to jsPDF.f3");return nt(h,3)},q=g.scale=g.__private__.scale=function(h){if(isNaN(h))throw new Error("Invalid argument passed to jsPDF.scale");return F===H?h*te:F===V?h:void 0},j=function(h){return q((function(b){return F===H?za()-b:F===V?b:void 0})(h))};g.__private__.setPrecision=g.setPrecision=function(h){typeof parseInt(h,10)=="number"&&(n=parseInt(h,10))};var it,lt="00000000000000000000000000000000",st=g.__private__.getFileId=function(){return lt},K=g.__private__.setFileId=function(h){return lt=h!==void 0&&/^[a-fA-F0-9]{32}$/.test(h)?h.toUpperCase():lt.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(dn=new es(f.userPermissions,f.userPassword,f.ownerPassword,lt)),lt};g.setFileId=function(h){return K(h),this},g.getFileId=function(){return st()};var ct=g.__private__.convertDateToPDFDate=function(h){var b=h.getTimezoneOffset(),T=b<0?"+":"-",U=Math.floor(Math.abs(b/60)),Q=Math.abs(b%60),_t=[T,B(U),"'",B(Q),"'"].join("");return["D:",h.getFullYear(),B(h.getMonth()+1),B(h.getDate()),B(h.getHours()),B(h.getMinutes()),B(h.getSeconds()),_t].join("")},wt=g.__private__.convertPDFDateToDate=function(h){var b=parseInt(h.substr(2,4),10),T=parseInt(h.substr(6,2),10)-1,U=parseInt(h.substr(8,2),10),Q=parseInt(h.substr(10,2),10),_t=parseInt(h.substr(12,2),10),Mt=parseInt(h.substr(14,2),10);return new Date(b,T,U,Q,_t,Mt,0)},bt=g.__private__.setCreationDate=function(h){var b;if(h===void 0&&(h=new Date),h instanceof Date)b=ct(h);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(h))throw new Error("Invalid argument passed to jsPDF.setCreationDate");b=h}return it=b},C=g.__private__.getCreationDate=function(h){var b=it;return h==="jsDate"&&(b=wt(it)),b};g.setCreationDate=function(h){return bt(h),this},g.getCreationDate=function(h){return C(h)};var I,B=g.__private__.padd2=function(h){return("0"+parseInt(h)).slice(-2)},$=g.__private__.padd2Hex=function(h){return("00"+(h=h.toString())).substr(h.length)},J=0,ot=[],ft=[],ht=0,xt=[],Nt=[],Ot=!1,Tt=ft;g.__private__.setCustomOutputDestination=function(h){Ot=!0,Tt=h};var pt=function(h){Ot||(Tt=h)};g.__private__.resetCustomOutputDestination=function(){Ot=!1,Tt=ft};var R=g.__private__.out=function(h){return h=h.toString(),ht+=h.length+1,Tt.push(h),Tt},Se=g.__private__.write=function(h){return R(arguments.length===1?h.toString():Array.prototype.join.call(arguments," "))},fe=g.__private__.getArrayBuffer=function(h){for(var b=h.length,T=new ArrayBuffer(b),U=new Uint8Array(T);b--;)U[b]=h.charCodeAt(b);return T},Zt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Zt};var kt=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(h){return kt=F===V?h/te:h,this};var Vt,Et=g.__private__.getFontSize=g.getFontSize=function(){return F===H?kt:kt*te},pe=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(h){return pe=h,this},g.__private__.getR2L=g.getR2L=function(){return pe};var Gt,Oe=g.__private__.setZoomMode=function(h){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(h))Vt=h;else if(isNaN(h)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(h)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+h+'" is not recognized.');Vt=h}else Vt=parseInt(h,10)};g.__private__.getZoomMode=function(){return Vt};var le,ce=g.__private__.setPageMode=function(h){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(h)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+h+'" is not recognized.');Gt=h};g.__private__.getPageMode=function(){return Gt};var Ue=g.__private__.setLayoutMode=function(h){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(h)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+h+'" is not recognized.');le=h};g.__private__.getLayoutMode=function(){return le},g.__private__.setDisplayMode=g.setDisplayMode=function(h,b,T){return Oe(h),Ue(b),ce(T),this};var ge={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(h){if(Object.keys(ge).indexOf(h)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ge[h]},g.__private__.getDocumentProperties=function(){return ge},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(h){for(var b in ge)ge.hasOwnProperty(b)&&h[b]&&(ge[b]=h[b]);return this},g.__private__.setDocumentProperty=function(h,b){if(Object.keys(ge).indexOf(h)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ge[h]=b};var Wt,te,$t,Ze,Te,Ut={},de={},Ve=[],Xt={},Pe={},ue={},cn={},wn=null,We=0,re=[],Be=new o1(g),Aa=e.hotfixes||[],jn={},mr={},Ji=[],Kt=function h(b,T,U,Q,_t,Mt){if(!(this instanceof h))return new h(b,T,U,Q,_t,Mt);isNaN(b)&&(b=1),isNaN(T)&&(T=0),isNaN(U)&&(U=0),isNaN(Q)&&(Q=1),isNaN(_t)&&(_t=0),isNaN(Mt)&&(Mt=0),this._matrix=[b,T,U,Q,_t,Mt]};Object.defineProperty(Kt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(h){this._matrix[0]=h}}),Object.defineProperty(Kt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(h){this._matrix[1]=h}}),Object.defineProperty(Kt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(h){this._matrix[2]=h}}),Object.defineProperty(Kt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(h){this._matrix[3]=h}}),Object.defineProperty(Kt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(h){this._matrix[4]=h}}),Object.defineProperty(Kt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(h){this._matrix[5]=h}}),Object.defineProperty(Kt.prototype,"a",{get:function(){return this._matrix[0]},set:function(h){this._matrix[0]=h}}),Object.defineProperty(Kt.prototype,"b",{get:function(){return this._matrix[1]},set:function(h){this._matrix[1]=h}}),Object.defineProperty(Kt.prototype,"c",{get:function(){return this._matrix[2]},set:function(h){this._matrix[2]=h}}),Object.defineProperty(Kt.prototype,"d",{get:function(){return this._matrix[3]},set:function(h){this._matrix[3]=h}}),Object.defineProperty(Kt.prototype,"e",{get:function(){return this._matrix[4]},set:function(h){this._matrix[4]=h}}),Object.defineProperty(Kt.prototype,"f",{get:function(){return this._matrix[5]},set:function(h){this._matrix[5]=h}}),Object.defineProperty(Kt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Kt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Kt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Kt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Kt.prototype.join=function(h){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(X).join(h)},Kt.prototype.multiply=function(h){var b=h.sx*this.sx+h.shy*this.shx,T=h.sx*this.shy+h.shy*this.sy,U=h.shx*this.sx+h.sy*this.shx,Q=h.shx*this.shy+h.sy*this.sy,_t=h.tx*this.sx+h.ty*this.shx+this.tx,Mt=h.tx*this.shy+h.ty*this.sy+this.ty;return new Kt(b,T,U,Q,_t,Mt)},Kt.prototype.decompose=function(){var h=this.sx,b=this.shy,T=this.shx,U=this.sy,Q=this.tx,_t=this.ty,Mt=Math.sqrt(h*h+b*b),Rt=(h/=Mt)*T+(b/=Mt)*U;T-=h*Rt,U-=b*Rt;var qt=Math.sqrt(T*T+U*U);return Rt/=qt,h*(U/=qt)<b*(T/=qt)&&(h=-h,b=-b,Rt=-Rt,Mt=-Mt),{scale:new Kt(Mt,0,0,qt,0,0),translate:new Kt(1,0,0,1,Q,_t),rotate:new Kt(h,b,-b,h,0,0),skew:new Kt(1,0,Rt,1,0,0)}},Kt.prototype.toString=function(h){return this.join(" ")},Kt.prototype.inversed=function(){var h=this.sx,b=this.shy,T=this.shx,U=this.sy,Q=this.tx,_t=this.ty,Mt=1/(h*U-b*T),Rt=U*Mt,qt=-b*Mt,ie=-T*Mt,oe=h*Mt;return new Kt(Rt,qt,ie,oe,-Rt*Q-ie*_t,-qt*Q-oe*_t)},Kt.prototype.applyToPoint=function(h){var b=h.x*this.sx+h.y*this.shx+this.tx,T=h.x*this.shy+h.y*this.sy+this.ty;return new Ra(b,T)},Kt.prototype.applyToRectangle=function(h){var b=this.applyToPoint(h),T=this.applyToPoint(new Ra(h.x+h.w,h.y+h.h));return new ws(b.x,b.y,T.x-b.x,T.y-b.y)},Kt.prototype.clone=function(){var h=this.sx,b=this.shy,T=this.shx,U=this.sy,Q=this.tx,_t=this.ty;return new Kt(h,b,T,U,Q,_t)},g.Matrix=Kt;var vr=g.matrixMult=function(h,b){return b.multiply(h)},_r=new Kt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=_r;var xi=function(h,b){if(!Pe[h]){var T=(b instanceof mo?"Sh":"P")+(Object.keys(Xt).length+1).toString(10);b.id=T,Pe[h]=T,Xt[T]=b,Be.publish("addPattern",b)}};g.ShadingPattern=mo,g.TilingPattern=is,g.addShadingPattern=function(h,b){return z("addShadingPattern()"),xi(h,b),this},g.beginTilingPattern=function(h){z("beginTilingPattern()"),xs(h.boundingBox[0],h.boundingBox[1],h.boundingBox[2]-h.boundingBox[0],h.boundingBox[3]-h.boundingBox[1],h.matrix)},g.endTilingPattern=function(h,b){z("endTilingPattern()"),b.stream=Nt[I].join(`
`),xi(h,b),Be.publish("endTilingPattern",b),Ji.pop().restore()};var Ci,rn=g.__private__.newObject=function(){var h=An();return Ln(h,!0),h},An=g.__private__.newObjectDeferred=function(){return J++,ot[J]=function(){return ht},J},Ln=function(h,b){return b=typeof b=="boolean"&&b,ot[h]=ht,b&&R(h+" 0 obj"),h},Da=g.__private__.newAdditionalObject=function(){var h={objId:An(),content:""};return xt.push(h),h},Vr=An(),qi=An(),Qi=g.__private__.decodeColorString=function(h){var b=h.split(" ");if(b.length!==2||b[1]!=="g"&&b[1]!=="G")b.length!==5||b[4]!=="k"&&b[4]!=="K"||(b=[(1-b[0])*(1-b[3]),(1-b[1])*(1-b[3]),(1-b[2])*(1-b[3]),"r"]);else{var T=parseFloat(b[0]);b=[T,T,T,"r"]}for(var U="#",Q=0;Q<3;Q++)U+=("0"+Math.floor(255*parseFloat(b[Q])).toString(16)).slice(-2);return U},Ui=g.__private__.encodeColorString=function(h){var b;typeof h=="string"&&(h={ch1:h});var T=h.ch1,U=h.ch2,Q=h.ch3,_t=h.ch4,Mt=h.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof T=="string"&&T.charAt(0)!=="#"){var Rt=new M1(T);if(Rt.ok)T=Rt.toHex();else if(!/^\d*\.?\d*$/.test(T))throw new Error('Invalid color "'+T+'" passed to jsPDF.encodeColorString.')}if(typeof T=="string"&&/^#[0-9A-Fa-f]{3}$/.test(T)&&(T="#"+T[1]+T[1]+T[2]+T[2]+T[3]+T[3]),typeof T=="string"&&/^#[0-9A-Fa-f]{6}$/.test(T)){var qt=parseInt(T.substr(1),16);T=qt>>16&255,U=qt>>8&255,Q=255&qt}if(U===void 0||_t===void 0&&T===U&&U===Q)b=typeof T=="string"?T+" "+Mt[0]:h.precision===2?S(T/255)+" "+Mt[0]:N(T/255)+" "+Mt[0];else if(_t===void 0||He(_t)==="object"){if(_t&&!isNaN(_t.a)&&_t.a===0)return["1.","1.","1.",Mt[1]].join(" ");b=typeof T=="string"?[T,U,Q,Mt[1]].join(" "):h.precision===2?[S(T/255),S(U/255),S(Q/255),Mt[1]].join(" "):[N(T/255),N(U/255),N(Q/255),Mt[1]].join(" ")}else b=typeof T=="string"?[T,U,Q,_t,Mt[2]].join(" "):h.precision===2?[S(T),S(U),S(Q),S(_t),Mt[2]].join(" "):[N(T),N(U),N(Q),N(_t),Mt[2]].join(" ");return b},Hi=g.__private__.getFilters=function(){return l},Si=g.__private__.putStream=function(h){var b=(h=h||{}).data||"",T=h.filters||Hi(),U=h.alreadyAppliedFilters||[],Q=h.addLength1||!1,_t=b.length,Mt=h.objectId,Rt=function(xn){return xn};if(f!==null&&Mt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Rt=dn.encryptor(Mt,0));var qt={};T===!0&&(T=["FlateEncode"]);var ie=h.additionalKeyValues||[],oe=(qt=jt.API.processDataByFilters!==void 0?jt.API.processDataByFilters(b,T):{data:b,reverseChain:[]}).reverseChain+(Array.isArray(U)?U.join(" "):U.toString());if(qt.data.length!==0&&(ie.push({key:"Length",value:qt.data.length}),Q===!0&&ie.push({key:"Length1",value:_t})),oe.length!=0)if(oe.split("/").length-1==1)ie.push({key:"Filter",value:oe});else{ie.push({key:"Filter",value:"["+oe+"]"});for(var Ie=0;Ie<ie.length;Ie+=1)if(ie[Ie].key==="DecodeParms"){for(var nn=[],bn=0;bn<qt.reverseChain.split("/").length-1;bn+=1)nn.push("null");nn.push(ie[Ie].value),ie[Ie].value="["+nn.join(" ")+"]"}}R("<<");for(var Xe=0;Xe<ie.length;Xe++)R("/"+ie[Xe].key+" "+ie[Xe].value);R(">>"),qt.data.length!==0&&(R("stream"),R(Rt(qt.data)),R("endstream"))},Na=g.__private__.putPage=function(h){var b=h.number,T=h.data,U=h.objId,Q=h.contentsObjId;Ln(U,!0),R("<</Type /Page"),R("/Parent "+h.rootDictionaryObjId+" 0 R"),R("/Resources "+h.resourceDictionaryObjId+" 0 R"),R("/MediaBox ["+parseFloat(X(h.mediaBox.bottomLeftX))+" "+parseFloat(X(h.mediaBox.bottomLeftY))+" "+X(h.mediaBox.topRightX)+" "+X(h.mediaBox.topRightY)+"]"),h.cropBox!==null&&R("/CropBox ["+X(h.cropBox.bottomLeftX)+" "+X(h.cropBox.bottomLeftY)+" "+X(h.cropBox.topRightX)+" "+X(h.cropBox.topRightY)+"]"),h.bleedBox!==null&&R("/BleedBox ["+X(h.bleedBox.bottomLeftX)+" "+X(h.bleedBox.bottomLeftY)+" "+X(h.bleedBox.topRightX)+" "+X(h.bleedBox.topRightY)+"]"),h.trimBox!==null&&R("/TrimBox ["+X(h.trimBox.bottomLeftX)+" "+X(h.trimBox.bottomLeftY)+" "+X(h.trimBox.topRightX)+" "+X(h.trimBox.topRightY)+"]"),h.artBox!==null&&R("/ArtBox ["+X(h.artBox.bottomLeftX)+" "+X(h.artBox.bottomLeftY)+" "+X(h.artBox.topRightX)+" "+X(h.artBox.topRightY)+"]"),typeof h.userUnit=="number"&&h.userUnit!==1&&R("/UserUnit "+h.userUnit),Be.publish("putPage",{objId:U,pageContext:re[b],pageNumber:b,page:T}),R("/Contents "+Q+" 0 R"),R(">>"),R("endobj");var _t=T.join(`
`);return F===V&&(_t+=`
Q`),Ln(Q,!0),Si({data:_t,filters:Hi(),objectId:Q}),R("endobj"),U},tr=g.__private__.putPages=function(){var h,b,T=[];for(h=1;h<=We;h++)re[h].objId=An(),re[h].contentsObjId=An();for(h=1;h<=We;h++)T.push(Na({number:h,data:Nt[h],objId:re[h].objId,contentsObjId:re[h].contentsObjId,mediaBox:re[h].mediaBox,cropBox:re[h].cropBox,bleedBox:re[h].bleedBox,trimBox:re[h].trimBox,artBox:re[h].artBox,userUnit:re[h].userUnit,rootDictionaryObjId:Vr,resourceDictionaryObjId:qi}));Ln(Vr,!0),R("<</Type /Pages");var U="/Kids [";for(b=0;b<We;b++)U+=T[b]+" 0 R ";R(U+"]"),R("/Count "+We),R(">>"),R("endobj"),Be.publish("postPutPages")},ka=function(h){Be.publish("putFont",{font:h,out:R,newObject:rn,putStream:Si}),h.isAlreadyPutted!==!0&&(h.objectNumber=rn(),R("<<"),R("/Type /Font"),R("/BaseFont /"+ns(h.postScriptName)),R("/Subtype /Type1"),typeof h.encoding=="string"&&R("/Encoding /"+h.encoding),R("/FirstChar 32"),R("/LastChar 255"),R(">>"),R("endobj"))},bo=function(h){h.objectNumber=rn();var b=[];b.push({key:"Type",value:"/XObject"}),b.push({key:"Subtype",value:"/Form"}),b.push({key:"BBox",value:"["+[X(h.x),X(h.y),X(h.x+h.width),X(h.y+h.height)].join(" ")+"]"}),b.push({key:"Matrix",value:"["+h.matrix.toString()+"]"});var T=h.pages[1].join(`
`);Si({data:T,additionalKeyValues:b,objectId:h.objectNumber}),R("endobj")},yo=function(h,b){b||(b=21);var T=rn(),U=(function(Mt,Rt){var qt,ie=[],oe=1/(Rt-1);for(qt=0;qt<1;qt+=oe)ie.push(qt);if(ie.push(1),Mt[0].offset!=0){var Ie={offset:0,color:Mt[0].color};Mt.unshift(Ie)}if(Mt[Mt.length-1].offset!=1){var nn={offset:1,color:Mt[Mt.length-1].color};Mt.push(nn)}for(var bn="",Xe=0,xn=0;xn<ie.length;xn++){for(qt=ie[xn];qt>Mt[Xe+1].offset;)Xe++;var yn=Mt[Xe].offset,En=(qt-yn)/(Mt[Xe+1].offset-yn),Mi=Mt[Xe].color,ii=Mt[Xe+1].color;bn+=$(Math.round((1-En)*Mi[0]+En*ii[0]).toString(16))+$(Math.round((1-En)*Mi[1]+En*ii[1]).toString(16))+$(Math.round((1-En)*Mi[2]+En*ii[2]).toString(16))}return bn.trim()})(h.colors,b),Q=[];Q.push({key:"FunctionType",value:"0"}),Q.push({key:"Domain",value:"[0.0 1.0]"}),Q.push({key:"Size",value:"["+b+"]"}),Q.push({key:"BitsPerSample",value:"8"}),Q.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Q.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Si({data:U,additionalKeyValues:Q,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:T}),R("endobj"),h.objectNumber=rn(),R("<< /ShadingType "+h.type),R("/ColorSpace /DeviceRGB");var _t="/Coords ["+X(parseFloat(h.coords[0]))+" "+X(parseFloat(h.coords[1]))+" ";h.type===2?_t+=X(parseFloat(h.coords[2]))+" "+X(parseFloat(h.coords[3])):_t+=X(parseFloat(h.coords[2]))+" "+X(parseFloat(h.coords[3]))+" "+X(parseFloat(h.coords[4]))+" "+X(parseFloat(h.coords[5])),R(_t+="]"),h.matrix&&R("/Matrix ["+h.matrix.toString()+"]"),R("/Function "+T+" 0 R"),R("/Extend [true true]"),R(">>"),R("endobj")},wo=function(h,b){var T=An(),U=rn();b.push({resourcesOid:T,objectOid:U}),h.objectNumber=U;var Q=[];Q.push({key:"Type",value:"/Pattern"}),Q.push({key:"PatternType",value:"1"}),Q.push({key:"PaintType",value:"1"}),Q.push({key:"TilingType",value:"1"}),Q.push({key:"BBox",value:"["+h.boundingBox.map(X).join(" ")+"]"}),Q.push({key:"XStep",value:X(h.xStep)}),Q.push({key:"YStep",value:X(h.yStep)}),Q.push({key:"Resources",value:T+" 0 R"}),h.matrix&&Q.push({key:"Matrix",value:"["+h.matrix.toString()+"]"}),Si({data:h.stream,additionalKeyValues:Q,objectId:h.objectNumber}),R("endobj")},Cd=function(h){for(var b in h.objectNumber=rn(),R("<<"),h)switch(b){case"opacity":R("/ca "+S(h[b]));break;case"stroke-opacity":R("/CA "+S(h[b]))}R(">>"),R("endobj")},us=function(h){Ln(h.resourcesOid,!0),R("<<"),R("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var b in R("/Font <<"),Ut)Ut.hasOwnProperty(b)&&(v===!1||v===!0&&_.hasOwnProperty(b))&&R("/"+b+" "+Ut[b].objectNumber+" 0 R");R(">>")})(),(function(){if(Object.keys(Xt).length>0){for(var b in R("/Shading <<"),Xt)Xt.hasOwnProperty(b)&&Xt[b]instanceof mo&&Xt[b].objectNumber>=0&&R("/"+b+" "+Xt[b].objectNumber+" 0 R");Be.publish("putShadingPatternDict"),R(">>")}})(),(function(b){if(Object.keys(Xt).length>0){for(var T in R("/Pattern <<"),Xt)Xt.hasOwnProperty(T)&&Xt[T]instanceof g.TilingPattern&&Xt[T].objectNumber>=0&&Xt[T].objectNumber<b&&R("/"+T+" "+Xt[T].objectNumber+" 0 R");Be.publish("putTilingPatternDict"),R(">>")}})(h.objectOid),(function(){if(Object.keys(ue).length>0){var b;for(b in R("/ExtGState <<"),ue)ue.hasOwnProperty(b)&&ue[b].objectNumber>=0&&R("/"+b+" "+ue[b].objectNumber+" 0 R");Be.publish("putGStateDict"),R(">>")}})(),(function(){for(var b in R("/XObject <<"),jn)jn.hasOwnProperty(b)&&jn[b].objectNumber>=0&&R("/"+b+" "+jn[b].objectNumber+" 0 R");Be.publish("putXobjectDict"),R(">>")})(),R(">>"),R("endobj")},bl=function(h){de[h.fontName]=de[h.fontName]||{},de[h.fontName][h.fontStyle]=h.id},yl=function(h,b,T,U,Q){var _t={id:"F"+(Object.keys(Ut).length+1).toString(10),postScriptName:h,fontName:b,fontStyle:T,encoding:U,isStandardFont:Q||!1,metadata:{}};return Be.publish("addFont",{font:_t,instance:this}),Ut[_t.id]=_t,bl(_t),_t.id},Pi=g.__private__.pdfEscape=g.pdfEscape=function(h,b){return(function(T,U){var Q,_t,Mt,Rt,qt,ie,oe,Ie,nn;if(Mt=(U=U||{}).sourceEncoding||"Unicode",qt=U.outputEncoding,(U.autoencode||qt)&&Ut[Wt].metadata&&Ut[Wt].metadata[Mt]&&Ut[Wt].metadata[Mt].encoding&&(Rt=Ut[Wt].metadata[Mt].encoding,!qt&&Ut[Wt].encoding&&(qt=Ut[Wt].encoding),!qt&&Rt.codePages&&(qt=Rt.codePages[0]),typeof qt=="string"&&(qt=Rt[qt]),qt)){for(oe=!1,ie=[],Q=0,_t=T.length;Q<_t;Q++)(Ie=qt[T.charCodeAt(Q)])?ie.push(String.fromCharCode(Ie)):ie.push(T[Q]),ie[Q].charCodeAt(0)>>8&&(oe=!0);T=ie.join("")}for(Q=T.length;oe===void 0&&Q!==0;)T.charCodeAt(Q-1)>>8&&(oe=!0),Q--;if(!oe)return T;for(ie=U.noBOM?[]:[254,255],Q=0,_t=T.length;Q<_t;Q++){if((nn=(Ie=T.charCodeAt(Q))>>8)>>8)throw new Error("Character at position "+Q+" of string '"+T+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ie.push(nn),ie.push(Ie-(nn<<8))}return String.fromCharCode.apply(void 0,ie)})(h,b).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hs=g.__private__.beginPage=function(h){Nt[++We]=[],re[We]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(h[0]),topRightY:Number(h[1])}},xl(We),pt(Nt[I])},wl=function(h,b){var T,U,Q;switch(t=b||t,typeof h=="string"&&(T=M(h.toLowerCase()),Array.isArray(T)&&(U=T[0],Q=T[1])),Array.isArray(h)&&(U=h[0]*te,Q=h[1]*te),isNaN(U)&&(U=r[0],Q=r[1]),(U>14400||Q>14400)&&(Ge.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),U=Math.min(14400,U),Q=Math.min(14400,Q)),r=[U,Q],t.substr(0,1)){case"l":Q>U&&(r=[Q,U]);break;case"p":U>Q&&(r=[Q,U])}hs(r),Ed(vs),R(Co),bs!==0&&R(bs+" J"),ys!==0&&R(ys+" j"),Be.publish("addPage",{pageNumber:We})},fs=function(h){h>0&&h<=We&&(Nt.splice(h,1),re.splice(h,1),We--,I>We&&(I=We),this.setPage(I))},xl=function(h){h>0&&h<=We&&(I=h)},Cl=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Nt.length-1},Sl=function(h,b,T){var U,Q=void 0;return T=T||{},h=h!==void 0?h:Ut[Wt].fontName,b=b!==void 0?b:Ut[Wt].fontStyle,U=h.toLowerCase(),de[U]!==void 0&&de[U][b]!==void 0?Q=de[U][b]:de[h]!==void 0&&de[h][b]!==void 0?Q=de[h][b]:T.disableWarning===!1&&Ge.warn("Unable to look up font label for font '"+h+"', '"+b+"'. Refer to getFontList() for available fonts."),Q||T.noFallback||(Q=de.times[b])==null&&(Q=de.times.normal),Q},xo=g.__private__.putInfo=function(){var h=rn(),b=function(U){return U};for(var T in f!==null&&(b=dn.encryptor(h,0)),R("<<"),R("/Producer ("+Pi(b("jsPDF "+jt.version))+")"),ge)ge.hasOwnProperty(T)&&ge[T]&&R("/"+T.substr(0,1).toUpperCase()+T.substr(1)+" ("+Pi(b(ge[T]))+")");R("/CreationDate ("+Pi(b(it))+")"),R(">>"),R("endobj")},Sd=g.__private__.putCatalog=function(h){var b=(h=h||{}).rootDictionaryObjId||Vr;switch(rn(),R("<<"),R("/Type /Catalog"),R("/Pages "+b+" 0 R"),Vt||(Vt="fullwidth"),Vt){case"fullwidth":R("/OpenAction [3 0 R /FitH null]");break;case"fullheight":R("/OpenAction [3 0 R /FitV null]");break;case"fullpage":R("/OpenAction [3 0 R /Fit]");break;case"original":R("/OpenAction [3 0 R /XYZ null null 1]");break;default:var T=""+Vt;T.substr(T.length-1)==="%"&&(Vt=parseInt(Vt)/100),typeof Vt=="number"&&R("/OpenAction [3 0 R /XYZ null null "+S(Vt)+"]")}switch(le||(le="continuous"),le){case"continuous":R("/PageLayout /OneColumn");break;case"single":R("/PageLayout /SinglePage");break;case"two":case"twoleft":R("/PageLayout /TwoColumnLeft");break;case"tworight":R("/PageLayout /TwoColumnRight")}Gt&&R("/PageMode /"+Gt),Be.publish("putCatalog"),R(">>"),R("endobj")},_n=g.__private__.putTrailer=function(){R("trailer"),R("<<"),R("/Size "+(J+1)),R("/Root "+J+" 0 R"),R("/Info "+(J-1)+" 0 R"),f!==null&&R("/Encrypt "+dn.oid+" 0 R"),R("/ID [ <"+lt+"> <"+lt+"> ]"),R(">>")},Pl=g.__private__.putHeader=function(){R("%PDF-"+A),R("%\xBA\xDF\xAC\xE0")},Ml=g.__private__.putXRef=function(){var h="0000000000";R("xref"),R("0 "+(J+1)),R("0000000000 65535 f ");for(var b=1;b<=J;b++)typeof ot[b]=="function"?R((h+ot[b]()).slice(-10)+" 00000 n "):ot[b]!==void 0?R((h+ot[b]).slice(-10)+" 00000 n "):R("0000000000 00000 n ")},br=g.__private__.buildDocument=function(){var h;J=0,ht=0,ft=[],ot=[],xt=[],Vr=An(),qi=An(),pt(ft),Be.publish("buildDocument"),Pl(),tr(),(function(){Be.publish("putAdditionalObjects");for(var T=0;T<xt.length;T++){var U=xt[T];Ln(U.objId,!0),R(U.content),R("endobj")}Be.publish("postPutAdditionalObjects")})(),h=[],(function(){for(var T in Ut)Ut.hasOwnProperty(T)&&(v===!1||v===!0&&_.hasOwnProperty(T))&&ka(Ut[T])})(),(function(){var T;for(T in ue)ue.hasOwnProperty(T)&&Cd(ue[T])})(),(function(){for(var T in jn)jn.hasOwnProperty(T)&&bo(jn[T])})(),(function(T){var U;for(U in Xt)Xt.hasOwnProperty(U)&&(Xt[U]instanceof mo?yo(Xt[U]):Xt[U]instanceof is&&wo(Xt[U],T))})(h),Be.publish("putResources"),h.forEach(us),us({resourcesOid:qi,objectOid:Number.MAX_SAFE_INTEGER}),Be.publish("postPutResources"),f!==null&&(dn.oid=rn(),R("<<"),R("/Filter /Standard"),R("/V "+dn.v),R("/R "+dn.r),R("/U <"+dn.toHexString(dn.U)+">"),R("/O <"+dn.toHexString(dn.O)+">"),R("/P "+dn.P),R(">>"),R("endobj")),xo(),Sd();var b=ht;return Ml(),_n(),R("startxref"),R(""+b),R("%%EOF"),pt(Nt[I]),ft.join(`
`)},La=g.__private__.getBlob=function(h){return new Blob([fe(h)],{type:"application/pdf"})},Vi=g.output=g.__private__.output=(Ci=function(h,b){switch(typeof(b=b||{})=="string"?b={filename:b}:b.filename=b.filename||"generated.pdf",h){case void 0:return br();case"save":g.save(b.filename);break;case"arraybuffer":return fe(br());case"blob":return La(br());case"bloburi":case"bloburl":if(ne.URL!==void 0&&typeof ne.URL.createObjectURL=="function")return ne.URL&&ne.URL.createObjectURL(La(br()))||void 0;Ge.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var T="",U=br();try{T=i1(U)}catch{T=i1(unescape(encodeURIComponent(U)))}return"data:application/pdf;filename="+b.filename+";base64,"+T;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ne)==="[object Window]"){var Q="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",_t=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';b.pdfObjectUrl&&(Q=b.pdfObjectUrl,_t="");var Mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Q+'"'+_t+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(b)+");<\/script></body></html>",Rt=ne.open();return Rt!==null&&Rt.document.write(Mt),Rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ne)==="[object Window]"){var qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(b.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+b.filename+'" width="500px" height="400px" /></body></html>',ie=ne.open();if(ie!==null){ie.document.write(qt);var oe=this;ie.document.documentElement.querySelector("#pdfViewer").onload=function(){ie.document.title=b.filename,ie.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(oe.output("bloburl"))}}return ie}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ne)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ie='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",b)+'"></iframe></body></html>',nn=ne.open();if(nn!==null&&(nn.document.write(Ie),nn.document.title=b.filename),nn||typeof safari>"u")return nn;break;case"datauri":case"dataurl":return ne.document.location.href=this.output("datauristring",b);default:return null}},Ci.foo=function(){try{return Ci.apply(this,arguments)}catch(T){var h=T.stack||"";~h.indexOf(" at ")&&(h=h.split(" at ")[1]);var b="Error in function "+h.split(`
`)[0].split("<")[0]+": "+T.message;if(!ne.console)throw new Error(b);ne.console.error(b,T),ne.alert&&alert(b)}},Ci.foo.bar=Ci,Ci.foo),Ea=function(h){return Array.isArray(Aa)===!0&&Aa.indexOf(h)>-1};switch(i){case"pt":te=1;break;case"mm":te=72/25.4;break;case"cm":te=72/2.54;break;case"in":te=72;break;case"px":te=Ea("px_scaling")==1?.75:96/72;break;case"pc":case"em":te=12;break;case"ex":te=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);te=i}var dn=null;bt(),K();var ps=g.__private__.getPageInfo=g.getPageInfo=function(h){if(isNaN(h)||h%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:re[h].objId,pageNumber:h,pageContext:re[h]}},Pd=g.__private__.getPageInfoByObjId=function(h){if(isNaN(h)||h%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var b in re)if(re[b].objId===h)break;return ps(b)},Md=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:re[I].objId,pageNumber:I,pageContext:re[I]}};g.addPage=function(){return wl.apply(this,arguments),this},g.setPage=function(){return xl.apply(this,arguments),pt.call(this,Nt[I]),this},g.insertPage=function(h){return this.addPage(),this.movePage(I,h),this},g.movePage=function(h,b){var T,U;if(h>b){T=Nt[h],U=re[h];for(var Q=h;Q>b;Q--)Nt[Q]=Nt[Q-1],re[Q]=re[Q-1];Nt[b]=T,re[b]=U,this.setPage(b)}else if(h<b){T=Nt[h],U=re[h];for(var _t=h;_t<b;_t++)Nt[_t]=Nt[_t+1],re[_t]=re[_t+1];Nt[b]=T,re[b]=U,this.setPage(b)}return this},g.deletePage=function(){return fs.apply(this,arguments),this},g.__private__.text=g.text=function(h,b,T,U,Q){var _t,Mt,Rt,qt,ie,oe,Ie,nn,bn,Xe=(U=U||{}).scope||this;if(typeof h=="number"&&typeof b=="number"&&(typeof T=="string"||Array.isArray(T))){var xn=T;T=b,b=h,h=xn}if(arguments[3]instanceof Kt==0?(Rt=arguments[4],qt=arguments[5],He(Ie=arguments[3])==="object"&&Ie!==null||(typeof Rt=="string"&&(qt=Rt,Rt=null),typeof Ie=="string"&&(qt=Ie,Ie=null),typeof Ie=="number"&&(Rt=Ie,Ie=null),U={flags:Ie,angle:Rt,align:qt})):(z("The transform parameter of text() with a Matrix value"),bn=Q),isNaN(b)||isNaN(T)||h==null)throw new Error("Invalid arguments passed to jsPDF.text");if(h.length===0)return Xe;var yn,En="",Mi=typeof U.lineHeightFactor=="number"?U.lineHeightFactor:Ta,ii=Xe.internal.scaleFactor;function Tl(ze){return ze=ze.split("	").join(Array(U.TabLen||9).join(" ")),Pi(ze,Ie)}function Ao(ze){for(var $e,hn=ze.concat(),Cn=[],Mr=hn.length;Mr--;)typeof($e=hn.shift())=="string"?Cn.push($e):Array.isArray(ze)&&($e.length===1||$e[1]===void 0&&$e[2]===void 0)?Cn.push($e[0]):Cn.push([$e[0],$e[1],$e[2]]);return Cn}function ja(ze,$e){var hn;if(typeof ze=="string")hn=$e(ze)[0];else if(Array.isArray(ze)){for(var Cn,Mr,Es=ze.concat(),ko=[],Rl=Es.length;Rl--;)typeof(Cn=Es.shift())=="string"?ko.push($e(Cn)[0]):Array.isArray(Cn)&&typeof Cn[0]=="string"&&(Mr=$e(Cn[0],Cn[1],Cn[2]),ko.push([Mr[0],Mr[1],Mr[2]]));hn=ko}return hn}var Yr=!1,qa=!0;if(typeof h=="string")Yr=!0;else if(Array.isArray(h)){var Ua=h.concat();Mt=[];for(var Ha,qn=Ua.length;qn--;)(typeof(Ha=Ua.shift())!="string"||Array.isArray(Ha)&&typeof Ha[0]!="string")&&(qa=!1);Yr=qa}if(Yr===!1)throw new Error('Type of text must be string or Array. "'+h+'" is not recognized.');typeof h=="string"&&(h=h.match(/[\r?\n]/)?h.split(/\r\n|\r|\n/g):[h]);var Va=kt/Xe.internal.scaleFactor,Wa=Va*(Mi-1);switch(U.baseline){case"bottom":T-=Wa;break;case"top":T+=Va-Wa;break;case"hanging":T+=Va-2*Wa;break;case"middle":T+=Va/2-Wa}if((oe=U.maxWidth||0)>0&&(typeof h=="string"?h=Xe.splitTextToSize(h,oe):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(ze,$e){return ze.concat(Xe.splitTextToSize($e,oe))},[]))),_t={text:h,x:b,y:T,options:U,mutex:{pdfEscape:Pi,activeFontKey:Wt,fonts:Ut,activeFontSize:kt}},Be.publish("preProcessText",_t),h=_t.text,Rt=(U=_t.options).angle,bn instanceof Kt==0&&Rt&&typeof Rt=="number"){Rt*=Math.PI/180,U.rotationDirection===0&&(Rt=-Rt),F===V&&(Rt=-Rt);var Cs=Math.cos(Rt),Ss=Math.sin(Rt);bn=new Kt(Cs,Ss,-Ss,Cs,0,0)}else Rt&&Rt instanceof Kt&&(bn=Rt);F!==V||bn||(bn=_r),(ie=U.charSpace||Po)!==void 0&&(En+=X(q(ie))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(nn=U.horizontalScale)!==void 0&&(En+=X(100*nn)+` Tz
`),U.lang;var an=-1,Sr=U.renderingMode!==void 0?U.renderingMode:U.stroke,Do=Xe.internal.getCurrentPageInfo().pageContext;switch(Sr){case 0:case!1:case"fill":an=0;break;case 1:case!0:case"stroke":an=1;break;case 2:case"fillThenStroke":an=2;break;case 3:case"invisible":an=3;break;case 4:case"fillAndAddForClipping":an=4;break;case 5:case"strokeAndAddPathForClipping":an=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":an=6;break;case 7:case"addToPathForClipping":an=7}var Il=Do.usedRenderingMode!==void 0?Do.usedRenderingMode:-1;an!==-1?En+=an+` Tr
`:Il!==-1&&(En+=`0 Tr
`),an!==-1&&(Do.usedRenderingMode=an),qt=U.align||"left";var Ai,$a=kt*Mi,Ps=Xe.internal.pageSize.getWidth(),Ms=Ut[Wt];ie=U.charSpace||Po,oe=U.maxWidth||0,Ie=Object.assign({autoencode:!0,noBOM:!0},U.flags);var Gr=[],Ya=function(ze){return Xe.getStringUnitWidth(ze,{font:Ms,charSpace:ie,fontSize:kt,doKerning:!1})*kt/ii};if(Object.prototype.toString.call(h)==="[object Array]"){var di;Mt=Ao(h),qt!=="left"&&(Ai=Mt.map(Ya));var ui,Zr=0;if(qt==="right"){b-=Ai[0],h=[],qn=Mt.length;for(var Pr=0;Pr<qn;Pr++)Pr===0?(ui=yr(b),di=wr(T)):(ui=q(Zr-Ai[Pr]),di=-$a),h.push([Mt[Pr],ui,di]),Zr=Ai[Pr]}else if(qt==="center"){b-=Ai[0]/2,h=[],qn=Mt.length;for(var Xr=0;Xr<qn;Xr++)Xr===0?(ui=yr(b),di=wr(T)):(ui=q((Zr-Ai[Xr])/2),di=-$a),h.push([Mt[Xr],ui,di]),Zr=Ai[Xr]}else if(qt==="left"){h=[],qn=Mt.length;for(var As=0;As<qn;As++)h.push(Mt[As])}else if(qt==="justify"&&Ms.encoding==="Identity-H"){h=[],qn=Mt.length,oe=oe!==0?oe:Ps;for(var No=0,un=0;un<qn;un++)if(di=un===0?wr(T):-$a,ui=un===0?yr(b):No,un<qn-1){var Fl=q((oe-Ai[un])/(Mt[un].split(" ").length-1)),nr=Mt[un].split(" ");h.push([nr[0]+" ",ui,di]),No=0;for(var ir=1;ir<nr.length;ir++){var Ds=(Ya(nr[ir-1]+" "+nr[ir])-Ya(nr[ir]))*ii+Fl;ir==nr.length-1?h.push([nr[ir],Ds,0]):h.push([nr[ir]+" ",Ds,0]),No-=Ds}}else h.push([Mt[un],ui,di]);h.push(["",No,0])}else{if(qt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(h=[],qn=Mt.length,oe=oe!==0?oe:Ps,un=0;un<qn;un++){di=un===0?wr(T):-$a,ui=un===0?yr(b):0;var Ns=Mt[un].split(" ").length-1,ks=Ns>0?(oe-Ai[un])/Ns:0;un<qn-1?Gr.push(X(q(ks))):Gr.push(0),h.push([Mt[un],ui,di])}}}(typeof U.R2L=="boolean"?U.R2L:pe)===!0&&(h=ja(h,function(ze,$e,hn){return[ze.split("").reverse().join(""),$e,hn]})),_t={text:h,x:b,y:T,options:U,mutex:{pdfEscape:Pi,activeFontKey:Wt,fonts:Ut,activeFontSize:kt}},Be.publish("postProcessText",_t),h=_t.text,yn=_t.mutex.isHex||!1;var Ls=Ut[Wt].encoding;Ls!=="WinAnsiEncoding"&&Ls!=="StandardEncoding"||(h=ja(h,function(ze,$e,hn){return[Tl(ze),$e,hn]})),Mt=Ao(h),h=[];for(var Kr,Jr,Qr,Ga=Array.isArray(Mt[0])?1:0,ta="",Za=function(ze,$e,hn){var Cn="";return hn instanceof Kt?(hn=typeof U.angle=="number"?vr(hn,new Kt(1,0,0,1,ze,$e)):vr(new Kt(1,0,0,1,ze,$e),hn),F===V&&(hn=vr(new Kt(1,0,0,-1,0,0),hn)),Cn=hn.join(" ")+` Tm
`):Cn=X(ze)+" "+X($e)+` Td
`,Cn},Di=0;Di<Mt.length;Di++){switch(ta="",Ga){case 1:Qr=(yn?"<":"(")+Mt[Di][0]+(yn?">":")"),Kr=parseFloat(Mt[Di][1]),Jr=parseFloat(Mt[Di][2]);break;case 0:Qr=(yn?"<":"(")+Mt[Di]+(yn?">":")"),Kr=yr(b),Jr=wr(T)}Gr!==void 0&&Gr[Di]!==void 0&&(ta=Gr[Di]+` Tw
`),Di===0?h.push(ta+Za(Kr,Jr,bn)+Qr):Ga===0?h.push(ta+Qr):Ga===1&&h.push(ta+Za(Kr,Jr,bn)+Qr)}h=Ga===0?h.join(` Tj
T* `):h.join(` Tj
`),h+=` Tj
`;var rr=`BT
/`;return rr+=Wt+" "+kt+` Tf
`,rr+=X(kt*Mi)+` TL
`,rr+=Ia+`
`,rr+=En,rr+=h,R(rr+="ET"),_[Wt]=!0,Xe};var Ad=g.__private__.clip=g.clip=function(h){return R(h==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Ad("evenodd")},g.__private__.discardPath=g.discardPath=function(){return R("n"),this};var er=g.__private__.isValidStyle=function(h){var b=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(h)!==-1&&(b=!0),b};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(h){return er(h)&&(u=h),this};var Al=g.__private__.getStyle=g.getStyle=function(h){var b=u;switch(h){case"D":case"S":b="S";break;case"F":b="f";break;case"FD":case"DF":b="B";break;case"f":case"f*":case"B":case"B*":b=h}return b},Dl=g.close=function(){return R("h"),this};g.stroke=function(){return R("S"),this},g.fill=function(h){return Wr("f",h),this},g.fillEvenOdd=function(h){return Wr("f*",h),this},g.fillStroke=function(h){return Wr("B",h),this},g.fillStrokeEvenOdd=function(h){return Wr("B*",h),this};var Wr=function(h,b){He(b)==="object"?Nd(b,h):R(h)},gs=function(h){h===null||F===V&&h===void 0||(h=Al(h),R(h))};function Dd(h,b,T,U,Q){var _t=new is(b||this.boundingBox,T||this.xStep,U||this.yStep,this.gState,Q||this.matrix);_t.stream=this.stream;var Mt=h+"$$"+this.cloneIndex+++"$$";return xi(Mt,_t),_t}var Nd=function(h,b){var T=Pe[h.key],U=Xt[T];if(U instanceof mo)R("q"),R(kd(b)),U.gState&&g.setGState(U.gState),R(h.matrix.toString()+" cm"),R("/"+T+" sh"),R("Q");else if(U instanceof is){var Q=new Kt(1,0,0,-1,0,za());h.matrix&&(Q=Q.multiply(h.matrix||_r),T=Dd.call(U,h.key,h.boundingBox,h.xStep,h.yStep,Q).id),R("q"),R("/Pattern cs"),R("/"+T+" scn"),U.gState&&g.setGState(U.gState),R(b),R("Q")}},kd=function(h){switch(h){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ms=g.moveTo=function(h,b){return R(X(q(h))+" "+X(j(b))+" m"),this},Oa=g.lineTo=function(h,b){return R(X(q(h))+" "+X(j(b))+" l"),this},$r=g.curveTo=function(h,b,T,U,Q,_t){return R([X(q(h)),X(j(b)),X(q(T)),X(j(U)),X(q(Q)),X(j(_t)),"c"].join(" ")),this};g.__private__.line=g.line=function(h,b,T,U,Q){if(isNaN(h)||isNaN(b)||isNaN(T)||isNaN(U)||!er(Q))throw new Error("Invalid arguments passed to jsPDF.line");return F===H?this.lines([[T-h,U-b]],h,b,[1,1],Q||"S"):this.lines([[T-h,U-b]],h,b,[1,1]).stroke()},g.__private__.lines=g.lines=function(h,b,T,U,Q,_t){var Mt,Rt,qt,ie,oe,Ie,nn,bn,Xe,xn,yn,En;if(typeof h=="number"&&(En=T,T=b,b=h,h=En),U=U||[1,1],_t=_t||!1,isNaN(b)||isNaN(T)||!Array.isArray(h)||!Array.isArray(U)||!er(Q)||typeof _t!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ms(b,T),Mt=U[0],Rt=U[1],ie=h.length,xn=b,yn=T,qt=0;qt<ie;qt++)(oe=h[qt]).length===2?(xn=oe[0]*Mt+xn,yn=oe[1]*Rt+yn,Oa(xn,yn)):(Ie=oe[0]*Mt+xn,nn=oe[1]*Rt+yn,bn=oe[2]*Mt+xn,Xe=oe[3]*Rt+yn,xn=oe[4]*Mt+xn,yn=oe[5]*Rt+yn,$r(Ie,nn,bn,Xe,xn,yn));return _t&&Dl(),gs(Q),this},g.path=function(h){for(var b=0;b<h.length;b++){var T=h[b],U=T.c;switch(T.op){case"m":ms(U[0],U[1]);break;case"l":Oa(U[0],U[1]);break;case"c":$r.apply(this,U);break;case"h":Dl()}}return this},g.__private__.rect=g.rect=function(h,b,T,U,Q){if(isNaN(h)||isNaN(b)||isNaN(T)||isNaN(U)||!er(Q))throw new Error("Invalid arguments passed to jsPDF.rect");return F===H&&(U=-U),R([X(q(h)),X(j(b)),X(q(T)),X(q(U)),"re"].join(" ")),gs(Q),this},g.__private__.triangle=g.triangle=function(h,b,T,U,Q,_t,Mt){if(isNaN(h)||isNaN(b)||isNaN(T)||isNaN(U)||isNaN(Q)||isNaN(_t)||!er(Mt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[T-h,U-b],[Q-T,_t-U],[h-Q,b-_t]],h,b,[1,1],Mt,!0),this},g.__private__.roundedRect=g.roundedRect=function(h,b,T,U,Q,_t,Mt){if(isNaN(h)||isNaN(b)||isNaN(T)||isNaN(U)||isNaN(Q)||isNaN(_t)||!er(Mt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Rt=4/3*(Math.SQRT2-1);return Q=Math.min(Q,.5*T),_t=Math.min(_t,.5*U),this.lines([[T-2*Q,0],[Q*Rt,0,Q,_t-_t*Rt,Q,_t],[0,U-2*_t],[0,_t*Rt,-Q*Rt,_t,-Q,_t],[2*Q-T,0],[-Q*Rt,0,-Q,-_t*Rt,-Q,-_t],[0,2*_t-U],[0,-_t*Rt,Q*Rt,-_t,Q,-_t]],h+Q,b,[1,1],Mt,!0),this},g.__private__.ellipse=g.ellipse=function(h,b,T,U,Q){if(isNaN(h)||isNaN(b)||isNaN(T)||isNaN(U)||!er(Q))throw new Error("Invalid arguments passed to jsPDF.ellipse");var _t=4/3*(Math.SQRT2-1)*T,Mt=4/3*(Math.SQRT2-1)*U;return ms(h+T,b),$r(h+T,b-Mt,h+_t,b-U,h,b-U),$r(h-_t,b-U,h-T,b-Mt,h-T,b),$r(h-T,b+Mt,h-_t,b+U,h,b+U),$r(h+_t,b+U,h+T,b+Mt,h+T,b),gs(Q),this},g.__private__.circle=g.circle=function(h,b,T,U){if(isNaN(h)||isNaN(b)||isNaN(T)||!er(U))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(h,b,T,T,U)},g.setFont=function(h,b,T){return T&&(b=vt(b,T)),Wt=Sl(h,b,{disableWarning:!1}),this};var Ld=g.__private__.getFont=g.getFont=function(){return Ut[Sl.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var h,b,T={};for(h in de)if(de.hasOwnProperty(h))for(b in T[h]=[],de[h])de[h].hasOwnProperty(b)&&T[h].push(b);return T},g.addFont=function(h,b,T,U,Q){var _t=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&_t.indexOf(arguments[3])!==-1?Q=arguments[3]:arguments[3]&&_t.indexOf(arguments[3])==-1&&(T=vt(T,U)),yl.call(this,h,b,T,Q=Q||"Identity-H")};var Ta,vs=e.lineWidth||.200025,ae=g.__private__.getLineWidth=g.getLineWidth=function(){return vs},Ed=g.__private__.setLineWidth=g.setLineWidth=function(h){return vs=h,R(X(q(h))+" w"),this};g.__private__.setLineDash=jt.API.setLineDash=jt.API.setLineDashPattern=function(h,b){if(h=h||[],b=b||0,isNaN(b)||!Array.isArray(h))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return h=h.map(function(T){return X(q(T))}).join(" "),b=X(q(b)),R("["+h+"] "+b+" d"),this};var Od=g.__private__.getLineHeight=g.getLineHeight=function(){return kt*Ta};g.__private__.getLineHeight=g.getLineHeight=function(){return kt*Ta};var Td=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(h){return typeof(h=h||1.15)=="number"&&(Ta=h),this},Id=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Ta};Td(e.lineHeight);var yr=g.__private__.getHorizontalCoordinate=function(h){return q(h)},wr=g.__private__.getVerticalCoordinate=function(h){return F===V?h:re[I].mediaBox.topRightY-re[I].mediaBox.bottomLeftY-q(h)},Fd=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(h){return X(yr(h))},Rd=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(h){return X(wr(h))},Co=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Qi(Co)},g.__private__.setStrokeColor=g.setDrawColor=function(h,b,T,U){return Co=Ui({ch1:h,ch2:b,ch3:T,ch4:U,pdfColorType:"draw",precision:2}),R(Co),this};var _s=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Qi(_s)},g.__private__.setFillColor=g.setFillColor=function(h,b,T,U){return _s=Ui({ch1:h,ch2:b,ch3:T,ch4:U,pdfColorType:"fill",precision:2}),R(_s),this};var Ia=e.textColor||"0 g",So=g.__private__.getTextColor=g.getTextColor=function(){return Qi(Ia)};g.__private__.setTextColor=g.setTextColor=function(h,b,T,U){return Ia=Ui({ch1:h,ch2:b,ch3:T,ch4:U,pdfColorType:"text",precision:3}),this};var Po=e.charSpace,Bd=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Po||0)};g.__private__.setCharSpace=g.setCharSpace=function(h){if(isNaN(h))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Po=h,this};var bs=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(h){var b=g.CapJoinStyles[h];if(b===void 0)throw new Error("Line cap style of '"+h+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return bs=b,R(b+" J"),this};var ys=0;g.__private__.setLineJoin=g.setLineJoin=function(h){var b=g.CapJoinStyles[h];if(b===void 0)throw new Error("Line join style of '"+h+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ys=b,R(b+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(h){if(h=h||0,isNaN(h))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return R(X(q(h))+" M"),this},g.GState=hd,g.setGState=function(h){(h=typeof h=="string"?ue[cn[h]]:Fa(null,h)).equals(wn)||(R("/"+h.id+" gs"),wn=h)};var Fa=function(h,b){if(!h||!cn[h]){var T=!1;for(var U in ue)if(ue.hasOwnProperty(U)&&ue[U].equals(b)){T=!0;break}if(T)b=ue[U];else{var Q="GS"+(Object.keys(ue).length+1).toString(10);ue[Q]=b,b.id=Q}return h&&(cn[h]=b.id),Be.publish("addGState",b),b}};g.addGState=function(h,b){return Fa(h,b),this},g.saveGraphicsState=function(){return R("q"),Ve.push({key:Wt,size:kt,color:Ia}),this},g.restoreGraphicsState=function(){R("Q");var h=Ve.pop();return Wt=h.key,kt=h.size,Ia=h.color,wn=null,this},g.setCurrentTransformationMatrix=function(h){return R(h.toString()+" cm"),this},g.comment=function(h){return R("#"+h),this};var Ra=function(h,b){var T=h||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return T},set:function(_t){isNaN(_t)||(T=parseFloat(_t))}});var U=b||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return U},set:function(_t){isNaN(_t)||(U=parseFloat(_t))}});var Q="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Q},set:function(_t){Q=_t.toString()}}),this},ws=function(h,b,T,U){Ra.call(this,h,b),this.type="rect";var Q=T||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Q},set:function(Mt){isNaN(Mt)||(Q=parseFloat(Mt))}});var _t=U||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return _t},set:function(Mt){isNaN(Mt)||(_t=parseFloat(Mt))}}),this},Mo=function(){this.page=We,this.currentPage=I,this.pages=Nt.slice(0),this.pagesContext=re.slice(0),this.x=$t,this.y=Ze,this.matrix=Te,this.width=Nl(I),this.height=xr(I),this.outputDestination=Tt,this.id="",this.objectNumber=-1};Mo.prototype.restore=function(){We=this.page,I=this.currentPage,re=this.pagesContext,Nt=this.pages,$t=this.x,Ze=this.y,Te=this.matrix,kl(I,this.width),Cr(I,this.height),Tt=this.outputDestination};var xs=function(h,b,T,U,Q){Ji.push(new Mo),We=I=0,Nt=[],$t=h,Ze=b,Te=Q,hs([T,U])};for(var Ba in g.beginFormObject=function(h,b,T,U,Q){return xs(h,b,T,U,Q),this},g.endFormObject=function(h){return(function(b){if(mr[b])Ji.pop().restore();else{var T=new Mo,U="Xo"+(Object.keys(jn).length+1).toString(10);T.id=U,mr[b]=U,jn[U]=T,Be.publish("addFormObject",T),Ji.pop().restore()}})(h),this},g.doFormObject=function(h,b){var T=jn[mr[h]];return R("q"),R(b.toString()+" cm"),R("/"+T.id+" Do"),R("Q"),this},g.getFormObject=function(h){var b=jn[mr[h]];return{x:b.x,y:b.y,width:b.width,height:b.height,matrix:b.matrix}},g.save=function(h,b){return h=h||"generated.pdf",(b=b||{}).returnPromise=b.returnPromise||!1,b.returnPromise===!1?(go(La(br()),h),typeof go.unload=="function"&&ne.setTimeout&&setTimeout(go.unload,911),this):new Promise(function(T,U){try{var Q=go(La(br()),h);typeof go.unload=="function"&&ne.setTimeout&&setTimeout(go.unload,911),T(Q)}catch(_t){U(_t.message)}})},jt.API)jt.API.hasOwnProperty(Ba)&&(Ba==="events"&&jt.API.events.length?(function(h,b){var T,U,Q;for(Q=b.length-1;Q!==-1;Q--)T=b[Q][0],U=b[Q][1],h.subscribe.apply(h,[T].concat(typeof U=="function"?[U]:U))})(Be,jt.API.events):g[Ba]=jt.API[Ba]);function Nl(h){return re[h].mediaBox.topRightX-re[h].mediaBox.bottomLeftX}function kl(h,b){re[h].mediaBox.topRightX=b+re[h].mediaBox.bottomLeftX}function xr(h){return re[h].mediaBox.topRightY-re[h].mediaBox.bottomLeftY}function Cr(h,b){re[h].mediaBox.topRightY=b+re[h].mediaBox.bottomLeftY}var Ll=g.getPageWidth=function(h){return Nl(h=h||I)/te},El=g.setPageWidth=function(h,b){kl(h,b*te)},za=g.getPageHeight=function(h){return xr(h=h||I)/te},Ol=g.setPageHeight=function(h,b){Cr(h,b*te)};return g.internal={pdfEscape:Pi,getStyle:Al,getFont:Ld,getFontSize:Et,getCharSpace:Bd,getTextColor:So,getLineHeight:Od,getLineHeightFactor:Id,getLineWidth:ae,write:Se,getHorizontalCoordinate:yr,getVerticalCoordinate:wr,getCoordinateString:Fd,getVerticalCoordinateString:Rd,collections:{},newObject:rn,newAdditionalObject:Da,newObjectDeferred:An,newObjectDeferredBegin:Ln,getFilters:Hi,putStream:Si,events:Be,scaleFactor:te,pageSize:{getWidth:function(){return Ll(I)},setWidth:function(h){El(I,h)},getHeight:function(){return za(I)},setHeight:function(h){Ol(I,h)}},encryptionOptions:f,encryption:dn,getEncryptor:function(h){return f!==null?dn.encryptor(h,0):function(b){return b}},output:Vi,getNumberOfPages:Cl,pages:Nt,out:R,f2:S,f3:N,getPageInfo:ps,getPageInfoByObjId:Pd,getCurrentPageInfo:Md,getPDFVersion:k,Point:Ra,Rectangle:ws,Matrix:Kt,hasHotfix:Ea},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Ll(I)},set:function(h){El(I,h)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return za(I)},set:function(h){Ol(I,h)},enumerable:!0,configurable:!0}),(function(h){for(var b=0,T=Zt.length;b<T;b++){var U=yl.call(this,h[b][0],h[b][1],h[b][2],Zt[b][3],!0);v===!1&&(_[U]=!0);var Q=h[b][0].split("-");bl({id:U,fontName:Q[0],fontStyle:Q[1]||""})}Be.publish("addFonts",{fonts:Ut,dictionary:de})}).call(g,Zt),Wt="F1",wl(r,t),Be.publish("initialized"),g}es.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},es.prototype.toHexString=function(e){return e.split("").map(function(n){return("0"+(255&n.charCodeAt(0)).toString(16)).slice(-2)}).join("")},es.prototype.hexToBytes=function(e){for(var n=[],t=0;t<e.length;t+=2)n.push(String.fromCharCode(parseInt(e.substr(t,2),16)));return n.join("")},es.prototype.processOwnerPassword=function(e,n){return bh(_h(n).substr(0,5),e)},es.prototype.encryptor=function(e,n){var t=_h(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&n,n>>8&255)).substr(0,10);return function(i){return bh(t,i)}},hd.prototype.equals=function(e){var n,t="id,objectNumber,equals";if(!e||He(e)!==He(this))return!1;var i=0;for(n in this)if(!(t.indexOf(n)>=0)){if(this.hasOwnProperty(n)&&!e.hasOwnProperty(n)||this[n]!==e[n])return!1;i++}for(n in e)e.hasOwnProperty(n)&&t.indexOf(n)<0&&i--;return i===0},jt.API={events:[]},jt.version="3.0.3";var ln=jt.API,xh=1,_o=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Qo=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},se=function(e){return e.toFixed(2)},Sa=function(e){return e.toFixed(5)};ln.__acroform__={};var ci=function(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e},s1=function(e){return e*xh},fr=function(e){var n=new k1,t=Ft.internal.getHeight(e)||0,i=Ft.internal.getWidth(e)||0;return n.BBox=[0,0,Number(se(i)),Number(se(t))],n},m_=ln.__acroform__.setBit=function(e,n){if(e=e||0,n=n||0,isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<n},v_=ln.__acroform__.clearBit=function(e,n){if(e=e||0,n=n||0,isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<n)},__=ln.__acroform__.getBit=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<n?1:0},gn=ln.__acroform__.getBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return __(e,n-1)},mn=ln.__acroform__.setBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return m_(e,n-1)},vn=ln.__acroform__.clearBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return v_(e,n-1)},b_=ln.__acroform__.calculateCoordinates=function(e,n){var t=n.internal.getHorizontalCoordinate,i=n.internal.getVerticalCoordinate,r=e[0],a=e[1],l=e[2],s=e[3],d={};return d.lowerLeft_X=t(r)||0,d.lowerLeft_Y=i(a+s)||0,d.upperRight_X=t(r+l)||0,d.upperRight_Y=i(a)||0,[Number(se(d.lowerLeft_X)),Number(se(d.lowerLeft_Y)),Number(se(d.upperRight_X)),Number(se(d.upperRight_Y))]},y_=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var n=[],t=e._V||e.DV,i=yh(e,t),r=e.scope.internal.getFont(e.fontName,e.fontStyle).id;n.push("/Tx BMC"),n.push("q"),n.push("BT"),n.push(e.scope.__private__.encodeColorString(e.color)),n.push("/"+r+" "+se(i.fontSize)+" Tf"),n.push("1 0 0 1 0 0 Tm"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC");var a=fr(e);return a.scope=e.scope,a.stream=n.join(`
`),a}},yh=function(e,n){var t=e.fontSize===0?e.maxFontSize:e.fontSize,i={text:"",fontSize:""},r=(n=(n=n.substr(0,1)=="("?n.substr(1):n).substr(n.length-1)==")"?n.substr(0,n.length-1):n).split(" ");r=e.multiline?r.map(function(S){return S.split(`
`)}):r.map(function(S){return[S]});var a=t,l=Ft.internal.getHeight(e)||0;l=l<0?-l:l;var s=Ft.internal.getWidth(e)||0;s=s<0?-s:s;var d=function(S,N,q){if(S+1<r.length){var j=N+" "+r[S+1][0];return rd(j,e,q).width<=s-4}return!1};a++;t:for(;a>0;){n="",a--;var u,f,v=rd("3",e,a).height,_=e.multiline?l-a:(l-v)/2,g=_+=2,A=0,k=0,L=0;if(a<=0){n=`(...) Tj
`,n+="% Width of Text: "+rd(n,e,a=12).width+", FieldWidth:"+s+`
`;break}for(var M="",H=0,V=0;V<r.length;V++)if(r.hasOwnProperty(V)){var F=!1;if(r[V].length!==1&&L!==r[V].length-1){if((v+2)*(H+2)+2>l)continue t;M+=r[V][L],F=!0,k=V,V--}else{M=(M+=r[V][L]+" ").substr(M.length-1)==" "?M.substr(0,M.length-1):M;var ut=parseInt(V),St=d(ut,M,a),vt=V>=r.length-1;if(St&&!vt){M+=" ",L=0;continue}if(St||vt){if(vt)k=ut;else if(e.multiline&&(v+2)*(H+2)+2>l)continue t}else{if(!e.multiline||(v+2)*(H+2)+2>l)continue t;k=ut}}for(var X="",z=A;z<=k;z++){var nt=r[z];if(e.multiline){if(z===k){X+=nt[L]+" ",L=(L+1)%nt.length;continue}if(z===A){X+=nt[nt.length-1]+" ";continue}}X+=nt[0]+" "}switch(X=X.substr(X.length-1)==" "?X.substr(0,X.length-1):X,f=rd(X,e,a).width,e.textAlign){case"right":u=s-f-2;break;case"center":u=(s-f)/2;break;default:u=2}n+=se(u)+" "+se(g)+` Td
`,n+="("+_o(X)+`) Tj
`,n+=-se(u)+` 0 Td
`,g=-(a+2),f=0,A=F?k:k+1,H++,M=""}break}return i.text=n,i.fontSize=a,i},rd=function(e,n,t){var i=n.scope.internal.getFont(n.fontName,n.fontStyle),r=n.scope.getStringUnitWidth(e,{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:n.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:r}},w_={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},x_=function(e,n){var t={type:"reference",object:e};n.internal.getPageInfo(e.page).pageContext.annotations.find(function(i){return i.type===t.type&&i.object===t.object})===void 0&&n.internal.getPageInfo(e.page).pageContext.annotations.push(t)},C_=function(e,n){if(n.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Xi.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(w_)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");xh=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new L1,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var a=i[r];a.objId=void 0,a.hasAnnotation&&x_(a,t)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(t){(function(i,r){var a=!i;for(var l in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(l)){var s=i[l],d=[],u=s.Rect;if(s.Rect&&(s.Rect=b_(s.Rect,r)),r.internal.newObjectDeferredBegin(s.objId,!0),s.DA=Ft.createDefaultAppearanceStream(s),He(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(d=s.getKeyValueListForStream()),s.Rect=u,s.hasAppearanceStream&&!s.appearanceStreamContent){var f=y_(s);d.push({key:"AP",value:"<</N "+f+">>"}),r.internal.acroformPlugin.xForms.push(f)}if(s.appearanceStreamContent){var v="";for(var _ in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(_)){var g=s.appearanceStreamContent[_];if(v+="/"+_+" ",v+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var l in g)if(g.hasOwnProperty(l)){var A=g[l];typeof A=="function"&&(A=A.call(r,s)),v+="/"+l+" "+A+" ",r.internal.acroformPlugin.xForms.indexOf(A)>=0||r.internal.acroformPlugin.xForms.push(A)}}else typeof(A=g)=="function"&&(A=A.call(r,s)),v+="/"+l+" "+A,r.internal.acroformPlugin.xForms.indexOf(A)>=0||r.internal.acroformPlugin.xForms.push(A);v+=">>"}d.push({key:"AP",value:`<<
`+v+">>"})}r.internal.putStream({additionalKeyValues:d,objectId:s.objId}),r.internal.out("endobj")}a&&(function(k,L){for(var M in k)if(k.hasOwnProperty(M)){var H=M,V=k[M];L.internal.newObjectDeferredBegin(V.objId,!0),He(V)==="object"&&typeof V.putStream=="function"&&V.putStream(),delete k[H]}})(r.internal.acroformPlugin.xForms,r)})(t,e)}),e.internal.acroformPlugin.isInitialized=!0}},N1=ln.__acroform__.arrayToPdfArray=function(e,n,t){var i=function(l){return l};if(Array.isArray(e)){for(var r="[",a=0;a<e.length;a++)switch(a!==0&&(r+=" "),He(e[a])){case"boolean":case"number":case"object":r+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(n!==void 0&&t&&(i=t.internal.getEncryptor(n)),r+="("+_o(i(e[a].toString()))+")"):r+=e[a].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},fh=function(e,n,t){var i=function(r){return r};return n!==void 0&&t&&(i=t.internal.getEncryptor(n)),(e=e||"").toString(),"("+_o(i(e))+")"},pr=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};pr.prototype.toString=function(){return this.objId+" 0 R"},pr.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},pr.prototype.getKeyValueListForStream=function(){var e=[],n=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var t in n)if(Object.getOwnPropertyDescriptor(this,n[t]).configurable===!1){var i=n[t],r=this[i];r&&(Array.isArray(r)?e.push({key:i,value:N1(r,this.objId,this.scope)}):r instanceof pr?(r.scope=this.scope,e.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&e.push({key:i,value:r}))}return e};var k1=function(){pr.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,n=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};ci(k1,pr);var L1=function(){pr.call(this);var e,n=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return n.length>0?n:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return n}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(i){return i};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+_o(t(e))+")"}},set:function(t){e=t}})};ci(L1,pr);var Xi=function e(){pr.call(this);var n=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return n},set:function(M){if(isNaN(M))throw new Error('Invalid value "'+M+'" for attribute F supplied.');n=M}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!gn(n,3)},set:function(M){M?this.F=mn(n,3):this.F=vn(n,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(M){if(isNaN(M))throw new Error('Invalid value "'+M+'" for attribute Ff supplied.');t=M}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(M){i=M!==void 0?M:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(M){i[0]=M}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(M){i[1]=M}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(M){i[2]=M}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(M){i[3]=M}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(M){switch(M){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=M;break;default:throw new Error('Invalid value "'+M+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof fd)return;a="FieldObject"+e.FieldNum++}var M=function(H){return H};return this.scope&&(M=this.scope.internal.getEncryptor(this.objId)),"("+_o(M(a))+")"},set:function(M){a=M.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(M){a=M}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(M){l=M}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(M){s=M}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(M){d=M}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/xh:u},set:function(M){u=M}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(M){f=M}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof fd||this instanceof vo))return fh(v,this.objId,this.scope)},set:function(M){M=M.toString(),v=M}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof kn==0?fh(_,this.objId,this.scope):_},set:function(M){M=M.toString(),_=this instanceof kn==0?M.substr(0,1)==="("?Qo(M.substr(1,M.length-2)):Qo(M):M}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof kn==1?Qo(_.substr(1,_.length-1)):_},set:function(M){M=M.toString(),_=this instanceof kn==1?"/"+M:M}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(M){this.V=M}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof kn==0?fh(g,this.objId,this.scope):g},set:function(M){M=M.toString(),g=this instanceof kn==0?M.substr(0,1)==="("?Qo(M.substr(1,M.length-2)):Qo(M):M}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof kn==1?Qo(g.substr(1,g.length-1)):g},set:function(M){M=M.toString(),g=this instanceof kn==1?"/"+M:M}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,k=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return k},set:function(M){M=!!M,k=M}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(M){A=M}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,1)},set:function(M){M?this.Ff=mn(this.Ff,1):this.Ff=vn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,2)},set:function(M){M?this.Ff=mn(this.Ff,2):this.Ff=vn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,3)},set:function(M){M?this.Ff=mn(this.Ff,3):this.Ff=vn(this.Ff,3)}});var L=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(L!==null)return L},set:function(M){if([0,1,2].indexOf(M)===-1)throw new Error('Invalid value "'+M+'" for attribute Q supplied.');L=M}}),Object.defineProperty(this,"textAlign",{get:function(){var M;switch(L){case 0:default:M="left";break;case 1:M="center";break;case 2:M="right"}return M},configurable:!0,enumerable:!0,set:function(M){switch(M){case"right":case 2:L=2;break;case"center":case 1:L=1;break;default:L=0}}})};ci(Xi,pr);var rs=function(){Xi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var n=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return N1(n,this.objId,this.scope)},set:function(t){var i,r;r=[],typeof(i=t)=="string"&&(r=(function(a,l,s){s||(s=1);for(var d,u=[];d=l.exec(a);)u.push(d[s]);return u})(i,/\((.*?)\)/g)),n=r}}),this.getOptions=function(){return n},this.setOptions=function(t){n=t,this.sort&&n.sort()},this.addOption=function(t){t=(t=t||"").toString(),n.push(t),this.sort&&n.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();n.indexOf(t)!==-1&&(n.splice(n.indexOf(t),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,18)},set:function(t){t?this.Ff=mn(this.Ff,18):this.Ff=vn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=mn(this.Ff,19):this.Ff=vn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,20)},set:function(t){t?(this.Ff=mn(this.Ff,20),n.sort()):this.Ff=vn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,22)},set:function(t){t?this.Ff=mn(this.Ff,22):this.Ff=vn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,23)},set:function(t){t?this.Ff=mn(this.Ff,23):this.Ff=vn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,27)},set:function(t){t?this.Ff=mn(this.Ff,27):this.Ff=vn(this.Ff,27)}}),this.hasAppearanceStream=!1};ci(rs,Xi);var as=function(){rs.call(this),this.fontName="helvetica",this.combo=!1};ci(as,rs);var os=function(){as.call(this),this.combo=!0};ci(os,as);var ld=function(){os.call(this),this.edit=!0};ci(ld,os);var kn=function(){Xi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,15)},set:function(t){t?this.Ff=mn(this.Ff,15):this.Ff=vn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,16)},set:function(t){t?this.Ff=mn(this.Ff,16):this.Ff=vn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,17)},set:function(t){t?this.Ff=mn(this.Ff,17):this.Ff=vn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,26)},set:function(t){t?this.Ff=mn(this.Ff,26):this.Ff=vn(this.Ff,26)}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(a){return a};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(n).length!==0){var i,r=[];for(i in r.push("<<"),n)r.push("/"+i+" ("+_o(t(n[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(t){He(t)==="object"&&(n=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(t){typeof t=="string"&&(n.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};ci(kn,Xi);var cd=function(){kn.call(this),this.pushButton=!0};ci(cd,kn);var ss=function(){kn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n!==void 0?n:[]}})};ci(ss,kn);var fd=function(){var e,n;Xi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return n},set:function(r){n=r}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var a,l=[];for(a in l.push("<<"),i)l.push("/"+a+" ("+_o(r(i[a]))+")");return l.push(">>"),l.join(`
`)},set:function(r){He(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ft.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ci(fd,Xi),ss.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var n in this.Kids)if(this.Kids.hasOwnProperty(n)){var t=this.Kids[n];t.appearanceStreamContent=e.createAppearanceStream(t.optionName),t.caption=e.getCA()}},ss.prototype.createOption=function(e){var n=new fd;return n.Parent=this,n.optionName=e,this.Kids.push(n),S_.call(this.scope,n),n};var dd=function(){kn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ft.CheckBox.createAppearanceStream()};ci(dd,kn);var vo=function(){Xi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,13)},set:function(n){n?this.Ff=mn(this.Ff,13):this.Ff=vn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,21)},set:function(n){n?this.Ff=mn(this.Ff,21):this.Ff=vn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,23)},set:function(n){n?this.Ff=mn(this.Ff,23):this.Ff=vn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,24)},set:function(n){n?this.Ff=mn(this.Ff,24):this.Ff=vn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,25)},set:function(n){n?this.Ff=mn(this.Ff,25):this.Ff=vn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,26)},set:function(n){n?this.Ff=mn(this.Ff,26):this.Ff=vn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){Number.isInteger(n)&&(e=n)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ci(vo,Xi);var ud=function(){vo.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,14)},set:function(e){e?this.Ff=mn(this.Ff,14):this.Ff=vn(this.Ff,14)}}),this.password=!0};ci(ud,vo);var Ft={CheckBox:{createAppearanceStream:function(){return{N:{On:Ft.CheckBox.YesNormal},D:{On:Ft.CheckBox.YesPushDown,Off:Ft.CheckBox.OffPushDown}}},YesPushDown:function(e){var n=fr(e);n.scope=e.scope;var t=[],i=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),a=yh(e,e.caption);return t.push("0.749023 g"),t.push("0 0 "+se(Ft.internal.getWidth(e))+" "+se(Ft.internal.getHeight(e))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+i+" "+se(a.fontSize)+" Tf "+r),t.push("BT"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC"),n.stream=t.join(`
`),n},YesNormal:function(e){var n=fr(e);n.scope=e.scope;var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),r=[],a=Ft.internal.getHeight(e),l=Ft.internal.getWidth(e),s=yh(e,e.caption);return r.push("1 g"),r.push("0 0 "+se(l)+" "+se(a)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+se(l-1)+" "+se(a-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+t+" "+se(s.fontSize)+" Tf "+i),r.push(s.text),r.push("ET"),r.push("Q"),n.stream=r.join(`
`),n},OffPushDown:function(e){var n=fr(e);n.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+se(Ft.internal.getWidth(e))+" "+se(Ft.internal.getHeight(e))+" re"),t.push("f"),n.stream=t.join(`
`),n}},RadioButton:{Circle:{createAppearanceStream:function(e){var n={D:{Off:Ft.RadioButton.Circle.OffPushDown},N:{}};return n.N[e]=Ft.RadioButton.Circle.YesNormal,n.D[e]=Ft.RadioButton.Circle.YesPushDown,n},getCA:function(){return"l"},YesNormal:function(e){var n=fr(e);n.scope=e.scope;var t=[],i=Ft.internal.getWidth(e)<=Ft.internal.getHeight(e)?Ft.internal.getWidth(e)/4:Ft.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=Ft.internal.Bezier_C,a=Number((i*r).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Sa(Ft.internal.getWidth(e)/2)+" "+Sa(Ft.internal.getHeight(e)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join(`
`),n},YesPushDown:function(e){var n=fr(e);n.scope=e.scope;var t=[],i=Ft.internal.getWidth(e)<=Ft.internal.getHeight(e)?Ft.internal.getWidth(e)/4:Ft.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),a=Number((r*Ft.internal.Bezier_C).toFixed(5)),l=Number((i*Ft.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Sa(Ft.internal.getWidth(e)/2)+" "+Sa(Ft.internal.getHeight(e)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Sa(Ft.internal.getWidth(e)/2)+" "+Sa(Ft.internal.getHeight(e)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+l+" "+l+" "+i+" 0 "+i+" c"),t.push("-"+l+" "+i+" -"+i+" "+l+" -"+i+" 0 c"),t.push("-"+i+" -"+l+" -"+l+" -"+i+" 0 -"+i+" c"),t.push(l+" -"+i+" "+i+" -"+l+" "+i+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join(`
`),n},OffPushDown:function(e){var n=fr(e);n.scope=e.scope;var t=[],i=Ft.internal.getWidth(e)<=Ft.internal.getHeight(e)?Ft.internal.getWidth(e)/4:Ft.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),a=Number((r*Ft.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Sa(Ft.internal.getWidth(e)/2)+" "+Sa(Ft.internal.getHeight(e)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join(`
`),n}},Cross:{createAppearanceStream:function(e){var n={D:{Off:Ft.RadioButton.Cross.OffPushDown},N:{}};return n.N[e]=Ft.RadioButton.Cross.YesNormal,n.D[e]=Ft.RadioButton.Cross.YesPushDown,n},getCA:function(){return"8"},YesNormal:function(e){var n=fr(e);n.scope=e.scope;var t=[],i=Ft.internal.calculateCross(e);return t.push("q"),t.push("1 1 "+se(Ft.internal.getWidth(e)-2)+" "+se(Ft.internal.getHeight(e)-2)+" re"),t.push("W"),t.push("n"),t.push(se(i.x1.x)+" "+se(i.x1.y)+" m"),t.push(se(i.x2.x)+" "+se(i.x2.y)+" l"),t.push(se(i.x4.x)+" "+se(i.x4.y)+" m"),t.push(se(i.x3.x)+" "+se(i.x3.y)+" l"),t.push("s"),t.push("Q"),n.stream=t.join(`
`),n},YesPushDown:function(e){var n=fr(e);n.scope=e.scope;var t=Ft.internal.calculateCross(e),i=[];return i.push("0.749023 g"),i.push("0 0 "+se(Ft.internal.getWidth(e))+" "+se(Ft.internal.getHeight(e))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+se(Ft.internal.getWidth(e)-2)+" "+se(Ft.internal.getHeight(e)-2)+" re"),i.push("W"),i.push("n"),i.push(se(t.x1.x)+" "+se(t.x1.y)+" m"),i.push(se(t.x2.x)+" "+se(t.x2.y)+" l"),i.push(se(t.x4.x)+" "+se(t.x4.y)+" m"),i.push(se(t.x3.x)+" "+se(t.x3.y)+" l"),i.push("s"),i.push("Q"),n.stream=i.join(`
`),n},OffPushDown:function(e){var n=fr(e);n.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+se(Ft.internal.getWidth(e))+" "+se(Ft.internal.getHeight(e))+" re"),t.push("f"),n.stream=t.join(`
`),n}}},createDefaultAppearanceStream:function(e){var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,t=e.scope.__private__.encodeColorString(e.color);return"/"+n+" "+e.fontSize+" Tf "+t}};Ft.internal={Bezier_C:.551915024494,calculateCross:function(e){var n=Ft.internal.getWidth(e),t=Ft.internal.getHeight(e),i=Math.min(n,t);return{x1:{x:(n-i)/2,y:(t-i)/2+i},x2:{x:(n-i)/2+i,y:(t-i)/2},x3:{x:(n-i)/2,y:(t-i)/2},x4:{x:(n-i)/2+i,y:(t-i)/2+i}}}},Ft.internal.getWidth=function(e){var n=0;return He(e)==="object"&&(n=s1(e.Rect[2])),n},Ft.internal.getHeight=function(e){var n=0;return He(e)==="object"&&(n=s1(e.Rect[3])),n};var S_=ln.addField=function(e){if(C_(this,e),!(e instanceof Xi))throw new Error("Invalid argument passed to jsPDF.addField.");var n;return(n=e).scope.internal.acroformPlugin.printedOut&&(n.scope.internal.acroformPlugin.printedOut=!1,n.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),n.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(n),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ln.AcroFormChoiceField=rs,ln.AcroFormListBox=as,ln.AcroFormComboBox=os,ln.AcroFormEditBox=ld,ln.AcroFormButton=kn,ln.AcroFormPushButton=cd,ln.AcroFormRadioButton=ss,ln.AcroFormCheckBox=dd,ln.AcroFormTextField=vo,ln.AcroFormPasswordField=ud,ln.AcroFormAppearance=Ft,ln.AcroForm={ChoiceField:rs,ListBox:as,ComboBox:os,EditBox:ld,Button:kn,PushButton:cd,RadioButton:ss,CheckBox:dd,TextField:vo,PasswordField:ud,Appearance:Ft},jt.AcroForm={ChoiceField:rs,ListBox:as,ComboBox:os,EditBox:ld,Button:kn,PushButton:cd,RadioButton:ss,CheckBox:dd,TextField:vo,PasswordField:ud,Appearance:Ft};var $4=jt.AcroForm;function E1(e){return e.reduce(function(n,t,i){return n[t]=i,n},{})}(function(e){var n="addImage_";e.__addimage__={};var t="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(S,N){var q,j,it,lt,st,K=t;if((N=N||t)==="RGBA"||S.data!==void 0&&S.data instanceof Uint8ClampedArray&&"height"in S&&"width"in S)return"RGBA";if(St(S))for(st in i)for(it=i[st],q=0;q<it.length;q+=1){for(lt=!0,j=0;j<it[q].length;j+=1)if(it[q][j]!==void 0&&it[q][j]!==S[j]){lt=!1;break}if(lt===!0){K=st;break}}else for(st in i)for(it=i[st],q=0;q<it.length;q+=1){for(lt=!0,j=0;j<it[q].length;j+=1)if(it[q][j]!==void 0&&it[q][j]!==S.charCodeAt(j)){lt=!1;break}if(lt===!0){K=st;break}}return K===t&&N!==t&&(K=N),K},a=function S(N){for(var q=this.internal.write,j=this.internal.putStream,it=(0,this.internal.getFilters)();it.indexOf("FlateEncode")!==-1;)it.splice(it.indexOf("FlateEncode"),1);N.objectId=this.internal.newObject();var lt=[];if(lt.push({key:"Type",value:"/XObject"}),lt.push({key:"Subtype",value:"/Image"}),lt.push({key:"Width",value:N.width}),lt.push({key:"Height",value:N.height}),N.colorSpace===M.INDEXED?lt.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(N.palette.length/3-1)+" "+("sMask"in N&&N.sMask!==void 0?N.objectId+2:N.objectId+1)+" 0 R]"}):(lt.push({key:"ColorSpace",value:"/"+N.colorSpace}),N.colorSpace===M.DEVICE_CMYK&&lt.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),lt.push({key:"BitsPerComponent",value:N.bitsPerComponent}),"decodeParameters"in N&&N.decodeParameters!==void 0&&lt.push({key:"DecodeParms",value:"<<"+N.decodeParameters+">>"}),"transparency"in N&&Array.isArray(N.transparency)&&N.transparency.length>0){for(var st="",K=0,ct=N.transparency.length;K<ct;K++)st+=N.transparency[K]+" "+N.transparency[K]+" ";lt.push({key:"Mask",value:"["+st+"]"})}N.sMask!==void 0&&lt.push({key:"SMask",value:N.objectId+1+" 0 R"});var wt=N.filter!==void 0?["/"+N.filter]:void 0;if(j({data:N.data,additionalKeyValues:lt,alreadyAppliedFilters:wt,objectId:N.objectId}),q("endobj"),"sMask"in N&&N.sMask!==void 0){var bt,C=(bt=N.sMaskBitsPerComponent)!==null&&bt!==void 0?bt:N.bitsPerComponent,I={width:N.width,height:N.height,colorSpace:"DeviceGray",bitsPerComponent:C,data:N.sMask};"filter"in N&&(I.decodeParameters="/Predictor ".concat(N.predictor," /Colors 1 /BitsPerComponent ").concat(C," /Columns ").concat(N.width),I.filter=N.filter),S.call(this,I)}if(N.colorSpace===M.INDEXED){var B=this.internal.newObject();j({data:X(new Uint8Array(N.palette)),objectId:B}),q("endobj")}},l=function(){var S=this.internal.collections[n+"images"];for(var N in S)a.call(this,S[N])},s=function(){var S,N=this.internal.collections[n+"images"],q=this.internal.write;for(var j in N)q("/I"+(S=N[j]).index,S.objectId,"0","R")},d=function(){this.internal.collections[n+"images"]||(this.internal.collections[n+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",s))},u=function(){var S=this.internal.collections[n+"images"];return d.call(this),S},f=function(){return Object.keys(this.internal.collections[n+"images"]).length},v=function(S){return typeof e["process"+S.toUpperCase()]=="function"},_=function(S){return He(S)==="object"&&S.nodeType===1},g=function(S,N){if(S.nodeName==="IMG"&&S.hasAttribute("src")){var q=""+S.getAttribute("src");if(q.indexOf("data:image/")===0)return sd(unescape(q).split("base64,").pop());var j=e.loadFile(q,!0);if(j!==void 0)return j}if(S.nodeName==="CANVAS"){if(S.width===0||S.height===0)throw new Error("Given canvas must have data. Canvas width: "+S.width+", height: "+S.height);var it;switch(N){case"PNG":it="image/png";break;case"WEBP":it="image/webp";break;default:it="image/jpeg"}return sd(S.toDataURL(it,1).split("base64,").pop())}},A=function(S){var N=this.internal.collections[n+"images"];if(N){for(var q in N)if(S===N[q].alias)return N[q]}},k=function(S,N,q){return S||N||(S=-96,N=-96),S<0&&(S=-1*q.width*72/S/this.internal.scaleFactor),N<0&&(N=-1*q.height*72/N/this.internal.scaleFactor),S===0&&(S=N*q.width/q.height),N===0&&(N=S*q.height/q.width),[S,N]},L=function(S,N,q,j,it,lt){var st=k.call(this,q,j,it),K=this.internal.getCoordinateString,ct=this.internal.getVerticalCoordinateString,wt=u.call(this);if(q=st[0],j=st[1],wt[it.index]=it,lt){lt*=Math.PI/180;var bt=Math.cos(lt),C=Math.sin(lt),I=function($){return $.toFixed(4)},B=[I(bt),I(C),I(-1*C),I(bt),0,0,"cm"]}this.internal.write("q"),lt?(this.internal.write([1,"0","0",1,K(S),ct(N+j),"cm"].join(" ")),this.internal.write(B.join(" ")),this.internal.write([K(q),"0","0",K(j),"0","0","cm"].join(" "))):this.internal.write([K(q),"0","0",K(j),K(S),ct(N+j),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+it.index+" Do"),this.internal.write("Q")},M=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var H=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},V=e.__addimage__.sHashCode=function(S){var N,q,j=0;if(typeof S=="string")for(q=S.length,N=0;N<q;N++)j=(j<<5)-j+S.charCodeAt(N),j|=0;else if(St(S))for(q=S.byteLength/2,N=0;N<q;N++)j=(j<<5)-j+S[N],j|=0;return j},F=e.__addimage__.validateStringAsBase64=function(S){(S=S||"").toString().trim();var N=!0;return S.length===0&&(N=!1),S.length%4!=0&&(N=!1),/^[A-Za-z0-9+/]+$/.test(S.substr(0,S.length-2))===!1&&(N=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(S.substr(-2))===!1&&(N=!1),N},ut=e.__addimage__.extractImageFromDataUrl=function(S){if(S==null||!(S=S.trim()).startsWith("data:"))return null;var N=S.indexOf(",");return N<0?null:S.substring(0,N).trim().endsWith("base64")?S.substring(N+1):null};e.__addimage__.isArrayBuffer=function(S){return S instanceof ArrayBuffer};var St=e.__addimage__.isArrayBufferView=function(S){return S instanceof Int8Array||S instanceof Uint8Array||S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array},vt=e.__addimage__.binaryStringToUint8Array=function(S){for(var N=S.length,q=new Uint8Array(N),j=0;j<N;j++)q[j]=S.charCodeAt(j);return q},X=e.__addimage__.arrayBufferToBinaryString=function(S){for(var N="",q=St(S)?S:new Uint8Array(S),j=0;j<q.length;j+=8192)N+=String.fromCharCode.apply(null,q.subarray(j,j+8192));return N};e.addImage=function(){var S,N,q,j,it,lt,st,K,ct;if(typeof arguments[1]=="number"?(N=t,q=arguments[1],j=arguments[2],it=arguments[3],lt=arguments[4],st=arguments[5],K=arguments[6],ct=arguments[7]):(N=arguments[1],q=arguments[2],j=arguments[3],it=arguments[4],lt=arguments[5],st=arguments[6],K=arguments[7],ct=arguments[8]),He(S=arguments[0])==="object"&&!_(S)&&"imageData"in S){var wt=S;S=wt.imageData,N=wt.format||N||t,q=wt.x||q||0,j=wt.y||j||0,it=wt.w||wt.width||it,lt=wt.h||wt.height||lt,st=wt.alias||st,K=wt.compression||K,ct=wt.rotation||wt.angle||ct}var bt=this.internal.getFilters();if(K===void 0&&bt.indexOf("FlateEncode")!==-1&&(K="SLOW"),isNaN(q)||isNaN(j))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var C=z.call(this,S,N,st,K);return L.call(this,q,j,it,lt,C,ct),this};var z=function(S,N,q,j){var it,lt,st;if(typeof S=="string"&&r(S)===t){S=unescape(S);var K=nt(S,!1);(K!==""||(K=e.loadFile(S,!0))!==void 0)&&(S=K)}if(_(S)&&(S=g(S,N)),N=r(S,N),!v(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(((st=q)==null||st.length===0)&&(q=(function(ct){return typeof ct=="string"||St(ct)?V(ct):St(ct.data)?V(ct.data):null})(S)),(it=A.call(this,q))||(S instanceof Uint8Array||N==="RGBA"||(lt=S,S=vt(S)),it=this["process"+N.toUpperCase()](S,f.call(this),q,(function(ct){return ct&&typeof ct=="string"&&(ct=ct.toUpperCase()),ct in e.image_compression?ct:H.NONE})(j),lt)),!it)throw new Error("An unknown error occurred whilst processing the image.");return it},nt=e.__addimage__.convertBase64ToBinaryString=function(S,N){N=typeof N!="boolean"||N;var q,j="";if(typeof S=="string"){var it;q=(it=ut(S))!==null&&it!==void 0?it:S;try{j=sd(q)}catch(lt){if(N)throw F(q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+lt.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return j};e.getImageProperties=function(S){var N,q,j="";if(_(S)&&(S=g(S)),typeof S=="string"&&r(S)===t&&((j=nt(S,!1))===""&&(j=e.loadFile(S)||""),S=j),q=r(S),!v(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(S instanceof Uint8Array||(S=vt(S)),!(N=this["process"+q.toUpperCase()](S)))throw new Error("An unknown error occurred whilst processing the image");return N.fileType=q,N}})(jt.API),(function(e){var n=function(t){if(t!==void 0&&t!="")return!0};jt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(t){for(var i,r,a,l=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(t.objId),u=t.pageContext.annotations,f=!1,v=0;v<u.length&&!f;v++)switch((i=u[v]).type){case"link":(n(i.options.url)||n(i.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var _=0;_<u.length;_++){i=u[_];var g=this.internal.pdfEscape,A=this.internal.getEncryptor(t.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),L=this.internal.newAdditionalObject(),M=this.internal.getEncryptor(k.objId),H=i.title||"Note";a="<</Type /Annot /Subtype /Text "+(r="/Rect ["+l(i.bounds.x)+" "+s(i.bounds.y+i.bounds.h)+" "+l(i.bounds.x+i.bounds.w)+" "+s(i.bounds.y)+"] ")+"/Contents ("+g(M(i.contents))+")",a+=" /Popup "+L.objId+" 0 R",a+=" /P "+d.objId+" 0 R",a+=" /T ("+g(M(H))+") >>",k.content=a;var V=k.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+l(i.bounds.x+30)+" "+s(i.bounds.y+i.bounds.h)+" "+l(i.bounds.x+i.bounds.w+30)+" "+s(i.bounds.y)+"] ")+" /Parent "+V,i.open&&(a+=" /Open true"),a+=" >>",L.content=a,this.internal.write(k.objId,"0 R",L.objId,"0 R");break;case"freetext":r="/Rect ["+l(i.bounds.x)+" "+s(i.bounds.y)+" "+l(i.bounds.x+i.bounds.w)+" "+s(i.bounds.y+i.bounds.h)+"] ";var F=i.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+g(A(i.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(i.options.name){var ut=this.annotations._nameMap[i.options.name];i.options.pageNumber=ut.page,i.options.top=ut.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",a="",i.options.url)a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+g(A(i.options.url))+") >>";else if(i.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,a+=" /FitV "+i.options.left+"]";break;default:var St=s(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),a+=" /XYZ "+i.options.left+" "+St+" "+i.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(t){var i=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":i.pageContext.annotations.push(t)}},e.link=function(t,i,r,a,l){var s=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:d(t),y:u(i),w:d(t+r),h:u(i+a)},options:l,type:"link"})},e.textWithLink=function(t,i,r,a){var l,s,d=this.getTextWidth(t),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var f=this.splitTextToSize(t,s).length;l=Math.ceil(u*f)}else s=d,l=u;return this.text(t,i,r,a),r+=.2*u,a.align==="center"&&(i-=d/2),a.align==="right"&&(i-=d),this.link(i,r-u,s,l,a),d},e.getTextWidth=function(t){var i=this.internal.getFontSize();return this.getStringUnitWidth(t)*i/this.internal.scaleFactor}})(jt.API),(function(e){var n={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(k){return n[k.charCodeAt(0)]!==void 0},l=e.__arabicParser__.isArabicLetter=function(k){return typeof k=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(k)},s=e.__arabicParser__.isArabicEndLetter=function(k){return l(k)&&a(k)&&n[k.charCodeAt(0)].length<=2},d=e.__arabicParser__.isArabicAlfLetter=function(k){return l(k)&&r.indexOf(k.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(k){return l(k)&&a(k)&&n[k.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(k){return l(k)&&a(k)&&n[k.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(k){return l(k)&&a(k)&&n[k.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(k){return l(k)&&a(k)&&n[k.charCodeAt(0)].length==4},v=e.__arabicParser__.resolveLigatures=function(k){var L=0,M=t,H="",V=0;for(L=0;L<k.length;L+=1)M[k.charCodeAt(L)]!==void 0?(V++,typeof(M=M[k.charCodeAt(L)])=="number"&&(H+=String.fromCharCode(M),M=t,V=0),L===k.length-1&&(M=t,H+=k.charAt(L-(V-1)),L-=V-1,V=0)):(M=t,H+=k.charAt(L-V),L-=V,V=0);return H};e.__arabicParser__.isArabicDiacritic=function(k){return k!==void 0&&i[k.charCodeAt(0)]!==void 0};var _=e.__arabicParser__.getCorrectForm=function(k,L,M){return l(k)?a(k)===!1?-1:!u(k)||!l(L)&&!l(M)||!l(M)&&s(L)||s(k)&&!l(L)||s(k)&&d(L)||s(k)&&s(L)?0:f(k)&&l(L)&&!s(L)&&l(M)&&u(M)?3:s(k)||!l(M)?1:2:-1},g=function(k){var L=0,M=0,H=0,V="",F="",ut="",St=(k=k||"").split("\\s+"),vt=[];for(L=0;L<St.length;L+=1){for(vt.push(""),M=0;M<St[L].length;M+=1)V=St[L][M],F=St[L][M-1],ut=St[L][M+1],l(V)?(H=_(V,F,ut),vt[L]+=H!==-1?String.fromCharCode(n[V.charCodeAt(0)][H]):V):vt[L]+=V;vt[L]=v(vt[L])}return vt.join(" ")},A=e.__arabicParser__.processArabic=e.processArabic=function(){var k,L=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,M=[];if(Array.isArray(L)){var H=0;for(M=[],H=0;H<L.length;H+=1)Array.isArray(L[H])?M.push([g(L[H][0]),L[H][1],L[H][2]]):M.push([g(L[H])]);k=M}else k=g(L);return typeof arguments[0]=="string"?k:(arguments[0].text=k,arguments[0])};e.events.push(["preProcessText",A])})(jt.API),jt.API.autoPrint=function(e){var n;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+n+" 0 R")})),this},(function(e){var n=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(s){t=s}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(s){r=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(s){l=s}}),Object.defineProperty(this,"parentNode",{})};n.prototype.getContext=function(t,i){var r;if((t=t||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},n.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new n,this.canvas.pdf=this}])})(jt.API),(function(e){var n={left:0,top:0,bottom:0,right:0},t=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},n),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(k){d=k}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(k){u=k}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(k){f=k}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(k){v=k}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(k){_=k}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(k){g=k}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(k){A=k}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(d){return i.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},e.getTextDimensions=function(d,u){i.call(this);var f=(u=u||{}).fontSize||this.getFontSize(),v=u.font||this.getFont(),_=u.scaleFactor||this.internal.scaleFactor,g=0,A=0,k=0,L=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var M=u.maxWidth;M>0?typeof d=="string"?d=this.splitTextToSize(d,M):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(V,F){return V.concat(L.splitTextToSize(F,M))},[])):d=Array.isArray(d)?d:[d];for(var H=0;H<d.length;H++)g<(k=this.getStringUnitWidth(d[H],{font:v})*f)&&(g=k);return g!==0&&(A=d.length),{w:g/=_,h:Math.max((A*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/_,0)}},e.cellAddPage=function(){i.call(this),this.addPage();var d=this.internal.__cell__.margins||n;return this.internal.__cell__.lastCell=new a(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=e.cell=function(){var d;d=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var u=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,v=this.internal.__cell__.margins||n,_=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===d.lineNumber?(d.x=(u.x||0)+(u.width||0),d.y=u.y||0):u.y+u.height+d.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=v.top,g&&_&&(this.printHeaderRow(d.lineNumber,!0),d.y+=_[0].height)):d.y=u.y+u.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,t===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-f,d.y+f,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+f,{align:"center",baseline:"top",maxWidth:d.width-f-f}):this.text(d.text,d.x+f,d.y+f,{align:"left",baseline:"top",maxWidth:d.width-f-f})),this.internal.__cell__.lastCell=d,this};e.table=function(d,u,f,v,_){if(i.call(this),!f)throw new Error("No data for PDF table.");var g,A,k,L,M=[],H=[],V=[],F={},ut={},St=[],vt=[],X=(_=_||{}).autoSize||!1,z=_.printHeaders!==!1,nt=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,S=_.margins||Object.assign({width:this.getPageWidth()},n),N=typeof _.padding=="number"?_.padding:3,q=_.headerBackgroundColor||"#c8c8c8",j=_.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=z,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=nt,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=q,this.internal.__cell__.headerTextColor=j,this.setFontSize(nt),v==null)H=M=Object.keys(f[0]),V=M.map(function(){return"left"});else if(Array.isArray(v)&&He(v[0])==="object")for(M=v.map(function(wt){return wt.name}),H=v.map(function(wt){return wt.prompt||wt.name||""}),V=v.map(function(wt){return wt.align||"left"}),g=0;g<v.length;g+=1)ut[v[g].name]=.7499990551181103*v[g].width;else Array.isArray(v)&&typeof v[0]=="string"&&(H=M=v,V=M.map(function(){return"left"}));if(X||Array.isArray(v)&&typeof v[0]=="string")for(g=0;g<M.length;g+=1){for(F[L=M[g]]=f.map(function(wt){return wt[L]}),this.setFont(void 0,"bold"),St.push(this.getTextDimensions(H[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=F[L],this.setFont(void 0,"normal"),k=0;k<A.length;k+=1)St.push(this.getTextDimensions(A[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ut[L]=Math.max.apply(null,St)+N+N,St=[]}if(z){var it={};for(g=0;g<M.length;g+=1)it[M[g]]={},it[M[g]].text=H[g],it[M[g]].align=V[g];var lt=s.call(this,it,ut);vt=M.map(function(wt){return new a(d,u,ut[wt],lt,it[wt].text,void 0,it[wt].align)}),this.setTableHeaderRow(vt),this.printHeaderRow(1,!1)}var st=v.reduce(function(wt,bt){return wt[bt.name]=bt.align,wt},{});for(g=0;g<f.length;g+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:g,data:f[g]},this);var K=s.call(this,f[g],ut);for(k=0;k<M.length;k+=1){var ct=f[g][M[k]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:g,col:k,data:ct},this),l.call(this,new a(d,u,ut[M[k]],K,ct,g+2,st[M[k]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=u,this};var s=function(d,u){var f=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(d).map(function(g){var A=d[g];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,u[g]-f-f)},this).map(function(g){return this.getLineHeightFactor()*g.length*v/_+f+f},this).reduce(function(g,A){return Math.max(g,A)},0)};e.setTableHeaderRow=function(d){i.call(this),this.internal.__cell__.tableHeaderRow=d},e.printHeaderRow=function(d,u){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){f=this.internal.__cell__.tableHeaderRow[g].clone(),u&&(f.y=this.internal.__cell__.margins.top||0,_.push(f)),f.lineNumber=d;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,f),this.setTextColor(A)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),t=!1}})(jt.API);var O1={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},T1=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],wh=E1(T1),I1=[100,200,300,400,500,600,700,800,900],P_=E1(I1);function ph(e){var n=e.family.replace(/"|'/g,"").toLowerCase(),t=(function(a){return O1[a=a||"normal"]?a:"normal"})(e.style),i=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(e.weight),r=(function(a){return typeof wh[a=a||"normal"]=="number"?a:"normal"})(e.stretch);return{family:n,style:t,weight:i,stretch:r,src:e.src||[],ref:e.ref||{name:n,style:[r,t,i].join(" ")}}}function l1(e,n,t,i){var r;for(r=t;r>=0&&r<n.length;r+=i)if(e[n[r]])return e[n[r]];for(r=t;r>=0&&r<n.length;r-=i)if(e[n[r]])return e[n[r]]}var M_={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},c1={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function d1(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function u1(e){return e.trimLeft()}function A_(e,n){for(var t=0;t<e.length;){if(e.charAt(t)===n)return[e.substring(0,t),e.substring(t+1)];t+=1}return null}function D_(e){var n=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return n===null?null:[n[0],e.substring(n[0].length)]}var ad,h1,f1,ts,od,p1,g1,m1,gh=["times"];function v1(e,n,t,i,r){var a=4,l=b1;switch(r){case jt.API.image_compression.FAST:a=1,l=_1;break;case jt.API.image_compression.MEDIUM:a=6,l=y1;break;case jt.API.image_compression.SLOW:a=9,l=w1}e=(function(d,u,f,v){for(var _,g=d.length/u,A=new Uint8Array(d.length+g),k=[N_,_1,b1,y1,w1],L=0;L<g;L+=1){var M=L*u,H=d.subarray(M,M+u);if(v)A.set(v(H,f,_),M+L);else{for(var V=k.length,F=[],ut=0;ut<V;ut+=1)F[ut]=k[ut](H,f,_);var St=L_(F.concat());A.set(F[St],M+L)}_=H}return A})(e,n,Math.ceil(t*i/8),l);var s=Ic(e,{level:a});return jt.API.__addimage__.arrayBufferToBinaryString(s)}function N_(e){var n=Array.apply([],e);return n.unshift(0),n}function _1(e,n){var t=e.length,i=[];i[0]=1;for(var r=0;r<t;r+=1){var a=e[r-n]||0;i[r+1]=e[r]-a+256&255}return i}function b1(e,n,t){var i=e.length,r=[];r[0]=2;for(var a=0;a<i;a+=1){var l=t&&t[a]||0;r[a+1]=e[a]-l+256&255}return r}function y1(e,n,t){var i=e.length,r=[];r[0]=3;for(var a=0;a<i;a+=1){var l=e[a-n]||0,s=t&&t[a]||0;r[a+1]=e[a]+256-(l+s>>>1)&255}return r}function w1(e,n,t){var i=e.length,r=[];r[0]=4;for(var a=0;a<i;a+=1){var l=k_(e[a-n]||0,t&&t[a]||0,t&&t[a-n]||0);r[a+1]=e[a]-l+256&255}return r}function k_(e,n,t){if(e===n&&n===t)return e;var i=Math.abs(n-t),r=Math.abs(e-t),a=Math.abs(e+n-t-t);return i<=r&&i<=a?e:r<=a?n:t}function L_(e){var n=e.map(function(t){return t.reduce(function(i,r){return i+Math.abs(r)},0)});return n.indexOf(Math.min.apply(null,n))}function mh(e,n,t){var i=n*t,r=Math.floor(i/8),a=16-(i-8*r+t),l=(1<<t)-1;return F1(e,r)>>a&l}function x1(e,n,t,i){var r=t*i,a=Math.floor(r/8),l=16-(r-8*a+i),s=(1<<i)-1,d=(n&s)<<l;(function(u,f,v){if(f+1<u.byteLength)u.setUint16(f,v,!1);else{var _=v>>8&255;u.setUint8(f,_)}})(e,a,F1(e,a)&~(s<<l)&65535|d)}function F1(e,n){return n+1<e.byteLength?e.getUint16(n,!1):e.getUint8(n)<<8}function E_(e){var n=0;if(e[n++]!==71||e[n++]!==73||e[n++]!==70||e[n++]!==56||(e[n++]+1&253)!=56||e[n++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=e[n++]|e[n++]<<8,i=e[n++]|e[n++]<<8,r=e[n++],a=r>>7,l=1<<1+(7&r);e[n++],e[n++];var s=null,d=null;a&&(s=n,d=l,n+=3*l);var u=!0,f=[],v=0,_=null,g=0,A=null;for(this.width=t,this.height=i;u&&n<e.length;)switch(e[n++]){case 33:switch(e[n++]){case 255:if(e[n]!==11||e[n+1]==78&&e[n+2]==69&&e[n+3]==84&&e[n+4]==83&&e[n+5]==67&&e[n+6]==65&&e[n+7]==80&&e[n+8]==69&&e[n+9]==50&&e[n+10]==46&&e[n+11]==48&&e[n+12]==3&&e[n+13]==1&&e[n+16]==0)n+=14,A=e[n++]|e[n++]<<8,n++;else for(n+=12;;){if(!((S=e[n++])>=0))throw Error("Invalid block size");if(S===0)break;n+=S}break;case 249:if(e[n++]!==4||e[n+4]!==0)throw new Error("Invalid graphics extension block.");var k=e[n++];v=e[n++]|e[n++]<<8,_=e[n++],1&k||(_=null),g=k>>2&7,n++;break;case 254:for(;;){if(!((S=e[n++])>=0))throw Error("Invalid block size");if(S===0)break;n+=S}break;default:throw new Error("Unknown graphic control label: 0x"+e[n-1].toString(16))}break;case 44:var L=e[n++]|e[n++]<<8,M=e[n++]|e[n++]<<8,H=e[n++]|e[n++]<<8,V=e[n++]|e[n++]<<8,F=e[n++],ut=F>>6&1,St=1<<1+(7&F),vt=s,X=d,z=!1;F>>7&&(z=!0,vt=n,X=St,n+=3*St);var nt=n;for(n++;;){var S;if(!((S=e[n++])>=0))throw Error("Invalid block size");if(S===0)break;n+=S}f.push({x:L,y:M,width:H,height:V,has_local_palette:z,palette_offset:vt,palette_size:X,data_offset:nt,data_length:n-nt,transparent_index:_,interlaced:!!ut,delay:v,disposal:g});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[n-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return A},this.frameInfo=function(N){if(N<0||N>=f.length)throw new Error("Frame index out of range.");return f[N]},this.decodeAndBlitFrameBGRA=function(N,q){var j=this.frameInfo(N),it=j.width*j.height,lt=new Uint8Array(it);C1(e,j.data_offset,lt,it);var st=j.palette_offset,K=j.transparent_index;K===null&&(K=256);var ct=j.width,wt=t-ct,bt=ct,C=4*(j.y*t+j.x),I=4*((j.y+j.height)*t+j.x),B=C,$=4*wt;j.interlaced===!0&&($+=4*t*7);for(var J=8,ot=0,ft=lt.length;ot<ft;++ot){var ht=lt[ot];if(bt===0&&(bt=ct,(B+=$)>=I&&($=4*wt+4*t*(J-1),B=C+(ct+wt)*(J<<1),J>>=1)),ht===K)B+=4;else{var xt=e[st+3*ht],Nt=e[st+3*ht+1],Ot=e[st+3*ht+2];q[B++]=Ot,q[B++]=Nt,q[B++]=xt,q[B++]=255}--bt}},this.decodeAndBlitFrameRGBA=function(N,q){var j=this.frameInfo(N),it=j.width*j.height,lt=new Uint8Array(it);C1(e,j.data_offset,lt,it);var st=j.palette_offset,K=j.transparent_index;K===null&&(K=256);var ct=j.width,wt=t-ct,bt=ct,C=4*(j.y*t+j.x),I=4*((j.y+j.height)*t+j.x),B=C,$=4*wt;j.interlaced===!0&&($+=4*t*7);for(var J=8,ot=0,ft=lt.length;ot<ft;++ot){var ht=lt[ot];if(bt===0&&(bt=ct,(B+=$)>=I&&($=4*wt+4*t*(J-1),B=C+(ct+wt)*(J<<1),J>>=1)),ht===K)B+=4;else{var xt=e[st+3*ht],Nt=e[st+3*ht+1],Ot=e[st+3*ht+2];q[B++]=xt,q[B++]=Nt,q[B++]=Ot,q[B++]=255}--bt}}}function C1(e,n,t,i){for(var r=e[n++],a=1<<r,l=a+1,s=l+1,d=r+1,u=(1<<d)-1,f=0,v=0,_=0,g=e[n++],A=new Int32Array(4096),k=null;;){for(;f<16&&g!==0;)v|=e[n++]<<f,f+=8,g===1?g=e[n++]:--g;if(f<d)break;var L=v&u;if(v>>=d,f-=d,L!==a){if(L===l)break;for(var M=L<s?L:k,H=0,V=M;V>a;)V=A[V]>>8,++H;var F=V;if(_+H+(M!==L?1:0)>i)return void Ge.log("Warning, gif stream longer than expected.");t[_++]=F;var ut=_+=H;for(M!==L&&(t[_++]=F),V=M;H--;)V=A[V],t[--ut]=255&V,V>>=8;k!==null&&s<4096&&(A[s++]=k<<8|F,s>=u+1&&d<12&&(++d,u=u<<1|1)),k=L}else s=l+1,u=(1<<(d=r+1))-1,k=null}return _!==i&&Ge.log("Warning, gif stream shorter than expected."),t}function vh(e){var n,t,i,r,a,l=Math.floor,s=new Array(64),d=new Array(64),u=new Array(64),f=new Array(64),v=new Array(65535),_=new Array(65535),g=new Array(64),A=new Array(64),k=[],L=0,M=7,H=new Array(64),V=new Array(64),F=new Array(64),ut=new Array(256),St=new Array(2048),vt=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],X=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],nt=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],it=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function lt(C,I){for(var B=0,$=0,J=new Array,ot=1;ot<=16;ot++){for(var ft=1;ft<=C[ot];ft++)J[I[$]]=[],J[I[$]][0]=B,J[I[$]][1]=ot,$++,B++;B*=2}return J}function st(C){for(var I=C[0],B=C[1]-1;B>=0;)I&1<<B&&(L|=1<<M),B--,--M<0&&(L==255?(K(255),K(0)):K(L),M=7,L=0)}function K(C){k.push(C)}function ct(C){K(C>>8&255),K(255&C)}function wt(C,I,B,$,J){for(var ot,ft=J[0],ht=J[240],xt=(function(kt,Vt){var Et,pe,Gt,Oe,le,ce,Ue,ge,Wt,te,$t=0;for(Wt=0;Wt<8;++Wt){Et=kt[$t],pe=kt[$t+1],Gt=kt[$t+2],Oe=kt[$t+3],le=kt[$t+4],ce=kt[$t+5],Ue=kt[$t+6];var Ze=Et+(ge=kt[$t+7]),Te=Et-ge,Ut=pe+Ue,de=pe-Ue,Ve=Gt+ce,Xt=Gt-ce,Pe=Oe+le,ue=Oe-le,cn=Ze+Pe,wn=Ze-Pe,We=Ut+Ve,re=Ut-Ve;kt[$t]=cn+We,kt[$t+4]=cn-We;var Be=.707106781*(re+wn);kt[$t+2]=wn+Be,kt[$t+6]=wn-Be;var Aa=.382683433*((cn=ue+Xt)-(re=de+Te)),jn=.5411961*cn+Aa,mr=1.306562965*re+Aa,Ji=.707106781*(We=Xt+de),Kt=Te+Ji,vr=Te-Ji;kt[$t+5]=vr+jn,kt[$t+3]=vr-jn,kt[$t+1]=Kt+mr,kt[$t+7]=Kt-mr,$t+=8}for($t=0,Wt=0;Wt<8;++Wt){Et=kt[$t],pe=kt[$t+8],Gt=kt[$t+16],Oe=kt[$t+24],le=kt[$t+32],ce=kt[$t+40],Ue=kt[$t+48];var _r=Et+(ge=kt[$t+56]),xi=Et-ge,Ci=pe+Ue,rn=pe-Ue,An=Gt+ce,Ln=Gt-ce,Da=Oe+le,Vr=Oe-le,qi=_r+Da,Qi=_r-Da,Ui=Ci+An,Hi=Ci-An;kt[$t]=qi+Ui,kt[$t+32]=qi-Ui;var Si=.707106781*(Hi+Qi);kt[$t+16]=Qi+Si,kt[$t+48]=Qi-Si;var Na=.382683433*((qi=Vr+Ln)-(Hi=rn+xi)),tr=.5411961*qi+Na,ka=1.306562965*Hi+Na,bo=.707106781*(Ui=Ln+rn),yo=xi+bo,wo=xi-bo;kt[$t+40]=wo+tr,kt[$t+24]=wo-tr,kt[$t+8]=yo+ka,kt[$t+56]=yo-ka,$t++}for(Wt=0;Wt<64;++Wt)te=kt[Wt]*Vt[Wt],g[Wt]=te>0?te+.5|0:te-.5|0;return g})(C,I),Nt=0;Nt<64;++Nt)A[vt[Nt]]=xt[Nt];var Ot=A[0]-B;B=A[0],Ot==0?st($[0]):(st($[_[ot=32767+Ot]]),st(v[ot]));for(var Tt=63;Tt>0&&A[Tt]==0;)Tt--;if(Tt==0)return st(ft),B;for(var pt,R=1;R<=Tt;){for(var Se=R;A[R]==0&&R<=Tt;)++R;var fe=R-Se;if(fe>=16){pt=fe>>4;for(var Zt=1;Zt<=pt;++Zt)st(ht);fe&=15}ot=32767+A[R],st(J[(fe<<4)+_[ot]]),st(v[ot]),R++}return Tt!=63&&st(ft),B}function bt(C){C=Math.min(Math.max(C,1),100),a!=C&&((function(I){for(var B=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],$=0;$<64;$++){var J=l((B[$]*I+50)/100);J=Math.min(Math.max(J,1),255),s[vt[$]]=J}for(var ot=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ft=0;ft<64;ft++){var ht=l((ot[ft]*I+50)/100);ht=Math.min(Math.max(ht,1),255),d[vt[ft]]=ht}for(var xt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Nt=0,Ot=0;Ot<8;Ot++)for(var Tt=0;Tt<8;Tt++)u[Nt]=1/(s[vt[Nt]]*xt[Ot]*xt[Tt]*8),f[Nt]=1/(d[vt[Nt]]*xt[Ot]*xt[Tt]*8),Nt++})(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),a=C)}this.encode=function(C,I){I&&bt(I),k=new Array,L=0,M=7,ct(65496),ct(65504),ct(16),K(74),K(70),K(73),K(70),K(0),K(1),K(1),K(0),ct(1),ct(1),K(0),K(0),(function(){ct(65499),ct(132),K(0);for(var pe=0;pe<64;pe++)K(s[pe]);K(1);for(var Gt=0;Gt<64;Gt++)K(d[Gt])})(),(function(pe,Gt){ct(65472),ct(17),K(8),ct(Gt),ct(pe),K(3),K(1),K(17),K(0),K(2),K(17),K(1),K(3),K(17),K(1)})(C.width,C.height),(function(){ct(65476),ct(418),K(0);for(var pe=0;pe<16;pe++)K(X[pe+1]);for(var Gt=0;Gt<=11;Gt++)K(z[Gt]);K(16);for(var Oe=0;Oe<16;Oe++)K(nt[Oe+1]);for(var le=0;le<=161;le++)K(S[le]);K(1);for(var ce=0;ce<16;ce++)K(N[ce+1]);for(var Ue=0;Ue<=11;Ue++)K(q[Ue]);K(17);for(var ge=0;ge<16;ge++)K(j[ge+1]);for(var Wt=0;Wt<=161;Wt++)K(it[Wt])})(),ct(65498),ct(12),K(3),K(1),K(0),K(2),K(17),K(3),K(17),K(0),K(63),K(0);var B=0,$=0,J=0;L=0,M=7,this.encode.displayName="_encode_";for(var ot,ft,ht,xt,Nt,Ot,Tt,pt,R,Se=C.data,fe=C.width,Zt=C.height,kt=4*fe,Vt=0;Vt<Zt;){for(ot=0;ot<kt;){for(Nt=kt*Vt+ot,Tt=-1,pt=0,R=0;R<64;R++)Ot=Nt+(pt=R>>3)*kt+(Tt=4*(7&R)),Vt+pt>=Zt&&(Ot-=kt*(Vt+1+pt-Zt)),ot+Tt>=kt&&(Ot-=ot+Tt-kt+4),ft=Se[Ot++],ht=Se[Ot++],xt=Se[Ot++],H[R]=(St[ft]+St[ht+256|0]+St[xt+512|0]>>16)-128,V[R]=(St[ft+768|0]+St[ht+1024|0]+St[xt+1280|0]>>16)-128,F[R]=(St[ft+1280|0]+St[ht+1536|0]+St[xt+1792|0]>>16)-128;B=wt(H,u,B,n,i),$=wt(V,f,$,t,r),J=wt(F,f,J,t,r),ot+=32}Vt+=8}if(M>=0){var Et=[];Et[1]=M+1,Et[0]=(1<<M+1)-1,st(Et)}return ct(65497),new Uint8Array(k)},e=e||50,(function(){for(var C=String.fromCharCode,I=0;I<256;I++)ut[I]=C(I)})(),n=lt(X,z),t=lt(N,q),i=lt(nt,S),r=lt(j,it),(function(){for(var C=1,I=2,B=1;B<=15;B++){for(var $=C;$<I;$++)_[32767+$]=B,v[32767+$]=[],v[32767+$][1]=B,v[32767+$][0]=$;for(var J=-(I-1);J<=-C;J++)_[32767+J]=B,v[32767+J]=[],v[32767+J][1]=B,v[32767+J][0]=I-1+J;C<<=1,I<<=1}})(),(function(){for(var C=0;C<256;C++)St[C]=19595*C,St[C+256|0]=38470*C,St[C+512|0]=7471*C+32768,St[C+768|0]=-11059*C,St[C+1024|0]=-21709*C,St[C+1280|0]=32768*C+8421375,St[C+1536|0]=-27439*C,St[C+1792|0]=-5329*C})(),bt(e)}function Zi(e,n){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!n,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function S1(e){function n(z){if(!z)throw Error("assert :P")}function t(z,nt,S){for(var N=0;4>N;N++)if(z[nt+N]!=S.charCodeAt(N))return!0;return!1}function i(z,nt,S,N,q){for(var j=0;j<q;j++)z[nt+j]=S[N+j]}function r(z,nt,S,N){for(var q=0;q<N;q++)z[nt+q]=S}function a(z){return new Int32Array(z)}function l(z,nt){for(var S=[],N=0;N<z;N++)S.push(new nt);return S}function s(z,nt){var S=[];return(function N(q,j,it){for(var lt=it[j],st=0;st<lt&&(q.push(it.length>j+1?[]:new nt),!(it.length<j+1));st++)N(q[st],j+1,it)})(S,0,z),S}var d=function(){var z=this;function nt(o,c){for(var p=1<<c-1>>>0;o&p;)p>>>=1;return p?(o&p-1)+p:o}function S(o,c,p,m,y){n(!(m%p));do o[c+(m-=p)]=y;while(0<m)}function N(o,c,p,m,y){if(n(2328>=y),512>=y)var w=a(512);else if((w=a(y))==null)return 0;return(function(x,P,D,E,W,at){var O,Y,tt=P,gt=1<<D,rt=a(16),mt=a(16);for(n(W!=0),n(E!=null),n(x!=null),n(0<D),Y=0;Y<W;++Y){if(15<E[Y])return 0;++rt[E[Y]]}if(rt[0]==W)return 0;for(mt[1]=0,O=1;15>O;++O){if(rt[O]>1<<O)return 0;mt[O+1]=mt[O]+rt[O]}for(Y=0;Y<W;++Y)O=E[Y],0<E[Y]&&(at[mt[O]++]=Y);if(mt[15]==1)return(E=new q).g=0,E.value=at[0],S(x,tt,1,gt,E),gt;var yt,Dt=-1,Pt=gt-1,Ht=0,It=1,_e=1,Bt=1<<D;for(Y=0,O=1,W=2;O<=D;++O,W<<=1){if(It+=_e<<=1,0>(_e-=rt[O]))return 0;for(;0<rt[O];--rt[O])(E=new q).g=O,E.value=at[Y++],S(x,tt+Ht,W,Bt,E),Ht=nt(Ht,O)}for(O=D+1,W=2;15>=O;++O,W<<=1){if(It+=_e<<=1,0>(_e-=rt[O]))return 0;for(;0<rt[O];--rt[O]){if(E=new q,(Ht&Pt)!=Dt){for(tt+=Bt,yt=1<<(Dt=O)-D;15>Dt&&!(0>=(yt-=rt[Dt]));)++Dt,yt<<=1;gt+=Bt=1<<(yt=Dt-D),x[P+(Dt=Ht&Pt)].g=yt+D,x[P+Dt].value=tt-P-Dt}E.g=O-D,E.value=at[Y++],S(x,tt+(Ht>>D),W,Bt,E),Ht=nt(Ht,O)}}return It!=2*mt[15]-1?0:gt})(o,c,p,m,y,w)}function q(){this.value=this.g=0}function j(){this.value=this.g=0}function it(){this.G=l(5,q),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Ya,j)}function lt(o,c,p,m){n(o!=null),n(c!=null),n(2147483648>m),o.Ca=254,o.I=0,o.b=-8,o.Ka=0,o.oa=c,o.pa=p,o.Jd=c,o.Yc=p+m,o.Zc=4<=m?p+m-4+1:p,ft(o)}function st(o,c){for(var p=0;0<c--;)p|=xt(o,128)<<c;return p}function K(o,c){var p=st(o,c);return ht(o)?-p:p}function ct(o,c,p,m){var y,w=0;for(n(o!=null),n(c!=null),n(4294967288>m),o.Sb=m,o.Ra=0,o.u=0,o.h=0,4<m&&(m=4),y=0;y<m;++y)w+=c[p+y]<<8*y;o.Ra=w,o.bb=m,o.oa=c,o.pa=p}function wt(o){for(;8<=o.u&&o.bb<o.Sb;)o.Ra>>>=8,o.Ra+=o.oa[o.pa+o.bb]<<Zr-8>>>0,++o.bb,o.u-=8;$(o)&&(o.h=1,o.u=0)}function bt(o,c){if(n(0<=c),!o.h&&c<=ui){var p=B(o)&di[c];return o.u+=c,wt(o),p}return o.h=1,o.u=0}function C(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function I(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function B(o){return o.Ra>>>(o.u&Zr-1)>>>0}function $(o){return n(o.bb<=o.Sb),o.h||o.bb==o.Sb&&o.u>Zr}function J(o,c){o.u=c,o.h=$(o)}function ot(o){o.u>=Pr&&(n(o.u>=Pr),wt(o))}function ft(o){n(o!=null&&o.oa!=null),o.pa<o.Zc?(o.I=(o.oa[o.pa++]|o.I<<8)>>>0,o.b+=8):(n(o!=null&&o.oa!=null),o.pa<o.Yc?(o.b+=8,o.I=o.oa[o.pa++]|o.I<<8):o.Ka?o.b=0:(o.I<<=8,o.b+=8,o.Ka=1))}function ht(o){return st(o,1)}function xt(o,c){var p=o.Ca;0>o.b&&ft(o);var m=o.b,y=p*c>>>8,w=(o.I>>>m>y)+0;for(w?(p-=y,o.I-=y+1<<m>>>0):p=y+1,m=p,y=0;256<=m;)y+=8,m>>=8;return m=7^y+Xr[m],o.b-=m,o.Ca=(p<<m)-1,w}function Nt(o,c,p){o[c+0]=p>>24&255,o[c+1]=p>>16&255,o[c+2]=p>>8&255,o[c+3]=255&p}function Ot(o,c){return o[c+0]|o[c+1]<<8}function Tt(o,c){return Ot(o,c)|o[c+2]<<16}function pt(o,c){return Ot(o,c)|Ot(o,c+2)<<16}function R(o,c){var p=1<<c;return n(o!=null),n(0<c),o.X=a(p),o.X==null?0:(o.Mb=32-c,o.Xa=c,1)}function Se(o,c){n(o!=null),n(c!=null),n(o.Xa==c.Xa),i(c.X,0,o.X,0,1<<c.Xa)}function fe(){this.X=[],this.Xa=this.Mb=0}function Zt(o,c,p,m){n(p!=null),n(m!=null);var y=p[0],w=m[0];return y==0&&(y=(o*w+c/2)/c),w==0&&(w=(c*y+o/2)/o),0>=y||0>=w?0:(p[0]=y,m[0]=w,1)}function kt(o,c){return o+(1<<c)-1>>>c}function Vt(o,c){return((4278255360&o)+(4278255360&c)>>>0&4278255360)+((16711935&o)+(16711935&c)>>>0&16711935)>>>0}function Et(o,c){z[c]=function(p,m,y,w,x,P,D){var E;for(E=0;E<x;++E){var W=z[o](P[D+E-1],y,w+E);P[D+E]=Vt(p[m+E],W)}}}function pe(){this.ud=this.hd=this.jd=0}function Gt(o,c){return((4278124286&(o^c))>>>1)+(o&c)>>>0}function Oe(o){return 0<=o&&256>o?o:0>o?0:255<o?255:void 0}function le(o,c){return Oe(o+(o-c+.5>>1))}function ce(o,c,p){return Math.abs(c-p)-Math.abs(o-p)}function Ue(o,c,p,m,y,w,x){for(m=w[x-1],p=0;p<y;++p)w[x+p]=m=Vt(o[c+p],m)}function ge(o,c,p,m,y){var w;for(w=0;w<p;++w){var x=o[c+w],P=x>>8&255,D=16711935&(D=(D=16711935&x)+((P<<16)+P));m[y+w]=(4278255360&x)+D>>>0}}function Wt(o,c){c.jd=255&o,c.hd=o>>8&255,c.ud=o>>16&255}function te(o,c,p,m,y,w){var x;for(x=0;x<m;++x){var P=c[p+x],D=P>>>8,E=P,W=255&(W=(W=P>>>16)+((o.jd<<24>>24)*(D<<24>>24)>>>5));E=255&(E=(E+=(o.hd<<24>>24)*(D<<24>>24)>>>5)+((o.ud<<24>>24)*(W<<24>>24)>>>5)),y[w+x]=(4278255360&P)+(W<<16)+E}}function $t(o,c,p,m,y){z[c]=function(w,x,P,D,E,W,at,O,Y){for(D=at;D<O;++D)for(at=0;at<Y;++at)E[W++]=y(P[m(w[x++])])},z[o]=function(w,x,P,D,E,W,at){var O=8>>w.b,Y=w.Ea,tt=w.K[0],gt=w.w;if(8>O)for(w=(1<<w.b)-1,gt=(1<<O)-1;x<P;++x){var rt,mt=0;for(rt=0;rt<Y;++rt)rt&w||(mt=m(D[E++])),W[at++]=y(tt[mt&gt]),mt>>=O}else z["VP8LMapColor"+p](D,E,tt,gt,W,at,x,P,Y)}}function Ze(o,c,p,m,y){for(p=c+p;c<p;){var w=o[c++];m[y++]=w>>16&255,m[y++]=w>>8&255,m[y++]=255&w}}function Te(o,c,p,m,y){for(p=c+p;c<p;){var w=o[c++];m[y++]=w>>16&255,m[y++]=w>>8&255,m[y++]=255&w,m[y++]=w>>24&255}}function Ut(o,c,p,m,y){for(p=c+p;c<p;){var w=(x=o[c++])>>16&240|x>>12&15,x=240&x|x>>28&15;m[y++]=w,m[y++]=x}}function de(o,c,p,m,y){for(p=c+p;c<p;){var w=(x=o[c++])>>16&248|x>>13&7,x=x>>5&224|x>>3&31;m[y++]=w,m[y++]=x}}function Ve(o,c,p,m,y){for(p=c+p;c<p;){var w=o[c++];m[y++]=255&w,m[y++]=w>>8&255,m[y++]=w>>16&255}}function Xt(o,c,p,m,y,w){if(w==0)for(p=c+p;c<p;)Nt(m,((w=o[c++])[0]>>24|w[1]>>8&65280|w[2]<<8&16711680|w[3]<<24)>>>0),y+=32;else i(m,y,o,c,p)}function Pe(o,c){z[c][0]=z[o+"0"],z[c][1]=z[o+"1"],z[c][2]=z[o+"2"],z[c][3]=z[o+"3"],z[c][4]=z[o+"4"],z[c][5]=z[o+"5"],z[c][6]=z[o+"6"],z[c][7]=z[o+"7"],z[c][8]=z[o+"8"],z[c][9]=z[o+"9"],z[c][10]=z[o+"10"],z[c][11]=z[o+"11"],z[c][12]=z[o+"12"],z[c][13]=z[o+"13"],z[c][14]=z[o+"0"],z[c][15]=z[o+"0"]}function ue(o){return o==qd||o==Ud||o==Hl||o==Hd}function cn(){this.eb=[],this.size=this.A=this.fb=0}function wn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function We(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new cn,this.f.kb=new wn,this.sd=null}function re(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Be(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Aa(o){return alert("todo:WebPSamplerProcessPlane"),o.T}function jn(o,c){var p=o.T,m=c.ba.f.RGBA,y=m.eb,w=m.fb+o.ka*m.A,x=ki[c.ba.S],P=o.y,D=o.O,E=o.f,W=o.N,at=o.ea,O=o.W,Y=c.cc,tt=c.dc,gt=c.Mc,rt=c.Nc,mt=o.ka,yt=o.ka+o.T,Dt=o.U,Pt=Dt+1>>1;for(mt==0?x(P,D,null,null,E,W,at,O,E,W,at,O,y,w,null,null,Dt):(x(c.ec,c.fc,P,D,Y,tt,gt,rt,E,W,at,O,y,w-m.A,y,w,Dt),++p);mt+2<yt;mt+=2)Y=E,tt=W,gt=at,rt=O,W+=o.Rc,O+=o.Rc,w+=2*m.A,x(P,(D+=2*o.fa)-o.fa,P,D,Y,tt,gt,rt,E,W,at,O,y,w-m.A,y,w,Dt);return D+=o.fa,o.j+yt<o.o?(i(c.ec,c.fc,P,D,Dt),i(c.cc,c.dc,E,W,Pt),i(c.Mc,c.Nc,at,O,Pt),p--):1&yt||x(P,D,null,null,E,W,at,O,E,W,at,O,y,w+m.A,null,null,Dt),p}function mr(o,c,p){var m=o.F,y=[o.J];if(m!=null){var w=o.U,x=c.ba.S,P=x==Ul||x==Hl;c=c.ba.f.RGBA;var D=[0],E=o.ka;D[0]=o.T,o.Kb&&(E==0?--D[0]:(--E,y[0]-=o.width),o.j+o.ka+o.T==o.o&&(D[0]=o.o-o.j-E));var W=c.eb;E=c.fb+E*c.A,o=zh(m,y[0],o.width,w,D,W,E+(P?0:3),c.A),n(p==D),o&&ue(x)&&Os(W,E,P,w,D,c.A)}return 0}function Ji(o){var c=o.ma,p=c.ba.S,m=11>p,y=p==jl||p==ql||p==Ul||p==jd||p==12||ue(p);if(c.memory=null,c.Ib=null,c.Jb=null,c.Nd=null,!Ps(c.Oa,o,y?11:12))return 0;if(y&&ue(p)&&Tl(),o.da)alert("todo:use_scaling");else{if(m){if(c.Ib=Aa,o.Kb){if(p=o.U+1>>1,c.memory=a(o.U+2*p),c.memory==null)return 0;c.ec=c.memory,c.fc=0,c.cc=c.ec,c.dc=c.fc+o.U,c.Mc=c.cc,c.Nc=c.dc+p,c.Ib=jn,Tl()}}else alert("todo:EmitYUV");y&&(c.Jb=mr,m&&Mi())}if(m&&!nf){for(o=0;256>o;++o)Dg[o]=89858*(o-128)+Wl>>Vl,Lg[o]=-22014*(o-128)+Wl,kg[o]=-45773*(o-128),Ng[o]=113618*(o-128)+Wl>>Vl;for(o=Is;o<$d;++o)c=76283*(o-16)+Wl>>Vl,Eg[o-Is]=an(c,255),Og[o-Is]=an(c+8>>4,15);nf=1}return 1}function Kt(o){var c=o.ma,p=o.U,m=o.T;return n(!(1&o.ka)),0>=p||0>=m?0:(p=c.Ib(o,c),c.Jb!=null&&c.Jb(o,c,p),c.Dc+=p,1)}function vr(o){o.ma.memory=null}function _r(o,c,p,m){return bt(o,8)!=47?0:(c[0]=bt(o,14)+1,p[0]=bt(o,14)+1,m[0]=bt(o,1),bt(o,3)!=0?0:!o.h)}function xi(o,c){if(4>o)return o+1;var p=o-2>>1;return(2+(1&o)<<p)+bt(c,p)+1}function Ci(o,c){return 120<c?c-120:1<=(p=((p=pg[c-1])>>4)*o+(8-(15&p)))?p:1;var p}function rn(o,c,p){var m=B(p),y=o[c+=255&m].g-8;return 0<y&&(J(p,p.u+8),m=B(p),c+=o[c].value,c+=m&(1<<y)-1),J(p,p.u+o[c].g),o[c].value}function An(o,c,p){return p.g+=o.g,p.value+=o.value<<c>>>0,n(8>=p.g),o.g}function Ln(o,c,p){var m=o.xc;return n((c=m==0?0:o.vc[o.md*(p>>m)+(c>>m)])<o.Wb),o.Ya[c]}function Da(o,c,p,m){var y=o.ab,w=o.c*c,x=o.C;c=x+c;var P=p,D=m;for(m=o.Ta,p=o.Ua;0<y--;){var E=o.gc[y],W=x,at=c,O=P,Y=D,tt=(D=m,P=p,E.Ea);switch(n(W<at),n(at<=E.nc),E.hc){case 2:un(O,Y,(at-W)*tt,D,P);break;case 0:var gt=W,rt=at,mt=D,yt=P,Dt=(Bt=E).Ea;gt==0&&(As(O,Y,null,null,1,mt,yt),Ue(O,Y+1,0,0,Dt-1,mt,yt+1),Y+=Dt,yt+=Dt,++gt);for(var Pt=1<<Bt.b,Ht=Pt-1,It=kt(Dt,Bt.b),_e=Bt.K,Bt=Bt.w+(gt>>Bt.b)*It;gt<rt;){var Me=_e,Sn=Bt,be=1;for(No(O,Y,mt,yt-Dt,1,mt,yt);be<Dt;){var zt=(be&~Ht)+Pt;zt>Dt&&(zt=Dt),(0,Ns[Me[Sn++]>>8&15])(O,Y+ +be,mt,yt+be-Dt,zt-be,mt,yt+be),be=zt}Y+=Dt,yt+=Dt,++gt&Ht||(Bt+=It)}at!=E.nc&&i(D,P-tt,D,P+(at-W-1)*tt,tt);break;case 1:for(tt=O,rt=Y,Dt=(O=E.Ea)-(yt=O&~(mt=(Y=1<<E.b)-1)),gt=kt(O,E.b),Pt=E.K,E=E.w+(W>>E.b)*gt;W<at;){for(Ht=Pt,It=E,_e=new pe,Bt=rt+yt,Me=rt+O;rt<Bt;)Wt(Ht[It++],_e),ks(_e,tt,rt,Y,D,P),rt+=Y,P+=Y;rt<Me&&(Wt(Ht[It++],_e),ks(_e,tt,rt,Dt,D,P),rt+=Dt,P+=Dt),++W&mt||(E+=gt)}break;case 3:if(O==D&&Y==P&&0<E.b){for(rt=D,O=tt=P+(at-W)*tt-(yt=(at-W)*kt(E.Ea,E.b)),Y=D,mt=P,gt=[],yt=(Dt=yt)-1;0<=yt;--yt)gt[yt]=Y[mt+yt];for(yt=Dt-1;0<=yt;--yt)rt[O+yt]=gt[yt];Fl(E,W,at,D,tt,D,P)}else Fl(E,W,at,O,Y,D,P)}P=m,D=p}D!=p&&i(m,p,P,D,w)}function Vr(o,c){var p=o.V,m=o.Ba+o.c*o.C,y=c-o.C;if(n(c<=o.l.o),n(16>=y),0<y){var w=o.l,x=o.Ta,P=o.Ua,D=w.width;if(Da(o,y,p,m),y=P=[P],n((p=o.C)<(m=c)),n(w.v<w.va),m>w.o&&(m=w.o),p<w.j){var E=w.j-p;p=w.j,y[0]+=E*D}if(p>=m?p=0:(y[0]+=4*w.v,w.ka=p-w.j,w.U=w.va-w.v,w.T=m-p,p=1),p){if(P=P[0],11>(p=o.ca).S){var W=p.f.RGBA,at=(m=p.S,y=w.U,w=w.T,E=W.eb,W.A),O=w;for(W=W.fb+o.Ma*W.A;0<O--;){var Y=x,tt=P,gt=y,rt=E,mt=W;switch(m){case zl:Ls(Y,tt,gt,rt,mt);break;case jl:Kr(Y,tt,gt,rt,mt);break;case qd:Kr(Y,tt,gt,rt,mt),Os(rt,mt,0,gt,1,0);break;case $h:Ga(Y,tt,gt,rt,mt);break;case ql:Xt(Y,tt,gt,rt,mt,1);break;case Ud:Xt(Y,tt,gt,rt,mt,1),Os(rt,mt,0,gt,1,0);break;case Ul:Xt(Y,tt,gt,rt,mt,0);break;case Hl:Xt(Y,tt,gt,rt,mt,0),Os(rt,mt,1,gt,1,0);break;case jd:Jr(Y,tt,gt,rt,mt);break;case Hd:Jr(Y,tt,gt,rt,mt),Bh(rt,mt,gt,1,0);break;case Yh:Qr(Y,tt,gt,rt,mt);break;default:n(0)}P+=D,W+=at}o.Ma+=w}else alert("todo:EmitRescaledRowsYUVA");n(o.Ma<=p.height)}}o.C=c,n(o.C<=o.i)}function qi(o){var c;if(0<o.ua)return 0;for(c=0;c<o.Wb;++c){var p=o.Ya[c].G,m=o.Ya[c].H;if(0<p[1][m[1]+0].g||0<p[2][m[2]+0].g||0<p[3][m[3]+0].g)return 0}return 1}function Qi(o,c,p,m,y,w){if(o.Z!=0){var x=o.qd,P=o.rd;for(n(na[o.Z]!=null);c<p;++c)na[o.Z](x,P,m,y,m,y,w),x=m,P=y,y+=w;o.qd=x,o.rd=P}}function Ui(o,c){var p=o.l.ma,m=p.Z==0||p.Z==1?o.l.j:o.C;if(m=o.C<m?m:o.C,n(c<=o.l.o),c>m){var y=o.l.width,w=p.ca,x=p.tb+y*m,P=o.V,D=o.Ba+o.c*m,E=o.gc;n(o.ab==1),n(E[0].hc==3),ir(E[0],m,c,P,D,w,x),Qi(p,m,c,w,x,y)}o.C=o.Ma=c}function Hi(o,c,p,m,y,w,x){var P=o.$/m,D=o.$%m,E=o.m,W=o.s,at=p+o.$,O=at;y=p+m*y;var Y=p+m*w,tt=280+W.ua,gt=o.Pb?P:16777216,rt=0<W.ua?W.Wa:null,mt=W.wc,yt=at<Y?Ln(W,D,P):null;n(o.C<w),n(Y<=y);var Dt=!1;t:for(;;){for(;Dt||at<Y;){var Pt=0;if(P>=gt){var Ht=at-p;n((gt=o).Pb),gt.wd=gt.m,gt.xd=Ht,0<gt.s.ua&&Se(gt.s.Wa,gt.s.vb),gt=P+mg}if(D&mt||(yt=Ln(W,D,P)),n(yt!=null),yt.Qb&&(c[at]=yt.qb,Dt=!0),!Dt)if(ot(E),yt.jc){Pt=E,Ht=c;var It=at,_e=yt.pd[B(Pt)&Ya-1];n(yt.jc),256>_e.g?(J(Pt,Pt.u+_e.g),Ht[It]=_e.value,Pt=0):(J(Pt,Pt.u+_e.g-256),n(256<=_e.value),Pt=_e.value),Pt==0&&(Dt=!0)}else Pt=rn(yt.G[0],yt.H[0],E);if(E.h)break;if(Dt||256>Pt){if(!Dt)if(yt.nd)c[at]=(yt.qb|Pt<<8)>>>0;else{if(ot(E),Dt=rn(yt.G[1],yt.H[1],E),ot(E),Ht=rn(yt.G[2],yt.H[2],E),It=rn(yt.G[3],yt.H[3],E),E.h)break;c[at]=(It<<24|Dt<<16|Pt<<8|Ht)>>>0}if(Dt=!1,++at,++D>=m&&(D=0,++P,x!=null&&P<=w&&!(P%16)&&x(o,P),rt!=null))for(;O<at;)Pt=c[O++],rt.X[(506832829*Pt&4294967295)>>>rt.Mb]=Pt}else if(280>Pt){if(Pt=xi(Pt-256,E),Ht=rn(yt.G[4],yt.H[4],E),ot(E),Ht=Ci(m,Ht=xi(Ht,E)),E.h)break;if(at-p<Ht||y-at<Pt)break t;for(It=0;It<Pt;++It)c[at+It]=c[at+It-Ht];for(at+=Pt,D+=Pt;D>=m;)D-=m,++P,x!=null&&P<=w&&!(P%16)&&x(o,P);if(n(at<=y),D&mt&&(yt=Ln(W,D,P)),rt!=null)for(;O<at;)Pt=c[O++],rt.X[(506832829*Pt&4294967295)>>>rt.Mb]=Pt}else{if(!(Pt<tt))break t;for(Dt=Pt-280,n(rt!=null);O<at;)Pt=c[O++],rt.X[(506832829*Pt&4294967295)>>>rt.Mb]=Pt;Pt=at,n(!(Dt>>>(Ht=rt).Xa)),c[Pt]=Ht.X[Dt],Dt=!0}Dt||n(E.h==$(E))}if(o.Pb&&E.h&&at<y)n(o.m.h),o.a=5,o.m=o.wd,o.$=o.xd,0<o.s.ua&&Se(o.s.vb,o.s.Wa);else{if(E.h)break t;x?.(o,P>w?w:P),o.a=0,o.$=at-p}return 1}return o.a=3,0}function Si(o){n(o!=null),o.vc=null,o.yc=null,o.Ya=null;var c=o.Wa;c!=null&&(c.X=null),o.vb=null,n(o!=null)}function Na(){var o=new qt;return o==null?null:(o.a=0,o.xb=Xh,Pe("Predictor","VP8LPredictors"),Pe("Predictor","VP8LPredictors_C"),Pe("PredictorAdd","VP8LPredictorsAdd"),Pe("PredictorAdd","VP8LPredictorsAdd_C"),un=ge,ks=te,Ls=Ze,Kr=Te,Jr=Ut,Qr=de,Ga=Ve,z.VP8LMapColor32b=nr,z.VP8LMapColor8b=Ds,o)}function tr(o,c,p,m,y){var w=1,x=[o],P=[c],D=m.m,E=m.s,W=null,at=0;t:for(;;){if(p)for(;w&&bt(D,1);){var O=x,Y=P,tt=m,gt=1,rt=tt.m,mt=tt.gc[tt.ab],yt=bt(rt,2);if(tt.Oc&1<<yt)w=0;else{switch(tt.Oc|=1<<yt,mt.hc=yt,mt.Ea=O[0],mt.nc=Y[0],mt.K=[null],++tt.ab,n(4>=tt.ab),yt){case 0:case 1:mt.b=bt(rt,3)+2,gt=tr(kt(mt.Ea,mt.b),kt(mt.nc,mt.b),0,tt,mt.K),mt.K=mt.K[0];break;case 3:var Dt,Pt=bt(rt,8)+1,Ht=16<Pt?0:4<Pt?1:2<Pt?2:3;if(O[0]=kt(mt.Ea,Ht),mt.b=Ht,Dt=gt=tr(Pt,1,0,tt,mt.K)){var It,_e=Pt,Bt=mt,Me=1<<(8>>Bt.b),Sn=a(Me);if(Sn==null)Dt=0;else{var be=Bt.K[0],zt=Bt.w;for(Sn[0]=Bt.K[0][0],It=1;It<1*_e;++It)Sn[It]=Vt(be[zt+It],Sn[It-1]);for(;It<4*Me;++It)Sn[It]=0;Bt.K[0]=null,Bt.K[0]=Sn,Dt=1}}gt=Dt;break;case 2:break;default:n(0)}w=gt}}if(x=x[0],P=P[0],w&&bt(D,1)&&!(w=1<=(at=bt(D,4))&&11>=at)){m.a=3;break t}var Lt;if(Lt=w)e:{var fn,he,Ne,Qe=m,On=x,Xn=P,on=at,Un=p,Kn=Qe.m,Pn=Qe.s,ke=[null],je=1,sn=0,qe=gg[on];n:for(;;){if(Un&&bt(Kn,1)){var Tn=bt(Kn,3)+2,$i=kt(On,Tn),pn=kt(Xn,Tn),ri=$i*pn;if(!tr($i,pn,0,Qe,ke))break n;for(ke=ke[0],Pn.xc=Tn,fn=0;fn<ri;++fn){var Ye=ke[fn]>>8&65535;ke[fn]=Ye,Ye>=je&&(je=Ye+1)}}if(Kn.h)break n;for(he=0;5>he;++he){var Mn=Gh[he];!he&&0<on&&(Mn+=1<<on),sn<Mn&&(sn=Mn)}var fi=l(je*qe,q),Jn=je,pi=l(Jn,it);if(pi==null)var gi=null;else n(65536>=Jn),gi=pi;var ai=a(sn);if(gi==null||ai==null||fi==null){Qe.a=1;break n}var mi=fi;for(fn=Ne=0;fn<je;++fn){var Ke=gi[fn],vi=Ke.G,Yi=Ke.H,Xa=0,Dr=1,In=0;for(he=0;5>he;++he){Mn=Gh[he],vi[he]=mi,Yi[he]=Ne,!he&&0<on&&(Mn+=1<<on);r:{var Yl,Yd=Mn,Gl=Qe,Fs=ai,Fg=mi,Rg=Ne,Gd=0,ia=Gl.m,Bg=bt(ia,1);if(r(Fs,0,0,Yd),Bg){var zg=bt(ia,1)+1,jg=bt(ia,1),of=bt(ia,jg==0?1:8);Fs[of]=1,zg==2&&(Fs[of=bt(ia,8)]=1);var Zl=1}else{var sf=a(19),lf=bt(ia,4)+4;if(19<lf){Gl.a=3;var Xl=0;break r}for(Yl=0;Yl<lf;++Yl)sf[fg[Yl]]=bt(ia,3);var Zd=void 0,Rs=void 0,cf=Gl,qg=sf,Kl=Yd,df=Fs,Xd=0,ra=cf.m,uf=8,hf=l(128,q);i:for(;N(hf,0,7,qg,19);){if(bt(ra,1)){var Ug=2+2*bt(ra,3);if((Zd=2+bt(ra,Ug))>Kl)break i}else Zd=Kl;for(Rs=0;Rs<Kl&&Zd--;){ot(ra);var ff=hf[0+(127&B(ra))];J(ra,ra.u+ff.g);var Lo=ff.value;if(16>Lo)df[Rs++]=Lo,Lo!=0&&(uf=Lo);else{var Hg=Lo==16,pf=Lo-16,Vg=ug[pf],gf=bt(ra,dg[pf])+Vg;if(Rs+gf>Kl)break i;for(var Wg=Hg?uf:0;0<gf--;)df[Rs++]=Wg}}Xd=1;break i}Xd||(cf.a=3),Zl=Xd}(Zl=Zl&&!ia.h)&&(Gd=N(Fg,Rg,8,Fs,Yd)),Zl&&Gd!=0?Xl=Gd:(Gl.a=3,Xl=0)}if(Xl==0)break n;if(Dr&&hg[he]==1&&(Dr=mi[Ne].g==0),Xa+=mi[Ne].g,Ne+=Xl,3>=he){var Bs,Kd=ai[0];for(Bs=1;Bs<Mn;++Bs)ai[Bs]>Kd&&(Kd=ai[Bs]);In+=Kd}}if(Ke.nd=Dr,Ke.Qb=0,Dr&&(Ke.qb=(vi[3][Yi[3]+0].value<<24|vi[1][Yi[1]+0].value<<16|vi[2][Yi[2]+0].value)>>>0,Xa==0&&256>vi[0][Yi[0]+0].value&&(Ke.Qb=1,Ke.qb+=vi[0][Yi[0]+0].value<<8)),Ke.jc=!Ke.Qb&&6>In,Ke.jc){var Jl,Nr=Ke;for(Jl=0;Jl<Ya;++Jl){var aa=Jl,oa=Nr.pd[aa],Ql=Nr.G[0][Nr.H[0]+aa];256<=Ql.value?(oa.g=Ql.g+256,oa.value=Ql.value):(oa.g=0,oa.value=0,aa>>=An(Ql,8,oa),aa>>=An(Nr.G[1][Nr.H[1]+aa],16,oa),aa>>=An(Nr.G[2][Nr.H[2]+aa],0,oa),An(Nr.G[3][Nr.H[3]+aa],24,oa))}}}Pn.vc=ke,Pn.Wb=je,Pn.Ya=gi,Pn.yc=fi,Lt=1;break e}Lt=0}if(!(w=Lt)){m.a=3;break t}if(0<at){if(E.ua=1<<at,!R(E.Wa,at)){m.a=1,w=0;break t}}else E.ua=0;var Jd=m,mf=x,$g=P,Qd=Jd.s,tu=Qd.xc;if(Jd.c=mf,Jd.i=$g,Qd.md=kt(mf,tu),Qd.wc=tu==0?-1:(1<<tu)-1,p){m.xb=Cg;break t}if((W=a(x*P))==null){m.a=1,w=0;break t}w=(w=Hi(m,W,0,x,P,P,null))&&!D.h;break t}return w?(y!=null?y[0]=W:(n(W==null),n(p)),m.$=0,p||Si(E)):Si(E),w}function ka(o,c){var p=o.c*o.i,m=p+c+16*c;return n(o.c<=c),o.V=a(m),o.V==null?(o.Ta=null,o.Ua=0,o.a=1,0):(o.Ta=o.V,o.Ua=o.Ba+p+c,1)}function bo(o,c){var p=o.C,m=c-p,y=o.V,w=o.Ba+o.c*p;for(n(c<=o.l.o);0<m;){var x=16<m?16:m,P=o.l.ma,D=o.l.width,E=D*x,W=P.ca,at=P.tb+D*p,O=o.Ta,Y=o.Ua;Da(o,x,y,w),jh(O,Y,W,at,E),Qi(P,p,p+x,W,at,D),m-=x,y+=x*o.c,p+=x}n(p==c),o.C=o.Ma=c}function yo(){this.ub=this.yd=this.td=this.Rb=0}function wo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Cd(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function us(){this.Yb=(function(){var o=[];return(function c(p,m,y){for(var w=y[m],x=0;x<w&&(p.push(y.length>m+1?[]:0),!(y.length<m+1));x++)c(p[x],m+1,y)})(o,0,[3,11]),o})()}function bl(){this.jb=a(3),this.Wc=s([4,8],us),this.Xc=s([4,17],us)}function yl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Pi(){this.ld=this.La=this.dd=this.tc=0}function hs(){this.Na=this.la=0}function wl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function fs(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function xl(){this.uc=this.M=this.Nb=0,this.wa=Array(new Pi),this.Y=0,this.ya=Array(new fs),this.aa=0,this.l=new xo}function Cl(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Sl(){this.cb=this.a=0,this.sc="",this.m=new C,this.Od=new yo,this.Kc=new wo,this.ed=new yl,this.Qa=new Cd,this.Ic=this.$c=this.Aa=0,this.D=new xl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,C),this.ia=0,this.pb=l(4,wl),this.Pa=new bl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Cl),this.Hd=0,this.rb=Array(new hs),this.sb=0,this.wa=Array(new Pi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new fs),this.L=this.aa=0,this.gd=s([4,2],Pi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function xo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Sd(){var o=new Sl;return o!=null&&(o.a=0,o.sc="OK",o.cb=0,o.Xb=0,Ts||(Ts=br)),o}function _n(o,c,p){return o.a==0&&(o.a=c,o.sc=p,o.cb=0),0}function Pl(o,c,p){return 3<=p&&o[c+0]==157&&o[c+1]==1&&o[c+2]==42}function Ml(o,c){if(o==null)return 0;if(o.a=0,o.sc="OK",c==null)return _n(o,2,"null VP8Io passed to VP8GetHeaders()");var p=c.data,m=c.w,y=c.ha;if(4>y)return _n(o,7,"Truncated header.");var w=p[m+0]|p[m+1]<<8|p[m+2]<<16,x=o.Od;if(x.Rb=!(1&w),x.td=w>>1&7,x.yd=w>>4&1,x.ub=w>>5,3<x.td)return _n(o,3,"Incorrect keyframe parameters.");if(!x.yd)return _n(o,4,"Frame not displayable.");m+=3,y-=3;var P=o.Kc;if(x.Rb){if(7>y)return _n(o,7,"cannot parse picture header");if(!Pl(p,m,y))return _n(o,3,"Bad code word");P.c=16383&(p[m+4]<<8|p[m+3]),P.Td=p[m+4]>>6,P.i=16383&(p[m+6]<<8|p[m+5]),P.Ud=p[m+6]>>6,m+=7,y-=7,o.za=P.c+15>>4,o.Ub=P.i+15>>4,c.width=P.c,c.height=P.i,c.Da=0,c.j=0,c.v=0,c.va=c.width,c.o=c.height,c.da=0,c.ib=c.width,c.hb=c.height,c.U=c.width,c.T=c.height,r((w=o.Pa).jb,0,255,w.jb.length),n((w=o.Qa)!=null),w.Cb=0,w.Bb=0,w.Fb=1,r(w.Zb,0,0,w.Zb.length),r(w.Lb,0,0,w.Lb)}if(x.ub>y)return _n(o,7,"bad partition length");lt(w=o.m,p,m,x.ub),m+=x.ub,y-=x.ub,x.Rb&&(P.Ld=ht(w),P.Kd=ht(w)),P=o.Qa;var D,E=o.Pa;if(n(w!=null),n(P!=null),P.Cb=ht(w),P.Cb){if(P.Bb=ht(w),ht(w)){for(P.Fb=ht(w),D=0;4>D;++D)P.Zb[D]=ht(w)?K(w,7):0;for(D=0;4>D;++D)P.Lb[D]=ht(w)?K(w,6):0}if(P.Bb)for(D=0;3>D;++D)E.jb[D]=ht(w)?st(w,8):255}else P.Bb=0;if(w.Ka)return _n(o,3,"cannot parse segment header");if((P=o.ed).zd=ht(w),P.Tb=st(w,6),P.wb=st(w,3),P.Pc=ht(w),P.Pc&&ht(w)){for(E=0;4>E;++E)ht(w)&&(P.vd[E]=K(w,6));for(E=0;4>E;++E)ht(w)&&(P.od[E]=K(w,6))}if(o.L=P.Tb==0?0:P.zd?1:2,w.Ka)return _n(o,3,"cannot parse filter header");var W=y;if(y=D=m,m=D+W,P=W,o.Xb=(1<<st(o.m,2))-1,W<3*(E=o.Xb))p=7;else{for(D+=3*E,P-=3*E,W=0;W<E;++W){var at=p[y+0]|p[y+1]<<8|p[y+2]<<16;at>P&&(at=P),lt(o.Jc[+W],p,D,at),D+=at,P-=at,y+=3}lt(o.Jc[+E],p,D,P),p=D<m?0:5}if(p!=0)return _n(o,p,"cannot parse partitions");for(p=st(D=o.m,7),y=ht(D)?K(D,4):0,m=ht(D)?K(D,4):0,P=ht(D)?K(D,4):0,E=ht(D)?K(D,4):0,D=ht(D)?K(D,4):0,W=o.Qa,at=0;4>at;++at){if(W.Cb){var O=W.Zb[at];W.Fb||(O+=p)}else{if(0<at){o.pb[at]=o.pb[0];continue}O=p}var Y=o.pb[at];Y.Sc[0]=Vd[an(O+y,127)],Y.Sc[1]=Wd[an(O+0,127)],Y.Eb[0]=2*Vd[an(O+m,127)],Y.Eb[1]=101581*Wd[an(O+P,127)]>>16,8>Y.Eb[1]&&(Y.Eb[1]=8),Y.Qc[0]=Vd[an(O+E,117)],Y.Qc[1]=Wd[an(O+D,127)],Y.lc=O+D}if(!x.Rb)return _n(o,4,"Not a key frame.");for(ht(w),x=o.Pa,p=0;4>p;++p){for(y=0;8>y;++y)for(m=0;3>m;++m)for(P=0;11>P;++P)E=xt(w,wg[p][y][m][P])?st(w,8):bg[p][y][m][P],x.Wc[p][y].Yb[m][P]=E;for(y=0;17>y;++y)x.Xc[p][y]=x.Wc[p][xg[y]]}return o.kc=ht(w),o.kc&&(o.Bd=st(w,8)),o.cb=1}function br(o,c,p,m,y,w,x){var P=c[y].Yb[p];for(p=0;16>y;++y){if(!xt(o,P[p+0]))return y;for(;!xt(o,P[p+1]);)if(P=c[++y].Yb[0],p=0,y==16)return 16;var D=c[y+1].Yb;if(xt(o,P[p+2])){var E=o,W=0;if(xt(E,(O=P)[(at=p)+3]))if(xt(E,O[at+6])){for(P=0,at=2*(W=xt(E,O[at+8]))+(O=xt(E,O[at+9+W])),W=0,O=vg[at];O[P];++P)W+=W+xt(E,O[P]);W+=3+(8<<at)}else xt(E,O[at+7])?(W=7+2*xt(E,165),W+=xt(E,145)):W=5+xt(E,159);else W=xt(E,O[at+4])?3+xt(E,O[at+5]):2;P=D[2]}else W=1,P=D[1];D=x+_g[y],0>(E=o).b&&ft(E);var at,O=E.b,Y=(at=E.Ca>>1)-(E.I>>O)>>31;--E.b,E.Ca+=Y,E.Ca|=1,E.I-=(at+1&Y)<<O,w[D]=((W^Y)-Y)*m[(0<y)+0]}return 16}function La(o){var c=o.rb[o.sb-1];c.la=0,c.Na=0,r(o.zc,0,0,o.zc.length),o.ja=0}function Vi(o,c,p,m,y){y=o[c+p+32*m]+(y>>3),o[c+p+32*m]=-256&y?0>y?0:255:y}function Ea(o,c,p,m,y,w){Vi(o,c,0,p,m+y),Vi(o,c,1,p,m+w),Vi(o,c,2,p,m-w),Vi(o,c,3,p,m-y)}function dn(o){return(20091*o>>16)+o}function ps(o,c,p,m){var y,w=0,x=a(16);for(y=0;4>y;++y){var P=o[c+0]+o[c+8],D=o[c+0]-o[c+8],E=(35468*o[c+4]>>16)-dn(o[c+12]),W=dn(o[c+4])+(35468*o[c+12]>>16);x[w+0]=P+W,x[w+1]=D+E,x[w+2]=D-E,x[w+3]=P-W,w+=4,c++}for(y=w=0;4>y;++y)P=(o=x[w+0]+4)+x[w+8],D=o-x[w+8],E=(35468*x[w+4]>>16)-dn(x[w+12]),Vi(p,m,0,0,P+(W=dn(x[w+4])+(35468*x[w+12]>>16))),Vi(p,m,1,0,D+E),Vi(p,m,2,0,D-E),Vi(p,m,3,0,P-W),w++,m+=32}function Pd(o,c,p,m){var y=o[c+0]+4,w=35468*o[c+4]>>16,x=dn(o[c+4]),P=35468*o[c+1]>>16;Ea(p,m,0,y+x,o=dn(o[c+1]),P),Ea(p,m,1,y+w,o,P),Ea(p,m,2,y-w,o,P),Ea(p,m,3,y-x,o,P)}function Md(o,c,p,m,y){ps(o,c,p,m),y&&ps(o,c+16,p,m+4)}function Ad(o,c,p,m){Za(o,c+0,p,m,1),Za(o,c+32,p,m+128,1)}function er(o,c,p,m){var y;for(o=o[c+0]+4,y=0;4>y;++y)for(c=0;4>c;++c)Vi(p,m,c,y,o)}function Al(o,c,p,m){o[c+0]&&ze(o,c+0,p,m),o[c+16]&&ze(o,c+16,p,m+4),o[c+32]&&ze(o,c+32,p,m+128),o[c+48]&&ze(o,c+48,p,m+128+4)}function Dl(o,c,p,m){var y,w=a(16);for(y=0;4>y;++y){var x=o[c+0+y]+o[c+12+y],P=o[c+4+y]+o[c+8+y],D=o[c+4+y]-o[c+8+y],E=o[c+0+y]-o[c+12+y];w[0+y]=x+P,w[8+y]=x-P,w[4+y]=E+D,w[12+y]=E-D}for(y=0;4>y;++y)x=(o=w[0+4*y]+3)+w[3+4*y],P=w[1+4*y]+w[2+4*y],D=w[1+4*y]-w[2+4*y],E=o-w[3+4*y],p[m+0]=x+P>>3,p[m+16]=E+D>>3,p[m+32]=x-P>>3,p[m+48]=E-D>>3,m+=64}function Wr(o,c,p){var m,y=c-32,w=hi,x=255-o[y-1];for(m=0;m<p;++m){var P,D=w,E=x+o[c-1];for(P=0;P<p;++P)o[c+P]=D[E+o[y+P]];c+=32}}function gs(o,c){Wr(o,c,4)}function Dd(o,c){Wr(o,c,8)}function Nd(o,c){Wr(o,c,16)}function kd(o,c){var p;for(p=0;16>p;++p)i(o,c+32*p,o,c-32,16)}function ms(o,c){var p;for(p=16;0<p;--p)r(o,c,o[c-1],16),c+=32}function Oa(o,c,p){var m;for(m=0;16>m;++m)r(c,p+32*m,o,16)}function $r(o,c){var p,m=16;for(p=0;16>p;++p)m+=o[c-1+32*p]+o[c+p-32];Oa(m>>5,o,c)}function Ld(o,c){var p,m=8;for(p=0;16>p;++p)m+=o[c-1+32*p];Oa(m>>4,o,c)}function Ta(o,c){var p,m=8;for(p=0;16>p;++p)m+=o[c+p-32];Oa(m>>4,o,c)}function vs(o,c){Oa(128,o,c)}function ae(o,c,p){return o+2*c+p+2>>2}function Ed(o,c){var p,m=c-32;for(m=new Uint8Array([ae(o[m-1],o[m+0],o[m+1]),ae(o[m+0],o[m+1],o[m+2]),ae(o[m+1],o[m+2],o[m+3]),ae(o[m+2],o[m+3],o[m+4])]),p=0;4>p;++p)i(o,c+32*p,m,0,m.length)}function Od(o,c){var p=o[c-1],m=o[c-1+32],y=o[c-1+64],w=o[c-1+96];Nt(o,c+0,16843009*ae(o[c-1-32],p,m)),Nt(o,c+32,16843009*ae(p,m,y)),Nt(o,c+64,16843009*ae(m,y,w)),Nt(o,c+96,16843009*ae(y,w,w))}function Td(o,c){var p,m=4;for(p=0;4>p;++p)m+=o[c+p-32]+o[c-1+32*p];for(m>>=3,p=0;4>p;++p)r(o,c+32*p,m,4)}function Id(o,c){var p=o[c-1+0],m=o[c-1+32],y=o[c-1+64],w=o[c-1-32],x=o[c+0-32],P=o[c+1-32],D=o[c+2-32],E=o[c+3-32];o[c+0+96]=ae(m,y,o[c-1+96]),o[c+1+96]=o[c+0+64]=ae(p,m,y),o[c+2+96]=o[c+1+64]=o[c+0+32]=ae(w,p,m),o[c+3+96]=o[c+2+64]=o[c+1+32]=o[c+0+0]=ae(x,w,p),o[c+3+64]=o[c+2+32]=o[c+1+0]=ae(P,x,w),o[c+3+32]=o[c+2+0]=ae(D,P,x),o[c+3+0]=ae(E,D,P)}function yr(o,c){var p=o[c+1-32],m=o[c+2-32],y=o[c+3-32],w=o[c+4-32],x=o[c+5-32],P=o[c+6-32],D=o[c+7-32];o[c+0+0]=ae(o[c+0-32],p,m),o[c+1+0]=o[c+0+32]=ae(p,m,y),o[c+2+0]=o[c+1+32]=o[c+0+64]=ae(m,y,w),o[c+3+0]=o[c+2+32]=o[c+1+64]=o[c+0+96]=ae(y,w,x),o[c+3+32]=o[c+2+64]=o[c+1+96]=ae(w,x,P),o[c+3+64]=o[c+2+96]=ae(x,P,D),o[c+3+96]=ae(P,D,D)}function wr(o,c){var p=o[c-1+0],m=o[c-1+32],y=o[c-1+64],w=o[c-1-32],x=o[c+0-32],P=o[c+1-32],D=o[c+2-32],E=o[c+3-32];o[c+0+0]=o[c+1+64]=w+x+1>>1,o[c+1+0]=o[c+2+64]=x+P+1>>1,o[c+2+0]=o[c+3+64]=P+D+1>>1,o[c+3+0]=D+E+1>>1,o[c+0+96]=ae(y,m,p),o[c+0+64]=ae(m,p,w),o[c+0+32]=o[c+1+96]=ae(p,w,x),o[c+1+32]=o[c+2+96]=ae(w,x,P),o[c+2+32]=o[c+3+96]=ae(x,P,D),o[c+3+32]=ae(P,D,E)}function Fd(o,c){var p=o[c+0-32],m=o[c+1-32],y=o[c+2-32],w=o[c+3-32],x=o[c+4-32],P=o[c+5-32],D=o[c+6-32],E=o[c+7-32];o[c+0+0]=p+m+1>>1,o[c+1+0]=o[c+0+64]=m+y+1>>1,o[c+2+0]=o[c+1+64]=y+w+1>>1,o[c+3+0]=o[c+2+64]=w+x+1>>1,o[c+0+32]=ae(p,m,y),o[c+1+32]=o[c+0+96]=ae(m,y,w),o[c+2+32]=o[c+1+96]=ae(y,w,x),o[c+3+32]=o[c+2+96]=ae(w,x,P),o[c+3+64]=ae(x,P,D),o[c+3+96]=ae(P,D,E)}function Rd(o,c){var p=o[c-1+0],m=o[c-1+32],y=o[c-1+64],w=o[c-1+96];o[c+0+0]=p+m+1>>1,o[c+2+0]=o[c+0+32]=m+y+1>>1,o[c+2+32]=o[c+0+64]=y+w+1>>1,o[c+1+0]=ae(p,m,y),o[c+3+0]=o[c+1+32]=ae(m,y,w),o[c+3+32]=o[c+1+64]=ae(y,w,w),o[c+3+64]=o[c+2+64]=o[c+0+96]=o[c+1+96]=o[c+2+96]=o[c+3+96]=w}function Co(o,c){var p=o[c-1+0],m=o[c-1+32],y=o[c-1+64],w=o[c-1+96],x=o[c-1-32],P=o[c+0-32],D=o[c+1-32],E=o[c+2-32];o[c+0+0]=o[c+2+32]=p+x+1>>1,o[c+0+32]=o[c+2+64]=m+p+1>>1,o[c+0+64]=o[c+2+96]=y+m+1>>1,o[c+0+96]=w+y+1>>1,o[c+3+0]=ae(P,D,E),o[c+2+0]=ae(x,P,D),o[c+1+0]=o[c+3+32]=ae(p,x,P),o[c+1+32]=o[c+3+64]=ae(m,p,x),o[c+1+64]=o[c+3+96]=ae(y,m,p),o[c+1+96]=ae(w,y,m)}function _s(o,c){var p;for(p=0;8>p;++p)i(o,c+32*p,o,c-32,8)}function Ia(o,c){var p;for(p=0;8>p;++p)r(o,c,o[c-1],8),c+=32}function So(o,c,p){var m;for(m=0;8>m;++m)r(c,p+32*m,o,8)}function Po(o,c){var p,m=8;for(p=0;8>p;++p)m+=o[c+p-32]+o[c-1+32*p];So(m>>4,o,c)}function Bd(o,c){var p,m=4;for(p=0;8>p;++p)m+=o[c+p-32];So(m>>3,o,c)}function bs(o,c){var p,m=4;for(p=0;8>p;++p)m+=o[c-1+32*p];So(m>>3,o,c)}function ys(o,c){So(128,o,c)}function Fa(o,c,p){var m=o[c-p],y=o[c+0],w=3*(y-m)+zd[1020+o[c-2*p]-o[c+p]],x=Bl[112+(w+4>>3)];o[c-p]=hi[255+m+Bl[112+(w+3>>3)]],o[c+0]=hi[255+y-x]}function Ra(o,c,p,m){var y=o[c+0],w=o[c+p];return Ni[255+o[c-2*p]-o[c-p]]>m||Ni[255+w-y]>m}function ws(o,c,p,m){return 4*Ni[255+o[c-p]-o[c+0]]+Ni[255+o[c-2*p]-o[c+p]]<=m}function Mo(o,c,p,m,y){var w=o[c-3*p],x=o[c-2*p],P=o[c-p],D=o[c+0],E=o[c+p],W=o[c+2*p],at=o[c+3*p];return 4*Ni[255+P-D]+Ni[255+x-E]>m?0:Ni[255+o[c-4*p]-w]<=y&&Ni[255+w-x]<=y&&Ni[255+x-P]<=y&&Ni[255+at-W]<=y&&Ni[255+W-E]<=y&&Ni[255+E-D]<=y}function xs(o,c,p,m){var y=2*m+1;for(m=0;16>m;++m)ws(o,c+m,p,y)&&Fa(o,c+m,p)}function Ba(o,c,p,m){var y=2*m+1;for(m=0;16>m;++m)ws(o,c+m*p,1,y)&&Fa(o,c+m*p,1)}function Nl(o,c,p,m){var y;for(y=3;0<y;--y)xs(o,c+=4*p,p,m)}function kl(o,c,p,m){var y;for(y=3;0<y;--y)Ba(o,c+=4,p,m)}function xr(o,c,p,m,y,w,x,P){for(w=2*w+1;0<y--;){if(Mo(o,c,p,w,x))if(Ra(o,c,p,P))Fa(o,c,p);else{var D=o,E=c,W=p,at=D[E-2*W],O=D[E-W],Y=D[E+0],tt=D[E+W],gt=D[E+2*W],rt=27*(yt=zd[1020+3*(Y-O)+zd[1020+at-tt]])+63>>7,mt=18*yt+63>>7,yt=9*yt+63>>7;D[E-3*W]=hi[255+D[E-3*W]+yt],D[E-2*W]=hi[255+at+mt],D[E-W]=hi[255+O+rt],D[E+0]=hi[255+Y-rt],D[E+W]=hi[255+tt-mt],D[E+2*W]=hi[255+gt-yt]}c+=m}}function Cr(o,c,p,m,y,w,x,P){for(w=2*w+1;0<y--;){if(Mo(o,c,p,w,x))if(Ra(o,c,p,P))Fa(o,c,p);else{var D=o,E=c,W=p,at=D[E-W],O=D[E+0],Y=D[E+W],tt=Bl[112+(4+(gt=3*(O-at))>>3)],gt=Bl[112+(gt+3>>3)],rt=tt+1>>1;D[E-2*W]=hi[255+D[E-2*W]+rt],D[E-W]=hi[255+at+gt],D[E+0]=hi[255+O-tt],D[E+W]=hi[255+Y-rt]}c+=m}}function Ll(o,c,p,m,y,w){xr(o,c,p,1,16,m,y,w)}function El(o,c,p,m,y,w){xr(o,c,1,p,16,m,y,w)}function za(o,c,p,m,y,w){var x;for(x=3;0<x;--x)Cr(o,c+=4*p,p,1,16,m,y,w)}function Ol(o,c,p,m,y,w){var x;for(x=3;0<x;--x)Cr(o,c+=4,1,p,16,m,y,w)}function h(o,c,p,m,y,w,x,P){xr(o,c,y,1,8,w,x,P),xr(p,m,y,1,8,w,x,P)}function b(o,c,p,m,y,w,x,P){xr(o,c,1,y,8,w,x,P),xr(p,m,1,y,8,w,x,P)}function T(o,c,p,m,y,w,x,P){Cr(o,c+4*y,y,1,8,w,x,P),Cr(p,m+4*y,y,1,8,w,x,P)}function U(o,c,p,m,y,w,x,P){Cr(o,c+4,1,y,8,w,x,P),Cr(p,m+4,1,y,8,w,x,P)}function Q(){this.ba=new We,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Be,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function _t(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Mt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Rt(){this.ua=0,this.Wa=new fe,this.vb=new fe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new it,this.yc=new q}function qt(){this.xb=this.a=0,this.l=new xo,this.ca=new We,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new I,this.Pb=0,this.wd=new I,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Rt,this.ab=0,this.gc=l(4,Mt),this.Oc=0}function ie(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new xo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function oe(o,c,p,m,y,w,x){for(o=o==null?0:o[c+0],c=0;c<x;++c)y[w+c]=o+p[m+c]&255,o=y[w+c]}function Ie(o,c,p,m,y,w,x){var P;if(o==null)oe(null,null,p,m,y,w,x);else for(P=0;P<x;++P)y[w+P]=o[c+P]+p[m+P]&255}function nn(o,c,p,m,y,w,x){if(o==null)oe(null,null,p,m,y,w,x);else{var P,D=o[c+0],E=D,W=D;for(P=0;P<x;++P)E=W+(D=o[c+P])-E,W=p[m+P]+(-256&E?0>E?0:255:E)&255,E=D,y[w+P]=W}}function bn(o,c,p,m){var y=c.width,w=c.o;if(n(o!=null&&c!=null),0>p||0>=m||p+m>w)return null;if(!o.Cc){if(o.ga==null){var x;if(o.ga=new ie,(x=o.ga==null)||(x=c.width*c.o,n(o.Gb.length==0),o.Gb=a(x),o.Uc=0,o.Gb==null?x=0:(o.mb=o.Gb,o.nb=o.Uc,o.rc=null,x=1),x=!x),!x){x=o.ga;var P=o.Fa,D=o.P,E=o.qc,W=o.mb,at=o.nb,O=D+1,Y=E-1,tt=x.l;if(n(P!=null&&W!=null&&c!=null),na[0]=null,na[1]=oe,na[2]=Ie,na[3]=nn,x.ca=W,x.tb=at,x.c=c.width,x.i=c.height,n(0<x.c&&0<x.i),1>=E)c=0;else if(x.$a=3&P[D+0],x.Z=P[D+0]>>2&3,x.Lc=P[D+0]>>4&3,D=P[D+0]>>6&3,0>x.$a||1<x.$a||4<=x.Z||1<x.Lc||D)c=0;else if(tt.put=Kt,tt.ac=Ji,tt.bc=vr,tt.ma=x,tt.width=c.width,tt.height=c.height,tt.Da=c.Da,tt.v=c.v,tt.va=c.va,tt.j=c.j,tt.o=c.o,x.$a)t:{n(x.$a==1),c=Na();e:for(;;){if(c==null){c=0;break t}if(n(x!=null),x.mc=c,c.c=x.c,c.i=x.i,c.l=x.l,c.l.ma=x,c.l.width=x.c,c.l.height=x.i,c.a=0,ct(c.m,P,O,Y),!tr(x.c,x.i,1,c,null)||(c.ab==1&&c.gc[0].hc==3&&qi(c.s)?(x.ic=1,P=c.c*c.i,c.Ta=null,c.Ua=0,c.V=a(P),c.Ba=0,c.V==null?(c.a=1,c=0):c=1):(x.ic=0,c=ka(c,x.c)),!c))break e;c=1;break t}x.mc=null,c=0}else c=Y>=x.c*x.i;x=!c}if(x)return null;o.ga.Lc!=1?o.Ga=0:m=w-p}n(o.ga!=null),n(p+m<=w);t:{if(c=(P=o.ga).c,w=P.l.o,P.$a==0){if(O=o.rc,Y=o.Vc,tt=o.Fa,D=o.P+1+p*c,E=o.mb,W=o.nb+p*c,n(D<=o.P+o.qc),P.Z!=0)for(n(na[P.Z]!=null),x=0;x<m;++x)na[P.Z](O,Y,tt,D,E,W,c),O=E,Y=W,W+=c,D+=c;else for(x=0;x<m;++x)i(E,W,tt,D,c),O=E,Y=W,W+=c,D+=c;o.rc=O,o.Vc=Y}else{if(n(P.mc!=null),c=p+m,n((x=P.mc)!=null),n(c<=x.i),x.C>=c)c=1;else if(P.ic||Mi(),P.ic){P=x.V,O=x.Ba,Y=x.c;var gt=x.i,rt=(tt=1,D=x.$/Y,E=x.$%Y,W=x.m,at=x.s,x.$),mt=Y*gt,yt=Y*c,Dt=at.wc,Pt=rt<yt?Ln(at,E,D):null;n(rt<=mt),n(c<=gt),n(qi(at));e:for(;;){for(;!W.h&&rt<yt;){if(E&Dt||(Pt=Ln(at,E,D)),n(Pt!=null),ot(W),256>(gt=rn(Pt.G[0],Pt.H[0],W)))P[O+rt]=gt,++rt,++E>=Y&&(E=0,++D<=c&&!(D%16)&&Ui(x,D));else{if(!(280>gt)){tt=0;break e}gt=xi(gt-256,W);var Ht,It=rn(Pt.G[4],Pt.H[4],W);if(ot(W),!(rt>=(It=Ci(Y,It=xi(It,W)))&&mt-rt>=gt)){tt=0;break e}for(Ht=0;Ht<gt;++Ht)P[O+rt+Ht]=P[O+rt+Ht-It];for(rt+=gt,E+=gt;E>=Y;)E-=Y,++D<=c&&!(D%16)&&Ui(x,D);rt<yt&&E&Dt&&(Pt=Ln(at,E,D))}n(W.h==$(W))}Ui(x,D>c?c:D);break e}!tt||W.h&&rt<mt?(tt=0,x.a=W.h?5:3):x.$=rt,c=tt}else c=Hi(x,x.V,x.Ba,x.c,x.i,c,bo);if(!c){m=0;break t}}p+m>=w&&(o.Cc=1),m=1}if(!m)return null;if(o.Cc&&((m=o.ga)!=null&&(m.mc=null),o.ga=null,0<o.Ga))return alert("todo:WebPDequantizeLevels"),null}return o.nb+p*y}function Xe(o,c,p,m,y,w){for(;0<y--;){var x,P=o,D=c+(p?1:0),E=o,W=c+(p?0:3);for(x=0;x<m;++x){var at=E[W+4*x];at!=255&&(at*=32897,P[D+4*x+0]=P[D+4*x+0]*at>>23,P[D+4*x+1]=P[D+4*x+1]*at>>23,P[D+4*x+2]=P[D+4*x+2]*at>>23)}c+=w}}function xn(o,c,p,m,y){for(;0<m--;){var w;for(w=0;w<p;++w){var x=o[c+2*w+0],P=15&(E=o[c+2*w+1]),D=4369*P,E=(240&E|E>>4)*D>>16;o[c+2*w+0]=(240&x|x>>4)*D>>16&240|(15&x|x<<4)*D>>16>>4&15,o[c+2*w+1]=240&E|P}c+=y}}function yn(o,c,p,m,y,w,x,P){var D,E,W=255;for(E=0;E<y;++E){for(D=0;D<m;++D){var at=o[c+D];w[x+4*D]=at,W&=at}c+=p,x+=P}return W!=255}function En(o,c,p,m,y){var w;for(w=0;w<y;++w)p[m+w]=o[c+w]>>8}function Mi(){Os=Xe,Bh=xn,zh=yn,jh=En}function ii(o,c,p){z[o]=function(m,y,w,x,P,D,E,W,at,O,Y,tt,gt,rt,mt,yt,Dt){var Pt,Ht=Dt-1>>1,It=P[D+0]|E[W+0]<<16,_e=at[O+0]|Y[tt+0]<<16;n(m!=null);var Bt=3*It+_e+131074>>2;for(c(m[y+0],255&Bt,Bt>>16,gt,rt),w!=null&&(Bt=3*_e+It+131074>>2,c(w[x+0],255&Bt,Bt>>16,mt,yt)),Pt=1;Pt<=Ht;++Pt){var Me=P[D+Pt]|E[W+Pt]<<16,Sn=at[O+Pt]|Y[tt+Pt]<<16,be=It+Me+_e+Sn+524296,zt=be+2*(Me+_e)>>3;Bt=zt+It>>1,It=(be=be+2*(It+Sn)>>3)+Me>>1,c(m[y+2*Pt-1],255&Bt,Bt>>16,gt,rt+(2*Pt-1)*p),c(m[y+2*Pt-0],255&It,It>>16,gt,rt+(2*Pt-0)*p),w!=null&&(Bt=be+_e>>1,It=zt+Sn>>1,c(w[x+2*Pt-1],255&Bt,Bt>>16,mt,yt+(2*Pt-1)*p),c(w[x+2*Pt+0],255&It,It>>16,mt,yt+(2*Pt+0)*p)),It=Me,_e=Sn}1&Dt||(Bt=3*It+_e+131074>>2,c(m[y+Dt-1],255&Bt,Bt>>16,gt,rt+(Dt-1)*p),w!=null&&(Bt=3*_e+It+131074>>2,c(w[x+Dt-1],255&Bt,Bt>>16,mt,yt+(Dt-1)*p)))}}function Tl(){ki[zl]=Sg,ki[jl]=Kh,ki[$h]=Pg,ki[ql]=Jh,ki[Ul]=Qh,ki[jd]=tf,ki[Yh]=Mg,ki[qd]=Kh,ki[Ud]=Jh,ki[Hl]=Qh,ki[Hd]=tf}function Ao(o){return o&~Ag?0>o?0:255:o>>ef}function ja(o,c){return Ao((19077*o>>8)+(26149*c>>8)-14234)}function Yr(o,c,p){return Ao((19077*o>>8)-(6419*c>>8)-(13320*p>>8)+8708)}function qa(o,c){return Ao((19077*o>>8)+(33050*c>>8)-17685)}function Ua(o,c,p,m,y){m[y+0]=ja(o,p),m[y+1]=Yr(o,c,p),m[y+2]=qa(o,c)}function Ha(o,c,p,m,y){m[y+0]=qa(o,c),m[y+1]=Yr(o,c,p),m[y+2]=ja(o,p)}function qn(o,c,p,m,y){var w=Yr(o,c,p);c=w<<3&224|qa(o,c)>>3,m[y+0]=248&ja(o,p)|w>>5,m[y+1]=c}function Va(o,c,p,m,y){var w=240&qa(o,c)|15;m[y+0]=240&ja(o,p)|Yr(o,c,p)>>4,m[y+1]=w}function Wa(o,c,p,m,y){m[y+0]=255,Ua(o,c,p,m,y+1)}function Cs(o,c,p,m,y){Ha(o,c,p,m,y),m[y+3]=255}function Ss(o,c,p,m,y){Ua(o,c,p,m,y),m[y+3]=255}function an(o,c){return 0>o?0:o>c?c:o}function Sr(o,c,p){z[o]=function(m,y,w,x,P,D,E,W,at){for(var O=W+(-2&at)*p;W!=O;)c(m[y+0],w[x+0],P[D+0],E,W),c(m[y+1],w[x+0],P[D+0],E,W+p),y+=2,++x,++D,W+=2*p;1&at&&c(m[y+0],w[x+0],P[D+0],E,W)}}function Do(o,c,p){return p==0?o==0?c==0?6:5:c==0?4:0:p}function Il(o,c,p,m,y){switch(o>>>30){case 3:Za(c,p,m,y,0);break;case 2:Di(c,p,m,y);break;case 1:ze(c,p,m,y)}}function Ai(o,c){var p,m,y=c.M,w=c.Nb,x=o.oc,P=o.pc+40,D=o.oc,E=o.pc+584,W=o.oc,at=o.pc+600;for(p=0;16>p;++p)x[P+32*p-1]=129;for(p=0;8>p;++p)D[E+32*p-1]=129,W[at+32*p-1]=129;for(0<y?x[P-1-32]=D[E-1-32]=W[at-1-32]=129:(r(x,P-32-1,127,21),r(D,E-32-1,127,9),r(W,at-32-1,127,9)),m=0;m<o.za;++m){var O=c.ya[c.aa+m];if(0<m){for(p=-1;16>p;++p)i(x,P+32*p-4,x,P+32*p+12,4);for(p=-1;8>p;++p)i(D,E+32*p-4,D,E+32*p+4,4),i(W,at+32*p-4,W,at+32*p+4,4)}var Y=o.Gd,tt=o.Hd+m,gt=O.ad,rt=O.Hc;if(0<y&&(i(x,P-32,Y[tt].y,0,16),i(D,E-32,Y[tt].f,0,8),i(W,at-32,Y[tt].ea,0,8)),O.Za){var mt=x,yt=P-32+16;for(0<y&&(m>=o.za-1?r(mt,yt,Y[tt].y[15],4):i(mt,yt,Y[tt+1].y,0,4)),p=0;4>p;p++)mt[yt+128+p]=mt[yt+256+p]=mt[yt+384+p]=mt[yt+0+p];for(p=0;16>p;++p,rt<<=2)mt=x,yt=P+rf[p],Wi[O.Ob[p]](mt,yt),Il(rt,gt,16*+p,mt,yt)}else if(mt=Do(m,y,O.Ob[0]),ea[mt](x,P),rt!=0)for(p=0;16>p;++p,rt<<=2)Il(rt,gt,16*+p,x,P+rf[p]);for(p=O.Gc,mt=Do(m,y,O.Dd),Ar[mt](D,E),Ar[mt](W,at),rt=gt,mt=D,yt=E,255&(O=0|p)&&(170&O?rr(rt,256,mt,yt):$e(rt,256,mt,yt)),O=W,rt=at,255&(p>>=8)&&(170&p?rr(gt,320,O,rt):$e(gt,320,O,rt)),y<o.Ub-1&&(i(Y[tt].y,0,x,P+480,16),i(Y[tt].f,0,D,E+224,8),i(Y[tt].ea,0,W,at+224,8)),p=8*w*o.B,Y=o.sa,tt=o.ta+16*m+16*w*o.R,gt=o.qa,O=o.ra+8*m+p,rt=o.Ha,mt=o.Ia+8*m+p,p=0;16>p;++p)i(Y,tt+p*o.R,x,P+32*p,16);for(p=0;8>p;++p)i(gt,O+p*o.B,D,E+32*p,8),i(rt,mt+p*o.B,W,at+32*p,8)}}function $a(o,c,p,m,y,w,x,P,D){var E=[0],W=[0],at=0,O=D!=null?D.kd:0,Y=D??new _t;if(o==null||12>p)return 7;Y.data=o,Y.w=c,Y.ha=p,c=[c],p=[p],Y.gb=[Y.gb];t:{var tt=c,gt=p,rt=Y.gb;if(n(o!=null),n(gt!=null),n(rt!=null),rt[0]=0,12<=gt[0]&&!t(o,tt[0],"RIFF")){if(t(o,tt[0]+8,"WEBP")){rt=3;break t}var mt=pt(o,tt[0]+4);if(12>mt||4294967286<mt){rt=3;break t}if(O&&mt>gt[0]-8){rt=7;break t}rt[0]=mt,tt[0]+=12,gt[0]-=12}rt=0}if(rt!=0)return rt;for(mt=0<Y.gb[0],p=p[0];;){t:{var yt=o;gt=c,rt=p;var Dt=E,Pt=W,Ht=tt=[0];if((Bt=at=[at])[0]=0,8>rt[0])rt=7;else{if(!t(yt,gt[0],"VP8X")){if(pt(yt,gt[0]+4)!=10){rt=3;break t}if(18>rt[0]){rt=7;break t}var It=pt(yt,gt[0]+8),_e=1+Tt(yt,gt[0]+12);if(2147483648<=_e*(yt=1+Tt(yt,gt[0]+15))){rt=3;break t}Ht!=null&&(Ht[0]=It),Dt!=null&&(Dt[0]=_e),Pt!=null&&(Pt[0]=yt),gt[0]+=18,rt[0]-=18,Bt[0]=1}rt=0}}if(at=at[0],tt=tt[0],rt!=0)return rt;if(gt=!!(2&tt),!mt&&at)return 3;if(w!=null&&(w[0]=!!(16&tt)),x!=null&&(x[0]=gt),P!=null&&(P[0]=0),x=E[0],tt=W[0],at&&gt&&D==null){rt=0;break}if(4>p){rt=7;break}if(mt&&at||!mt&&!at&&!t(o,c[0],"ALPH")){p=[p],Y.na=[Y.na],Y.P=[Y.P],Y.Sa=[Y.Sa];t:{It=o,rt=c,mt=p;var Bt=Y.gb;Dt=Y.na,Pt=Y.P,Ht=Y.Sa,_e=22,n(It!=null),n(mt!=null),yt=rt[0];var Me=mt[0];for(n(Dt!=null),n(Ht!=null),Dt[0]=null,Pt[0]=null,Ht[0]=0;;){if(rt[0]=yt,mt[0]=Me,8>Me){rt=7;break t}var Sn=pt(It,yt+4);if(4294967286<Sn){rt=3;break t}var be=8+Sn+1&-2;if(_e+=be,0<Bt&&_e>Bt){rt=3;break t}if(!t(It,yt,"VP8 ")||!t(It,yt,"VP8L")){rt=0;break t}if(Me[0]<be){rt=7;break t}t(It,yt,"ALPH")||(Dt[0]=It,Pt[0]=yt+8,Ht[0]=Sn),yt+=be,Me-=be}}if(p=p[0],Y.na=Y.na[0],Y.P=Y.P[0],Y.Sa=Y.Sa[0],rt!=0)break}p=[p],Y.Ja=[Y.Ja],Y.xa=[Y.xa];t:if(Bt=o,rt=c,mt=p,Dt=Y.gb[0],Pt=Y.Ja,Ht=Y.xa,It=rt[0],yt=!t(Bt,It,"VP8 "),_e=!t(Bt,It,"VP8L"),n(Bt!=null),n(mt!=null),n(Pt!=null),n(Ht!=null),8>mt[0])rt=7;else{if(yt||_e){if(Bt=pt(Bt,It+4),12<=Dt&&Bt>Dt-12){rt=3;break t}if(O&&Bt>mt[0]-8){rt=7;break t}Pt[0]=Bt,rt[0]+=8,mt[0]-=8,Ht[0]=_e}else Ht[0]=5<=mt[0]&&Bt[It+0]==47&&!(Bt[It+4]>>5),Pt[0]=mt[0];rt=0}if(p=p[0],Y.Ja=Y.Ja[0],Y.xa=Y.xa[0],c=c[0],rt!=0)break;if(4294967286<Y.Ja)return 3;if(P==null||gt||(P[0]=Y.xa?2:1),x=[x],tt=[tt],Y.xa){if(5>p){rt=7;break}P=x,O=tt,gt=w,o==null||5>p?o=0:5<=p&&o[c+0]==47&&!(o[c+4]>>5)?(mt=[0],Bt=[0],Dt=[0],ct(Pt=new I,o,c,p),_r(Pt,mt,Bt,Dt)?(P!=null&&(P[0]=mt[0]),O!=null&&(O[0]=Bt[0]),gt!=null&&(gt[0]=Dt[0]),o=1):o=0):o=0}else{if(10>p){rt=7;break}P=tt,o==null||10>p||!Pl(o,c+3,p-3)?o=0:(O=o[c+0]|o[c+1]<<8|o[c+2]<<16,gt=16383&(o[c+7]<<8|o[c+6]),o=16383&(o[c+9]<<8|o[c+8]),1&O||3<(O>>1&7)||!(O>>4&1)||O>>5>=Y.Ja||!gt||!o?o=0:(x&&(x[0]=gt),P&&(P[0]=o),o=1))}if(!o||(x=x[0],tt=tt[0],at&&(E[0]!=x||W[0]!=tt)))return 3;D!=null&&(D[0]=Y,D.offset=c-D.w,n(4294967286>c-D.w),n(D.offset==D.ha-p));break}return rt==0||rt==7&&at&&D==null?(w!=null&&(w[0]|=Y.na!=null&&0<Y.na.length),m!=null&&(m[0]=x),y!=null&&(y[0]=tt),0):rt}function Ps(o,c,p){var m=c.width,y=c.height,w=0,x=0,P=m,D=y;if(c.Da=o!=null&&0<o.Da,c.Da&&(P=o.cd,D=o.bd,w=o.v,x=o.j,11>p||(w&=-2,x&=-2),0>w||0>x||0>=P||0>=D||w+P>m||x+D>y))return 0;if(c.v=w,c.j=x,c.va=w+P,c.o=x+D,c.U=P,c.T=D,c.da=o!=null&&0<o.da,c.da){if(!Zt(P,D,p=[o.ib],w=[o.hb]))return 0;c.ib=p[0],c.hb=w[0]}return c.ob=o!=null&&o.ob,c.Kb=o==null||!o.Sd,c.da&&(c.ob=c.ib<3*m/4&&c.hb<3*y/4,c.Kb=0),1}function Ms(o){if(o==null)return 2;if(11>o.S){var c=o.f.RGBA;c.fb+=(o.height-1)*c.A,c.A=-c.A}else c=o.f.kb,o=o.height,c.O+=(o-1)*c.fa,c.fa=-c.fa,c.N+=(o-1>>1)*c.Ab,c.Ab=-c.Ab,c.W+=(o-1>>1)*c.Db,c.Db=-c.Db,c.F!=null&&(c.J+=(o-1)*c.lb,c.lb=-c.lb);return 0}function Gr(o,c,p,m){if(m==null||0>=o||0>=c)return 2;if(p!=null){if(p.Da){var y=p.cd,w=p.bd,x=-2&p.v,P=-2&p.j;if(0>x||0>P||0>=y||0>=w||x+y>o||P+w>c)return 2;o=y,c=w}if(p.da){if(!Zt(o,c,y=[p.ib],w=[p.hb]))return 2;o=y[0],c=w[0]}}m.width=o,m.height=c;t:{var D=m.width,E=m.height;if(o=m.S,0>=D||0>=E||!(o>=zl&&13>o))o=2;else{if(0>=m.Rd&&m.sd==null){x=w=y=c=0;var W=(P=D*af[o])*E;if(11>o||(w=(E+1)/2*(c=(D+1)/2),o==12&&(x=(y=D)*E)),(E=a(W+2*w+x))==null){o=1;break t}m.sd=E,11>o?((D=m.f.RGBA).eb=E,D.fb=0,D.A=P,D.size=W):((D=m.f.kb).y=E,D.O=0,D.fa=P,D.Fd=W,D.f=E,D.N=0+W,D.Ab=c,D.Cd=w,D.ea=E,D.W=0+W+w,D.Db=c,D.Ed=w,o==12&&(D.F=E,D.J=0+W+2*w),D.Tc=x,D.lb=y)}if(c=1,y=m.S,w=m.width,x=m.height,y>=zl&&13>y)if(11>y)o=m.f.RGBA,c&=(P=Math.abs(o.A))*(x-1)+w<=o.size,c&=P>=w*af[y],c&=o.eb!=null;else{o=m.f.kb,P=(w+1)/2,W=(x+1)/2,D=Math.abs(o.fa),E=Math.abs(o.Ab);var at=Math.abs(o.Db),O=Math.abs(o.lb),Y=O*(x-1)+w;c&=D*(x-1)+w<=o.Fd,c&=E*(W-1)+P<=o.Cd,c=(c&=at*(W-1)+P<=o.Ed)&D>=w&E>=P&at>=P,c&=o.y!=null,c&=o.f!=null,c&=o.ea!=null,y==12&&(c&=O>=w,c&=Y<=o.Tc,c&=o.F!=null)}else c=0;o=c?0:2}}return o!=0||p!=null&&p.fd&&(o=Ms(m)),o}var Ya=64,di=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ui=24,Zr=32,Pr=8,Xr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Et("Predictor0","PredictorAdd0"),z.Predictor0=function(){return 4278190080},z.Predictor1=function(o){return o},z.Predictor2=function(o,c,p){return c[p+0]},z.Predictor3=function(o,c,p){return c[p+1]},z.Predictor4=function(o,c,p){return c[p-1]},z.Predictor5=function(o,c,p){return Gt(Gt(o,c[p+1]),c[p+0])},z.Predictor6=function(o,c,p){return Gt(o,c[p-1])},z.Predictor7=function(o,c,p){return Gt(o,c[p+0])},z.Predictor8=function(o,c,p){return Gt(c[p-1],c[p+0])},z.Predictor9=function(o,c,p){return Gt(c[p+0],c[p+1])},z.Predictor10=function(o,c,p){return Gt(Gt(o,c[p-1]),Gt(c[p+0],c[p+1]))},z.Predictor11=function(o,c,p){var m=c[p+0];return 0>=ce(m>>24&255,o>>24&255,(c=c[p-1])>>24&255)+ce(m>>16&255,o>>16&255,c>>16&255)+ce(m>>8&255,o>>8&255,c>>8&255)+ce(255&m,255&o,255&c)?m:o},z.Predictor12=function(o,c,p){var m=c[p+0];return(Oe((o>>24&255)+(m>>24&255)-((c=c[p-1])>>24&255))<<24|Oe((o>>16&255)+(m>>16&255)-(c>>16&255))<<16|Oe((o>>8&255)+(m>>8&255)-(c>>8&255))<<8|Oe((255&o)+(255&m)-(255&c)))>>>0},z.Predictor13=function(o,c,p){var m=c[p-1];return(le((o=Gt(o,c[p+0]))>>24&255,m>>24&255)<<24|le(o>>16&255,m>>16&255)<<16|le(o>>8&255,m>>8&255)<<8|le(255&o,255&m))>>>0};var As=z.PredictorAdd0;z.PredictorAdd1=Ue,Et("Predictor2","PredictorAdd2"),Et("Predictor3","PredictorAdd3"),Et("Predictor4","PredictorAdd4"),Et("Predictor5","PredictorAdd5"),Et("Predictor6","PredictorAdd6"),Et("Predictor7","PredictorAdd7"),Et("Predictor8","PredictorAdd8"),Et("Predictor9","PredictorAdd9"),Et("Predictor10","PredictorAdd10"),Et("Predictor11","PredictorAdd11"),Et("Predictor12","PredictorAdd12"),Et("Predictor13","PredictorAdd13");var No=z.PredictorAdd2;$t("ColorIndexInverseTransform","MapARGB","32b",function(o){return o>>8&255},function(o){return o}),$t("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(o){return o},function(o){return o>>8&255});var un,Fl=z.ColorIndexInverseTransform,nr=z.MapARGB,ir=z.VP8LColorIndexInverseTransformAlpha,Ds=z.MapAlpha,Ns=z.VP8LPredictorsAdd=[];Ns.length=16,(z.VP8LPredictors=[]).length=16,(z.VP8LPredictorsAdd_C=[]).length=16,(z.VP8LPredictors_C=[]).length=16;var ks,Ls,Kr,Jr,Qr,Ga,ta,Za,Di,rr,ze,$e,hn,Cn,Mr,Es,ko,Rl,Eh,Oh,Th,Ih,Fh,Rh,Os,Bh,zh,jh,qh=a(511),Uh=a(2041),Hh=a(225),Vh=a(767),Wh=0,zd=Uh,Bl=Hh,hi=Vh,Ni=qh,zl=0,jl=1,$h=2,ql=3,Ul=4,jd=5,Yh=6,qd=7,Ud=8,Hl=9,Hd=10,dg=[2,3,7],ug=[3,3,11],Gh=[280,256,256,256,40],hg=[0,1,1,1,0],fg=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],pg=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],gg=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],mg=8,Vd=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Wd=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ts=null,vg=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],_g=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Zh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],bg=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],yg=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],wg=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],xg=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ea=[],Wi=[],Ar=[],Cg=1,Xh=2,na=[],ki=[];ii("UpsampleRgbLinePair",Ua,3),ii("UpsampleBgrLinePair",Ha,3),ii("UpsampleRgbaLinePair",Ss,4),ii("UpsampleBgraLinePair",Cs,4),ii("UpsampleArgbLinePair",Wa,4),ii("UpsampleRgba4444LinePair",Va,2),ii("UpsampleRgb565LinePair",qn,2);var Sg=z.UpsampleRgbLinePair,Pg=z.UpsampleBgrLinePair,Kh=z.UpsampleRgbaLinePair,Jh=z.UpsampleBgraLinePair,Qh=z.UpsampleArgbLinePair,tf=z.UpsampleRgba4444LinePair,Mg=z.UpsampleRgb565LinePair,Vl=16,Wl=1<<Vl-1,Is=-227,$d=482,ef=6,Ag=(256<<ef)-1,nf=0,Dg=a(256),Ng=a(256),kg=a(256),Lg=a(256),Eg=a($d-Is),Og=a($d-Is);Sr("YuvToRgbRow",Ua,3),Sr("YuvToBgrRow",Ha,3),Sr("YuvToRgbaRow",Ss,4),Sr("YuvToBgraRow",Cs,4),Sr("YuvToArgbRow",Wa,4),Sr("YuvToRgba4444Row",Va,2),Sr("YuvToRgb565Row",qn,2);var rf=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],$l=[0,2,8],Tg=[8,7,6,4,4,2,2,2,1,1,1,1],Ig=1;this.WebPDecodeRGBA=function(o,c,p,m,y){var w=jl,x=new Q,P=new We;x.ba=P,P.S=w,P.width=[P.width],P.height=[P.height];var D=P.width,E=P.height,W=new re;if(W==null||o==null)var at=2;else n(W!=null),at=$a(o,c,p,W.width,W.height,W.Pd,W.Qd,W.format,null);if(at!=0?D=0:(D!=null&&(D[0]=W.width[0]),E!=null&&(E[0]=W.height[0]),D=1),D){P.width=P.width[0],P.height=P.height[0],m!=null&&(m[0]=P.width),y!=null&&(y[0]=P.height);t:{if(m=new xo,(y=new _t).data=o,y.w=c,y.ha=p,y.kd=1,c=[0],n(y!=null),((o=$a(y.data,y.w,y.ha,null,null,null,c,null,y))==0||o==7)&&c[0]&&(o=4),(c=o)==0){if(n(x!=null),m.data=y.data,m.w=y.w+y.offset,m.ha=y.ha-y.offset,m.put=Kt,m.ac=Ji,m.bc=vr,m.ma=x,y.xa){if((o=Na())==null){x=1;break t}if((function(O,Y){var tt=[0],gt=[0],rt=[0];e:for(;;){if(O==null)return 0;if(Y==null)return O.a=2,0;if(O.l=Y,O.a=0,ct(O.m,Y.data,Y.w,Y.ha),!_r(O.m,tt,gt,rt)){O.a=3;break e}if(O.xb=Xh,Y.width=tt[0],Y.height=gt[0],!tr(tt[0],gt[0],1,O,null))break e;return 1}return n(O.a!=0),0})(o,m)){if(m=(c=Gr(m.width,m.height,x.Oa,x.ba))==0){e:{m=o;n:for(;;){if(m==null){m=0;break e}if(n(m.s.yc!=null),n(m.s.Ya!=null),n(0<m.s.Wb),n((p=m.l)!=null),n((y=p.ma)!=null),m.xb!=0){if(m.ca=y.ba,m.tb=y.tb,n(m.ca!=null),!Ps(y.Oa,p,ql)){m.a=2;break n}if(!ka(m,p.width)||p.da)break n;if((p.da||ue(m.ca.S))&&Mi(),11>m.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),m.ca.f.kb.F!=null&&Mi()),m.Pb&&0<m.s.ua&&m.s.vb.X==null&&!R(m.s.vb,m.s.Wa.Xa)){m.a=1;break n}m.xb=0}if(!Hi(m,m.V,m.Ba,m.c,m.i,p.o,Vr))break n;y.Dc=m.Ma,m=1;break e}n(m.a!=0),m=0}m=!m}m&&(c=o.a)}else c=o.a}else{if((o=new Sd)==null){x=1;break t}if(o.Fa=y.na,o.P=y.P,o.qc=y.Sa,Ml(o,m)){if((c=Gr(m.width,m.height,x.Oa,x.ba))==0){if(o.Aa=0,p=x.Oa,n((y=o)!=null),p!=null){if(0<(D=0>(D=p.Md)?0:100<D?255:255*D/100)){for(E=W=0;4>E;++E)12>(at=y.pb[E]).lc&&(at.ia=D*Tg[0>at.lc?0:at.lc]>>3),W|=at.ia;W&&(alert("todo:VP8InitRandom"),y.ia=1)}y.Ga=p.Id,100<y.Ga?y.Ga=100:0>y.Ga&&(y.Ga=0)}(function(O,Y){if(O==null)return 0;if(Y==null)return _n(O,2,"NULL VP8Io parameter in VP8Decode().");if(!O.cb&&!Ml(O,Y))return 0;if(n(O.cb),Y.ac==null||Y.ac(Y)){Y.ob&&(O.L=0);var tt=$l[O.L];if(O.L==2?(O.yb=0,O.zb=0):(O.yb=Y.v-tt>>4,O.zb=Y.j-tt>>4,0>O.yb&&(O.yb=0),0>O.zb&&(O.zb=0)),O.Va=Y.o+15+tt>>4,O.Hb=Y.va+15+tt>>4,O.Hb>O.za&&(O.Hb=O.za),O.Va>O.Ub&&(O.Va=O.Ub),0<O.L){var gt=O.ed;for(tt=0;4>tt;++tt){var rt;if(O.Qa.Cb){var mt=O.Qa.Lb[tt];O.Qa.Fb||(mt+=gt.Tb)}else mt=gt.Tb;for(rt=0;1>=rt;++rt){var yt=O.gd[tt][rt],Dt=mt;if(gt.Pc&&(Dt+=gt.vd[0],rt&&(Dt+=gt.od[0])),0<(Dt=0>Dt?0:63<Dt?63:Dt)){var Pt=Dt;0<gt.wb&&(Pt=4<gt.wb?Pt>>2:Pt>>1)>9-gt.wb&&(Pt=9-gt.wb),1>Pt&&(Pt=1),yt.dd=Pt,yt.tc=2*Dt+Pt,yt.ld=40<=Dt?2:15<=Dt?1:0}else yt.tc=0;yt.La=rt}}}tt=0}else _n(O,6,"Frame setup failed"),tt=O.a;if(tt=tt==0){if(tt){O.$c=0,0<O.Aa||(O.Ic=Ig);e:{tt=O.Ic,gt=4*(Pt=O.za);var Ht=32*Pt,It=Pt+1,_e=0<O.L?Pt*(0<O.Aa?2:1):0,Bt=(O.Aa==2?2:1)*Pt;if((yt=gt+832+(rt=3*(16*tt+$l[O.L])/2*Ht)+(mt=O.Fa!=null&&0<O.Fa.length?O.Kc.c*O.Kc.i:0))!=yt)tt=0;else{if(yt>O.Vb){if(O.Vb=0,O.Ec=a(yt),O.Fc=0,O.Ec==null){tt=_n(O,1,"no memory during frame initialization.");break e}O.Vb=yt}yt=O.Ec,Dt=O.Fc,O.Ac=yt,O.Bc=Dt,Dt+=gt,O.Gd=l(Ht,Cl),O.Hd=0,O.rb=l(It+1,hs),O.sb=1,O.wa=_e?l(_e,Pi):null,O.Y=0,O.D.Nb=0,O.D.wa=O.wa,O.D.Y=O.Y,0<O.Aa&&(O.D.Y+=Pt),n(!0),O.oc=yt,O.pc=Dt,Dt+=832,O.ya=l(Bt,fs),O.aa=0,O.D.ya=O.ya,O.D.aa=O.aa,O.Aa==2&&(O.D.aa+=Pt),O.R=16*Pt,O.B=8*Pt,Pt=(Ht=$l[O.L])*O.R,Ht=Ht/2*O.B,O.sa=yt,O.ta=Dt+Pt,O.qa=O.sa,O.ra=O.ta+16*tt*O.R+Ht,O.Ha=O.qa,O.Ia=O.ra+8*tt*O.B+Ht,O.$c=0,Dt+=rt,O.mb=mt?yt:null,O.nb=mt?Dt:null,n(Dt+mt<=O.Fc+O.Vb),La(O),r(O.Ac,O.Bc,0,gt),tt=1}}if(tt){if(Y.ka=0,Y.y=O.sa,Y.O=O.ta,Y.f=O.qa,Y.N=O.ra,Y.ea=O.Ha,Y.Vd=O.Ia,Y.fa=O.R,Y.Rc=O.B,Y.F=null,Y.J=0,!Wh){for(tt=-255;255>=tt;++tt)qh[255+tt]=0>tt?-tt:tt;for(tt=-1020;1020>=tt;++tt)Uh[1020+tt]=-128>tt?-128:127<tt?127:tt;for(tt=-112;112>=tt;++tt)Hh[112+tt]=-16>tt?-16:15<tt?15:tt;for(tt=-255;510>=tt;++tt)Vh[255+tt]=0>tt?0:255<tt?255:tt;Wh=1}ta=Dl,Za=Md,rr=Ad,ze=er,$e=Al,Di=Pd,hn=Ll,Cn=El,Mr=h,Es=b,ko=za,Rl=Ol,Eh=T,Oh=U,Th=xs,Ih=Ba,Fh=Nl,Rh=kl,Wi[0]=Td,Wi[1]=gs,Wi[2]=Ed,Wi[3]=Od,Wi[4]=Id,Wi[5]=wr,Wi[6]=yr,Wi[7]=Fd,Wi[8]=Co,Wi[9]=Rd,ea[0]=$r,ea[1]=Nd,ea[2]=kd,ea[3]=ms,ea[4]=Ld,ea[5]=Ta,ea[6]=vs,Ar[0]=Po,Ar[1]=Dd,Ar[2]=_s,Ar[3]=Ia,Ar[4]=bs,Ar[5]=Bd,Ar[6]=ys,tt=1}else tt=0}tt&&(tt=(function(Me,Sn){for(Me.M=0;Me.M<Me.Va;++Me.M){var be,zt=Me.Jc[Me.M&Me.Xb],Lt=Me.m,fn=Me;for(be=0;be<fn.za;++be){var he=Lt,Ne=fn,Qe=Ne.Ac,On=Ne.Bc+4*be,Xn=Ne.zc,on=Ne.ya[Ne.aa+be];if(Ne.Qa.Bb?on.$b=xt(he,Ne.Pa.jb[0])?2+xt(he,Ne.Pa.jb[2]):xt(he,Ne.Pa.jb[1]):on.$b=0,Ne.kc&&(on.Ad=xt(he,Ne.Bd)),on.Za=!xt(he,145)+0,on.Za){var Un=on.Ob,Kn=0;for(Ne=0;4>Ne;++Ne){var Pn,ke=Xn[0+Ne];for(Pn=0;4>Pn;++Pn){ke=yg[Qe[On+Pn]][ke];for(var je=Zh[xt(he,ke[0])];0<je;)je=Zh[2*je+xt(he,ke[je])];ke=-je,Qe[On+Pn]=ke}i(Un,Kn,Qe,On,4),Kn+=4,Xn[0+Ne]=ke}}else ke=xt(he,156)?xt(he,128)?1:3:xt(he,163)?2:0,on.Ob[0]=ke,r(Qe,On,ke,4),r(Xn,0,ke,4);on.Dd=xt(he,142)?xt(he,114)?xt(he,183)?1:3:2:0}if(fn.m.Ka)return _n(Me,7,"Premature end-of-partition0 encountered.");for(;Me.ja<Me.za;++Me.ja){if(fn=zt,he=(Lt=Me).rb[Lt.sb-1],Qe=Lt.rb[Lt.sb+Lt.ja],be=Lt.ya[Lt.aa+Lt.ja],On=Lt.kc?be.Ad:0)he.la=Qe.la=0,be.Za||(he.Na=Qe.Na=0),be.Hc=0,be.Gc=0,be.ia=0;else{var sn,qe;if(he=Qe,Qe=fn,On=Lt.Pa.Xc,Xn=Lt.ya[Lt.aa+Lt.ja],on=Lt.pb[Xn.$b],Ne=Xn.ad,Un=0,Kn=Lt.rb[Lt.sb-1],ke=Pn=0,r(Ne,Un,0,384),Xn.Za)var Tn=0,$i=On[3];else{je=a(16);var pn=he.Na+Kn.Na;if(pn=Ts(Qe,On[1],pn,on.Eb,0,je,0),he.Na=Kn.Na=(0<pn)+0,1<pn)ta(je,0,Ne,Un);else{var ri=je[0]+3>>3;for(je=0;256>je;je+=16)Ne[Un+je]=ri}Tn=1,$i=On[0]}var Ye=15&he.la,Mn=15&Kn.la;for(je=0;4>je;++je){var fi=1&Mn;for(ri=qe=0;4>ri;++ri)Ye=Ye>>1|(fi=(pn=Ts(Qe,$i,pn=fi+(1&Ye),on.Sc,Tn,Ne,Un))>Tn)<<7,qe=qe<<2|(3<pn?3:1<pn?2:Ne[Un+0]!=0),Un+=16;Ye>>=4,Mn=Mn>>1|fi<<7,Pn=(Pn<<8|qe)>>>0}for($i=Ye,Tn=Mn>>4,sn=0;4>sn;sn+=2){for(qe=0,Ye=he.la>>4+sn,Mn=Kn.la>>4+sn,je=0;2>je;++je){for(fi=1&Mn,ri=0;2>ri;++ri)pn=fi+(1&Ye),Ye=Ye>>1|(fi=0<(pn=Ts(Qe,On[2],pn,on.Qc,0,Ne,Un)))<<3,qe=qe<<2|(3<pn?3:1<pn?2:Ne[Un+0]!=0),Un+=16;Ye>>=2,Mn=Mn>>1|fi<<5}ke|=qe<<4*sn,$i|=Ye<<4<<sn,Tn|=(240&Mn)<<sn}he.la=$i,Kn.la=Tn,Xn.Hc=Pn,Xn.Gc=ke,Xn.ia=43690&ke?0:on.ia,On=!(Pn|ke)}if(0<Lt.L&&(Lt.wa[Lt.Y+Lt.ja]=Lt.gd[be.$b][be.Za],Lt.wa[Lt.Y+Lt.ja].La|=!On),fn.Ka)return _n(Me,7,"Premature end-of-file encountered.")}if(La(Me),Lt=Sn,fn=1,be=(zt=Me).D,he=0<zt.L&&zt.M>=zt.zb&&zt.M<=zt.Va,zt.Aa==0)e:{if(be.M=zt.M,be.uc=he,Ai(zt,be),fn=1,be=(qe=zt.D).Nb,he=(ke=$l[zt.L])*zt.R,Qe=ke/2*zt.B,je=16*be*zt.R,ri=8*be*zt.B,On=zt.sa,Xn=zt.ta-he+je,on=zt.qa,Ne=zt.ra-Qe+ri,Un=zt.Ha,Kn=zt.Ia-Qe+ri,Mn=(Ye=qe.M)==0,Pn=Ye>=zt.Va-1,zt.Aa==2&&Ai(zt,qe),qe.uc)for(fi=(pn=zt).D.M,n(pn.D.uc),qe=pn.yb;qe<pn.Hb;++qe){Tn=qe,$i=fi;var Jn=(pi=(In=pn).D).Nb;sn=In.R;var pi=pi.wa[pi.Y+Tn],gi=In.sa,ai=In.ta+16*Jn*sn+16*Tn,mi=pi.dd,Ke=pi.tc;if(Ke!=0)if(n(3<=Ke),In.L==1)0<Tn&&Ih(gi,ai,sn,Ke+4),pi.La&&Rh(gi,ai,sn,Ke),0<$i&&Th(gi,ai,sn,Ke+4),pi.La&&Fh(gi,ai,sn,Ke);else{var vi=In.B,Yi=In.qa,Xa=In.ra+8*Jn*vi+8*Tn,Dr=In.Ha,In=In.Ia+8*Jn*vi+8*Tn;Jn=pi.ld,0<Tn&&(Cn(gi,ai,sn,Ke+4,mi,Jn),Es(Yi,Xa,Dr,In,vi,Ke+4,mi,Jn)),pi.La&&(Rl(gi,ai,sn,Ke,mi,Jn),Oh(Yi,Xa,Dr,In,vi,Ke,mi,Jn)),0<$i&&(hn(gi,ai,sn,Ke+4,mi,Jn),Mr(Yi,Xa,Dr,In,vi,Ke+4,mi,Jn)),pi.La&&(ko(gi,ai,sn,Ke,mi,Jn),Eh(Yi,Xa,Dr,In,vi,Ke,mi,Jn))}}if(zt.ia&&alert("todo:DitherRow"),Lt.put!=null){if(qe=16*Ye,Ye=16*(Ye+1),Mn?(Lt.y=zt.sa,Lt.O=zt.ta+je,Lt.f=zt.qa,Lt.N=zt.ra+ri,Lt.ea=zt.Ha,Lt.W=zt.Ia+ri):(qe-=ke,Lt.y=On,Lt.O=Xn,Lt.f=on,Lt.N=Ne,Lt.ea=Un,Lt.W=Kn),Pn||(Ye-=ke),Ye>Lt.o&&(Ye=Lt.o),Lt.F=null,Lt.J=null,zt.Fa!=null&&0<zt.Fa.length&&qe<Ye&&(Lt.J=bn(zt,Lt,qe,Ye-qe),Lt.F=zt.mb,Lt.F==null&&Lt.F.length==0)){fn=_n(zt,3,"Could not decode alpha data.");break e}qe<Lt.j&&(ke=Lt.j-qe,qe=Lt.j,n(!(1&ke)),Lt.O+=zt.R*ke,Lt.N+=zt.B*(ke>>1),Lt.W+=zt.B*(ke>>1),Lt.F!=null&&(Lt.J+=Lt.width*ke)),qe<Ye&&(Lt.O+=Lt.v,Lt.N+=Lt.v>>1,Lt.W+=Lt.v>>1,Lt.F!=null&&(Lt.J+=Lt.v),Lt.ka=qe-Lt.j,Lt.U=Lt.va-Lt.v,Lt.T=Ye-qe,fn=Lt.put(Lt))}be+1!=zt.Ic||Pn||(i(zt.sa,zt.ta-he,On,Xn+16*zt.R,he),i(zt.qa,zt.ra-Qe,on,Ne+8*zt.B,Qe),i(zt.Ha,zt.Ia-Qe,Un,Kn+8*zt.B,Qe))}if(!fn)return _n(Me,6,"Output aborted.")}return 1})(O,Y)),Y.bc!=null&&Y.bc(Y),tt&=1}return tt?(O.cb=0,tt):0})(o,m)||(c=o.a)}}else c=o.a}c==0&&x.Oa!=null&&x.Oa.fd&&(c=Ms(x.ba))}x=c}w=x!=0?null:11>w?P.f.RGBA.eb:P.f.kb.y}else w=null;return w};var af=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(z,nt){for(var S="",N=0;N<4;N++)S+=String.fromCharCode(z[nt++]);return S}function f(z,nt){return z[nt+0]|z[nt+1]<<8}function v(z,nt){return(z[nt+0]|z[nt+1]<<8|z[nt+2]<<16)>>>0}function _(z,nt){return(z[nt+0]|z[nt+1]<<8|z[nt+2]<<16|z[nt+3]<<24)>>>0}new d;var g=[0],A=[0],k=[],L=new d,M=e,H=(function(z,nt){var S={},N=0,q=!1,j=0,it=0;if(S.frames=[],!(function(C,I){for(var B=0;B<4;B++)if(C[I+B]!="RIFF".charCodeAt(B))return!0;return!1})(z,nt)){for(_(z,nt+=4),nt+=8;nt<z.length;){var lt=u(z,nt),st=_(z,nt+=4);nt+=4;var K=st+(1&st);switch(lt){case"VP8 ":case"VP8L":S.frames[N]===void 0&&(S.frames[N]={}),(bt=S.frames[N]).src_off=q?it:nt-8,bt.src_size=j+st+8,N++,q&&(q=!1,j=0,it=0);break;case"VP8X":(bt=S.header={}).feature_flags=z[nt];var ct=nt+4;bt.canvas_width=1+v(z,ct),ct+=3,bt.canvas_height=1+v(z,ct),ct+=3;break;case"ALPH":q=!0,j=K+8,it=nt-8;break;case"ANIM":(bt=S.header).bgcolor=_(z,nt),ct=nt+4,bt.loop_count=f(z,ct),ct+=2;break;case"ANMF":var wt,bt;(bt=S.frames[N]={}).offset_x=2*v(z,nt),nt+=3,bt.offset_y=2*v(z,nt),nt+=3,bt.width=1+v(z,nt),nt+=3,bt.height=1+v(z,nt),nt+=3,bt.duration=v(z,nt),nt+=3,wt=z[nt++],bt.dispose=1&wt,bt.blend=wt>>1&1}lt!="ANMF"&&(nt+=K)}return S}})(M,0);H.response=M,H.rgbaoutput=!0,H.dataurl=!1;var V=H.header?H.header:null,F=H.frames?H.frames:null;if(V){V.loop_counter=V.loop_count,g=[V.canvas_height],A=[V.canvas_width];for(var ut=0;ut<F.length&&F[ut].blend!=0;ut++);}var St=F[0],vt=L.WebPDecodeRGBA(M,St.src_off,St.src_size,A,g);St.rgba=vt,St.imgwidth=A[0],St.imgheight=g[0];for(var X=0;X<A[0]*g[0]*4;X++)k[X]=vt[X];return this.width=A,this.height=g,this.data=k,this}(function(e){var n,t,i,r,a,l,s,d,u,f=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new d,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new l,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new l,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new v(this),n=this.internal.f2,t=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,l=this.internal.Point,s=this.internal.Rectangle,d=this.internal.Matrix,u=new f}]);var v=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var I=C;Object.defineProperty(this,"pdf",{get:function(){return I}});var B=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return B},set:function(pt){B=!!pt}});var $=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return $},set:function(pt){$=!!pt}});var J=0;Object.defineProperty(this,"posX",{get:function(){return J},set:function(pt){isNaN(pt)||(J=pt)}});var ot=0;Object.defineProperty(this,"posY",{get:function(){return ot},set:function(pt){isNaN(pt)||(ot=pt)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(pt){var R;typeof pt=="number"?R=[pt,pt,pt,pt]:((R=new Array(4))[0]=pt[0],R[1]=pt.length>=2?pt[1]:R[0],R[2]=pt.length>=3?pt[2]:R[0],R[3]=pt.length>=4?pt[3]:R[1]),u.margin=R}});var ft=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ft},set:function(pt){ft=pt}});var ht=0;Object.defineProperty(this,"lastBreak",{get:function(){return ht},set:function(pt){ht=pt}});var xt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xt},set:function(pt){xt=pt}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(pt){pt instanceof f&&(u=pt)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(pt){u.path=pt}});var Nt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Nt},set:function(pt){Nt=pt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(pt){var R;R=_(pt),this.ctx.fillStyle=R.style,this.ctx.isFillTransparent=R.a===0,this.ctx.fillOpacity=R.a,this.pdf.setFillColor(R.r,R.g,R.b,{a:R.a}),this.pdf.setTextColor(R.r,R.g,R.b,{a:R.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(pt){var R=_(pt);this.ctx.strokeStyle=R.style,this.ctx.isStrokeTransparent=R.a===0,this.ctx.strokeOpacity=R.a,R.a===0?this.pdf.setDrawColor(255,255,255):(R.a,this.pdf.setDrawColor(R.r,R.g,R.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(pt){["butt","round","square"].indexOf(pt)!==-1&&(this.ctx.lineCap=pt,this.pdf.setLineCap(pt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(pt){isNaN(pt)||(this.ctx.lineWidth=pt,this.pdf.setLineWidth(pt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(pt){["bevel","round","miter"].indexOf(pt)!==-1&&(this.ctx.lineJoin=pt,this.pdf.setLineJoin(pt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(pt){isNaN(pt)||(this.ctx.miterLimit=pt,this.pdf.setMiterLimit(pt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(pt){this.ctx.textBaseline=pt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(pt){["right","end","center","left","start"].indexOf(pt)!==-1&&(this.ctx.textAlign=pt)}});var Ot=null,Tt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Tt},set:function(pt){Ot=null,Tt=pt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(pt){var R;if(this.ctx.font=pt,(R=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(pt))!==null){var Se=R[1];R[2];var fe=R[3],Zt=R[4];R[5];var kt=R[6],Vt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Zt)[2];Zt=Math.floor(Vt==="px"?parseFloat(Zt)*this.pdf.internal.scaleFactor:Vt==="em"?parseFloat(Zt)*this.pdf.getFontSize():parseFloat(Zt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Zt);var Et=(function(te){var $t,Ze,Te=[],Ut=te.trim();if(Ut==="")return gh;if(Ut in c1)return[c1[Ut]];for(;Ut!=="";){switch(Ze=null,$t=(Ut=u1(Ut)).charAt(0)){case'"':case"'":Ze=A_(Ut.substring(1),$t);break;default:Ze=D_(Ut)}if(Ze===null||(Te.push(Ze[0]),(Ut=u1(Ze[1]))!==""&&Ut.charAt(0)!==","))return gh;Ut=Ut.replace(/^,/,"")}return Te})(kt);if(this.fontFaces){var pe=(function(te,$t){if(Ot===null){var Ze=(function(Te){var Ut=[];return Object.keys(Te).forEach(function(de){Te[de].forEach(function(Ve){var Xt=null;switch(Ve){case"bold":Xt={family:de,weight:"bold"};break;case"italic":Xt={family:de,style:"italic"};break;case"bolditalic":Xt={family:de,weight:"bold",style:"italic"};break;case"":case"normal":Xt={family:de}}Xt!==null&&(Xt.ref={name:de,style:Ve},Ut.push(Xt))})}),Ut})(te.getFontList());Ot=(function(Te){for(var Ut={},de=0;de<Te.length;++de){var Ve=ph(Te[de]),Xt=Ve.family,Pe=Ve.stretch,ue=Ve.style,cn=Ve.weight;Ut[Xt]=Ut[Xt]||{},Ut[Xt][Pe]=Ut[Xt][Pe]||{},Ut[Xt][Pe][ue]=Ut[Xt][Pe][ue]||{},Ut[Xt][Pe][ue][cn]=Ve}return Ut})(Ze.concat($t))}return Ot})(this.pdf,this.fontFaces),Gt=Et.map(function(te){return{family:te,stretch:"normal",weight:fe,style:Se}}),Oe=(function(te,$t,Ze){for(var Te=(Ze=Ze||{}).defaultFontFamily||"times",Ut=Object.assign({},M_,Ze.genericFontFamilies||{}),de=null,Ve=null,Xt=0;Xt<$t.length;++Xt)if(Ut[(de=ph($t[Xt])).family]&&(de.family=Ut[de.family]),te.hasOwnProperty(de.family)){Ve=te[de.family];break}if(!(Ve=Ve||te[Te]))throw new Error("Could not find a font-family for the rule '"+d1(de)+"' and default family '"+Te+"'.");if(Ve=(function(Pe,ue){if(ue[Pe])return ue[Pe];var cn=wh[Pe],wn=cn<=wh.normal?-1:1,We=l1(ue,T1,cn,wn);if(!We)throw new Error("Could not find a matching font-stretch value for "+Pe);return We})(de.stretch,Ve),Ve=(function(Pe,ue){if(ue[Pe])return ue[Pe];for(var cn=O1[Pe],wn=0;wn<cn.length;++wn)if(ue[cn[wn]])return ue[cn[wn]];throw new Error("Could not find a matching font-style for "+Pe)})(de.style,Ve),!(Ve=(function(Pe,ue){if(ue[Pe])return ue[Pe];if(Pe===400&&ue[500])return ue[500];if(Pe===500&&ue[400])return ue[400];var cn=P_[Pe],wn=l1(ue,I1,cn,Pe<400?-1:1);if(!wn)throw new Error("Could not find a matching font-weight for value "+Pe);return wn})(de.weight,Ve)))throw new Error("Failed to resolve a font for the rule '"+d1(de)+"'.");return Ve})(pe,Gt);this.pdf.setFont(Oe.ref.name,Oe.ref.style)}else{var le="";(fe==="bold"||parseInt(fe,10)>=700||Se==="bold")&&(le="bold"),Se==="italic"&&(le+="italic"),le.length===0&&(le="normal");for(var ce="",Ue={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ge=0;ge<Et.length;ge++){if(this.pdf.internal.getFont(Et[ge],le,{noFallback:!0,disableWarning:!0})!==void 0){ce=Et[ge];break}if(le==="bolditalic"&&this.pdf.internal.getFont(Et[ge],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ce=Et[ge],le="bold";else if(this.pdf.internal.getFont(Et[ge],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ce=Et[ge],le="normal";break}}if(ce===""){for(var Wt=0;Wt<Et.length;Wt++)if(Ue[Et[Wt]]){ce=Ue[Et[Wt]];break}}ce=ce===""?"Times":ce,this.pdf.setFont(ce,le)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(pt){this.ctx.globalCompositeOperation=pt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(pt){this.ctx.globalAlpha=pt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(pt){this.ctx.lineDashOffset=pt,bt.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(pt){this.ctx.lineDash=pt,bt.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(pt){this.ctx.ignoreClearRect=!!pt}})};v.prototype.setLineDash=function(C){this.lineDash=C},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){F.call(this,"fill",!1)},v.prototype.stroke=function(){F.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(C,I){if(isNaN(C)||isNaN(I))throw Ge.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var B=this.ctx.transform.applyToPoint(new l(C,I));this.path.push({type:"mt",x:B.x,y:B.y}),this.ctx.lastPoint=new l(C,I)},v.prototype.closePath=function(){var C=new l(0,0),I=0;for(I=this.path.length-1;I!==-1;I--)if(this.path[I].type==="begin"&&He(this.path[I+1])==="object"&&typeof this.path[I+1].x=="number"){C=new l(this.path[I+1].x,this.path[I+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(C.x,C.y)},v.prototype.lineTo=function(C,I){if(isNaN(C)||isNaN(I))throw Ge.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var B=this.ctx.transform.applyToPoint(new l(C,I));this.path.push({type:"lt",x:B.x,y:B.y}),this.ctx.lastPoint=new l(B.x,B.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},v.prototype.quadraticCurveTo=function(C,I,B,$){if(isNaN(B)||isNaN($)||isNaN(C)||isNaN(I))throw Ge.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var J=this.ctx.transform.applyToPoint(new l(B,$)),ot=this.ctx.transform.applyToPoint(new l(C,I));this.path.push({type:"qct",x1:ot.x,y1:ot.y,x:J.x,y:J.y}),this.ctx.lastPoint=new l(J.x,J.y)},v.prototype.bezierCurveTo=function(C,I,B,$,J,ot){if(isNaN(J)||isNaN(ot)||isNaN(C)||isNaN(I)||isNaN(B)||isNaN($))throw Ge.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ft=this.ctx.transform.applyToPoint(new l(J,ot)),ht=this.ctx.transform.applyToPoint(new l(C,I)),xt=this.ctx.transform.applyToPoint(new l(B,$));this.path.push({type:"bct",x1:ht.x,y1:ht.y,x2:xt.x,y2:xt.y,x:ft.x,y:ft.y}),this.ctx.lastPoint=new l(ft.x,ft.y)},v.prototype.arc=function(C,I,B,$,J,ot){if(isNaN(C)||isNaN(I)||isNaN(B)||isNaN($)||isNaN(J))throw Ge.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ot=!!ot,!this.ctx.transform.isIdentity){var ft=this.ctx.transform.applyToPoint(new l(C,I));C=ft.x,I=ft.y;var ht=this.ctx.transform.applyToPoint(new l(0,B)),xt=this.ctx.transform.applyToPoint(new l(0,0));B=Math.sqrt(Math.pow(ht.x-xt.x,2)+Math.pow(ht.y-xt.y,2))}Math.abs(J-$)>=2*Math.PI&&($=0,J=2*Math.PI),this.path.push({type:"arc",x:C,y:I,radius:B,startAngle:$,endAngle:J,counterclockwise:ot})},v.prototype.arcTo=function(C,I,B,$,J){throw new Error("arcTo not implemented.")},v.prototype.rect=function(C,I,B,$){if(isNaN(C)||isNaN(I)||isNaN(B)||isNaN($))throw Ge.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,I),this.lineTo(C+B,I),this.lineTo(C+B,I+$),this.lineTo(C,I+$),this.lineTo(C,I),this.lineTo(C+B,I),this.lineTo(C,I)},v.prototype.fillRect=function(C,I,B,$){if(isNaN(C)||isNaN(I)||isNaN(B)||isNaN($))throw Ge.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var J={};this.lineCap!=="butt"&&(J.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(J.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,I,B,$),this.fill(),J.hasOwnProperty("lineCap")&&(this.lineCap=J.lineCap),J.hasOwnProperty("lineJoin")&&(this.lineJoin=J.lineJoin)}},v.prototype.strokeRect=function(C,I,B,$){if(isNaN(C)||isNaN(I)||isNaN(B)||isNaN($))throw Ge.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(C,I,B,$),this.stroke())},v.prototype.clearRect=function(C,I,B,$){if(isNaN(C)||isNaN(I)||isNaN(B)||isNaN($))throw Ge.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,I,B,$))},v.prototype.save=function(C){C=typeof C!="boolean"||C;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("q");if(this.pdf.setPage(I),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var $=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=$}},v.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("Q");this.pdf.setPage(I),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(C){var I,B,$,J;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))I=0,B=0,$=0,J=0;else{var ot=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(ot!==null)I=parseInt(ot[1]),B=parseInt(ot[2]),$=parseInt(ot[3]),J=1;else if((ot=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)I=parseInt(ot[1]),B=parseInt(ot[2]),$=parseInt(ot[3]),J=parseFloat(ot[4]);else{if(J=1,typeof C=="string"&&C.charAt(0)!=="#"){var ft=new M1(C);C=ft.ok?ft.toHex():"#000000"}C.length===4?(I=C.substring(1,2),I+=I,B=C.substring(2,3),B+=B,$=C.substring(3,4),$+=$):(I=C.substring(1,3),B=C.substring(3,5),$=C.substring(5,7)),I=parseInt(I,16),B=parseInt(B,16),$=parseInt($,16)}}return{r:I,g:B,b:$,a:J,style:C}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},A=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(C,I,B,$){if(isNaN(I)||isNaN(B)||typeof C!="string")throw Ge.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if($=isNaN($)?void 0:$,!g.call(this)){var J=K(this.ctx.transform.rotation),ot=this.ctx.transform.scaleX;N.call(this,{text:C,x:I,y:B,scale:ot,angle:J,align:this.textAlign,maxWidth:$})}},v.prototype.strokeText=function(C,I,B,$){if(isNaN(I)||isNaN(B)||typeof C!="string")throw Ge.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){$=isNaN($)?void 0:$;var J=K(this.ctx.transform.rotation),ot=this.ctx.transform.scaleX;N.call(this,{text:C,x:I,y:B,scale:ot,renderingMode:"stroke",angle:J,align:this.textAlign,maxWidth:$})}},v.prototype.measureText=function(C){if(typeof C!="string")throw Ge.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var I=this.pdf,B=this.pdf.internal.scaleFactor,$=I.internal.getFontSize(),J=I.getStringUnitWidth(C)*$/I.internal.scaleFactor;return new function(ot){var ft=(ot=ot||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ft}}),this}({width:J*=Math.round(96*B/72*1e4)/1e4})},v.prototype.scale=function(C,I){if(isNaN(C)||isNaN(I))throw Ge.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var B=new d(C,0,0,I,0,0);this.ctx.transform=this.ctx.transform.multiply(B)},v.prototype.rotate=function(C){if(isNaN(C))throw Ge.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var I=new d(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(I)},v.prototype.translate=function(C,I){if(isNaN(C)||isNaN(I))throw Ge.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var B=new d(1,0,0,1,C,I);this.ctx.transform=this.ctx.transform.multiply(B)},v.prototype.transform=function(C,I,B,$,J,ot){if(isNaN(C)||isNaN(I)||isNaN(B)||isNaN($)||isNaN(J)||isNaN(ot))throw Ge.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ft=new d(C,I,B,$,J,ot);this.ctx.transform=this.ctx.transform.multiply(ft)},v.prototype.setTransform=function(C,I,B,$,J,ot){C=isNaN(C)?1:C,I=isNaN(I)?0:I,B=isNaN(B)?0:B,$=isNaN($)?1:$,J=isNaN(J)?0:J,ot=isNaN(ot)?0:ot,this.ctx.transform=new d(C,I,B,$,J,ot)};var k=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(C,I,B,$,J,ot,ft,ht,xt){var Nt=this.pdf.getImageProperties(C),Ot=1,Tt=1,pt=1,R=1;$!==void 0&&ht!==void 0&&(pt=ht/$,R=xt/J,Ot=Nt.width/$*ht/$,Tt=Nt.height/J*xt/J),ot===void 0&&(ot=I,ft=B,I=0,B=0),$!==void 0&&ht===void 0&&(ht=$,xt=J),$===void 0&&ht===void 0&&(ht=Nt.width,xt=Nt.height);for(var Se,fe=this.ctx.transform.decompose(),Zt=K(fe.rotate.shx),kt=new d,Vt=(kt=(kt=(kt=kt.multiply(fe.translate)).multiply(fe.skew)).multiply(fe.scale)).applyToRectangle(new s(ot-I*pt,ft-B*R,$*Ot,J*Tt)),Et=L.call(this,Vt),pe=[],Gt=0;Gt<Et.length;Gt+=1)pe.indexOf(Et[Gt])===-1&&pe.push(Et[Gt]);if(V(pe),this.autoPaging)for(var Oe=pe[0],le=pe[pe.length-1],ce=Oe;ce<le+1;ce++){this.pdf.setPage(ce);var Ue=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ge=ce===1?this.posY+this.margin[0]:this.margin[0],Wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],te=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$t=ce===1?0:Wt+(ce-2)*te;if(this.ctx.clip_path.length!==0){var Ze=this.path;Se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=H(Se,this.posX+this.margin[3],-$t+ge+this.ctx.prevPageLastElemOffset),ut.call(this,"fill",!0),this.path=Ze}var Te=JSON.parse(JSON.stringify(Vt));Te=H([Te],this.posX+this.margin[3],-$t+ge+this.ctx.prevPageLastElemOffset)[0];var Ut=(ce>Oe||ce<le)&&k.call(this);Ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ue,te,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",Te.x,Te.y,Te.w,Te.h,null,null,Zt),Ut&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(C,"JPEG",Vt.x,Vt.y,Vt.w,Vt.h,null,null,Zt)};var L=function(C,I,B){var $=[];I=I||this.pdf.internal.pageSize.width,B=B||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var J=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":$.push(Math.floor((C.y+J)/B)+1);break;case"arc":$.push(Math.floor((C.y+J-C.radius)/B)+1),$.push(Math.floor((C.y+J+C.radius)/B)+1);break;case"qct":var ot=ct(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);$.push(Math.floor((ot.y+J)/B)+1),$.push(Math.floor((ot.y+ot.h+J)/B)+1);break;case"bct":var ft=wt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);$.push(Math.floor((ft.y+J)/B)+1),$.push(Math.floor((ft.y+ft.h+J)/B)+1);break;case"rect":$.push(Math.floor((C.y+J)/B)+1),$.push(Math.floor((C.y+C.h+J)/B)+1)}for(var ht=0;ht<$.length;ht+=1)for(;this.pdf.internal.getNumberOfPages()<$[ht];)M.call(this);return $},M=function(){var C=this.fillStyle,I=this.strokeStyle,B=this.font,$=this.lineCap,J=this.lineWidth,ot=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=I,this.font=B,this.lineCap=$,this.lineWidth=J,this.lineJoin=ot},H=function(C,I,B){for(var $=0;$<C.length;$++)switch(C[$].type){case"bct":C[$].x2+=I,C[$].y2+=B;case"qct":C[$].x1+=I,C[$].y1+=B;default:C[$].x+=I,C[$].y+=B}return C},V=function(C){return C.sort(function(I,B){return I-B})},F=function(C,I){for(var B,$,J=this.fillStyle,ot=this.strokeStyle,ft=this.lineCap,ht=this.lineWidth,xt=Math.abs(ht*this.ctx.transform.scaleX),Nt=this.lineJoin,Ot=JSON.parse(JSON.stringify(this.path)),Tt=JSON.parse(JSON.stringify(this.path)),pt=[],R=0;R<Tt.length;R++)if(Tt[R].x!==void 0)for(var Se=L.call(this,Tt[R]),fe=0;fe<Se.length;fe+=1)pt.indexOf(Se[fe])===-1&&pt.push(Se[fe]);for(var Zt=0;Zt<pt.length;Zt++)for(;this.pdf.internal.getNumberOfPages()<pt[Zt];)M.call(this);if(V(pt),this.autoPaging)for(var kt=pt[0],Vt=pt[pt.length-1],Et=kt;Et<Vt+1;Et++){this.pdf.setPage(Et),this.fillStyle=J,this.strokeStyle=ot,this.lineCap=ft,this.lineWidth=xt,this.lineJoin=Nt;var pe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Gt=Et===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],le=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ce=Et===1?0:Oe+(Et-2)*le;if(this.ctx.clip_path.length!==0){var Ue=this.path;B=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=H(B,this.posX+this.margin[3],-ce+Gt+this.ctx.prevPageLastElemOffset),ut.call(this,C,!0),this.path=Ue}if($=JSON.parse(JSON.stringify(Ot)),this.path=H($,this.posX+this.margin[3],-ce+Gt+this.ctx.prevPageLastElemOffset),I===!1||Et===0){var ge=(Et>kt||Et<Vt)&&k.call(this);ge&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pe,le,null).clip().discardPath()),ut.call(this,C,I),ge&&this.pdf.restoreGraphicsState()}this.lineWidth=ht}else this.lineWidth=xt,ut.call(this,C,I),this.lineWidth=ht;this.path=Ot},ut=function(C,I){if((C!=="stroke"||I||!A.call(this))&&(C==="stroke"||I||!g.call(this))){for(var B,$,J=[],ot=this.path,ft=0;ft<ot.length;ft++){var ht=ot[ft];switch(ht.type){case"begin":J.push({begin:!0});break;case"close":J.push({close:!0});break;case"mt":J.push({start:ht,deltas:[],abs:[]});break;case"lt":var xt=J.length;if(ot[ft-1]&&!isNaN(ot[ft-1].x)&&(B=[ht.x-ot[ft-1].x,ht.y-ot[ft-1].y],xt>0)){for(;xt>=0;xt--)if(J[xt-1].close!==!0&&J[xt-1].begin!==!0){J[xt-1].deltas.push(B),J[xt-1].abs.push(ht);break}}break;case"bct":B=[ht.x1-ot[ft-1].x,ht.y1-ot[ft-1].y,ht.x2-ot[ft-1].x,ht.y2-ot[ft-1].y,ht.x-ot[ft-1].x,ht.y-ot[ft-1].y],J[J.length-1].deltas.push(B);break;case"qct":var Nt=ot[ft-1].x+2/3*(ht.x1-ot[ft-1].x),Ot=ot[ft-1].y+2/3*(ht.y1-ot[ft-1].y),Tt=ht.x+2/3*(ht.x1-ht.x),pt=ht.y+2/3*(ht.y1-ht.y),R=ht.x,Se=ht.y;B=[Nt-ot[ft-1].x,Ot-ot[ft-1].y,Tt-ot[ft-1].x,pt-ot[ft-1].y,R-ot[ft-1].x,Se-ot[ft-1].y],J[J.length-1].deltas.push(B);break;case"arc":J.push({deltas:[],abs:[],arc:!0}),Array.isArray(J[J.length-1].abs)&&J[J.length-1].abs.push(ht)}}$=I?null:C==="stroke"?"stroke":"fill";for(var fe=!1,Zt=0;Zt<J.length;Zt++)if(J[Zt].arc)for(var kt=J[Zt].abs,Vt=0;Vt<kt.length;Vt++){var Et=kt[Vt];Et.type==="arc"?X.call(this,Et.x,Et.y,Et.radius,Et.startAngle,Et.endAngle,Et.counterclockwise,void 0,I,!fe):q.call(this,Et.x,Et.y),fe=!0}else if(J[Zt].close===!0)this.pdf.internal.out("h"),fe=!1;else if(J[Zt].begin!==!0){var pe=J[Zt].start.x,Gt=J[Zt].start.y;j.call(this,J[Zt].deltas,pe,Gt),fe=!0}$&&z.call(this,$),I&&nt.call(this)}},St=function(C){var I=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,B=I*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-B;case"top":return C+I-B;case"hanging":return C+I-2*B;case"middle":return C+I/2-B;default:return C}},vt=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(I,B){this.colorStops.push([I,B])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var X=function(C,I,B,$,J,ot,ft,ht,xt){for(var Nt=lt.call(this,B,$,J,ot),Ot=0;Ot<Nt.length;Ot++){var Tt=Nt[Ot];Ot===0&&(xt?S.call(this,Tt.x1+C,Tt.y1+I):q.call(this,Tt.x1+C,Tt.y1+I)),it.call(this,C,I,Tt.x2,Tt.y2,Tt.x3,Tt.y3,Tt.x4,Tt.y4)}ht?nt.call(this):z.call(this,ft)},z=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},nt=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(C,I){this.pdf.internal.out(t(C)+" "+i(I)+" m")},N=function(C){var I;switch(C.align){case"right":case"end":I="right";break;case"center":I="center";break;default:I="left"}var B=this.pdf.getTextDimensions(C.text),$=St.call(this,C.y),J=vt.call(this,$)-B.h,ot=this.ctx.transform.applyToPoint(new l(C.x,$)),ft=this.ctx.transform.decompose(),ht=new d;ht=(ht=(ht=ht.multiply(ft.translate)).multiply(ft.skew)).multiply(ft.scale);for(var xt,Nt,Ot,Tt=this.ctx.transform.applyToRectangle(new s(C.x,$,B.w,B.h)),pt=ht.applyToRectangle(new s(C.x,J,B.w,B.h)),R=L.call(this,pt),Se=[],fe=0;fe<R.length;fe+=1)Se.indexOf(R[fe])===-1&&Se.push(R[fe]);if(V(Se),this.autoPaging)for(var Zt=Se[0],kt=Se[Se.length-1],Vt=Zt;Vt<kt+1;Vt++){this.pdf.setPage(Vt);var Et=Vt===1?this.posY+this.margin[0]:this.margin[0],pe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Gt=this.pdf.internal.pageSize.height-this.margin[2],Oe=Gt-this.margin[0],le=this.pdf.internal.pageSize.width-this.margin[1],ce=le-this.margin[3],Ue=Vt===1?0:pe+(Vt-2)*Oe;if(this.ctx.clip_path.length!==0){var ge=this.path;xt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=H(xt,this.posX+this.margin[3],-1*Ue+Et),ut.call(this,"fill",!0),this.path=ge}var Wt=H([JSON.parse(JSON.stringify(pt))],this.posX+this.margin[3],-Ue+Et+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(Nt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Nt*C.scale),Ot=this.lineWidth,this.lineWidth=Ot*C.scale);var te=this.autoPaging!=="text";if(te||Wt.y+Wt.h<=Gt){if(te||Wt.y>=Et&&Wt.x<=le){var $t=te?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||le-Wt.x)[0],Ze=H([JSON.parse(JSON.stringify(Tt))],this.posX+this.margin[3],-Ue+Et+this.ctx.prevPageLastElemOffset)[0],Te=te&&(Vt>Zt||Vt<kt)&&k.call(this);Te&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ce,Oe,null).clip().discardPath()),this.pdf.text($t,Ze.x,Ze.y,{angle:C.angle,align:I,renderingMode:C.renderingMode}),Te&&this.pdf.restoreGraphicsState()}}else Wt.y<Gt&&(this.ctx.prevPageLastElemOffset+=Gt-Wt.y);C.scale>=.01&&(this.pdf.setFontSize(Nt),this.lineWidth=Ot)}else C.scale>=.01&&(Nt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Nt*C.scale),Ot=this.lineWidth,this.lineWidth=Ot*C.scale),this.pdf.text(C.text,ot.x+this.posX,ot.y+this.posY,{angle:C.angle,align:I,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(Nt),this.lineWidth=Ot)},q=function(C,I,B,$){B=B||0,$=$||0,this.pdf.internal.out(t(C+B)+" "+i(I+$)+" l")},j=function(C,I,B){return this.pdf.lines(C,I,B,null,null)},it=function(C,I,B,$,J,ot,ft,ht){this.pdf.internal.out([n(r(B+C)),n(a($+I)),n(r(J+C)),n(a(ot+I)),n(r(ft+C)),n(a(ht+I)),"c"].join(" "))},lt=function(C,I,B,$){for(var J=2*Math.PI,ot=Math.PI/2;I>B;)I-=J;var ft=Math.abs(B-I);ft<J&&$&&(ft=J-ft);for(var ht=[],xt=$?-1:1,Nt=I;ft>1e-5;){var Ot=Nt+xt*Math.min(ft,ot);ht.push(st.call(this,C,Nt,Ot)),ft-=Math.abs(Ot-Nt),Nt=Ot}return ht},st=function(C,I,B){var $=(B-I)/2,J=C*Math.cos($),ot=C*Math.sin($),ft=J,ht=-ot,xt=ft*ft+ht*ht,Nt=xt+ft*J+ht*ot,Ot=4/3*(Math.sqrt(2*xt*Nt)-Nt)/(ft*ot-ht*J),Tt=ft-Ot*ht,pt=ht+Ot*ft,R=Tt,Se=-pt,fe=$+I,Zt=Math.cos(fe),kt=Math.sin(fe);return{x1:C*Math.cos(I),y1:C*Math.sin(I),x2:Tt*Zt-pt*kt,y2:Tt*kt+pt*Zt,x3:R*Zt-Se*kt,y3:R*kt+Se*Zt,x4:C*Math.cos(B),y4:C*Math.sin(B)}},K=function(C){return 180*C/Math.PI},ct=function(C,I,B,$,J,ot){var ft=C+.5*(B-C),ht=I+.5*($-I),xt=J+.5*(B-J),Nt=ot+.5*($-ot),Ot=Math.min(C,J,ft,xt),Tt=Math.max(C,J,ft,xt),pt=Math.min(I,ot,ht,Nt),R=Math.max(I,ot,ht,Nt);return new s(Ot,pt,Tt-Ot,R-pt)},wt=function(C,I,B,$,J,ot,ft,ht){var xt,Nt,Ot,Tt,pt,R,Se,fe,Zt,kt,Vt,Et,pe,Gt,Oe=B-C,le=$-I,ce=J-B,Ue=ot-$,ge=ft-J,Wt=ht-ot;for(Nt=0;Nt<41;Nt++)Zt=(Se=(Ot=C+(xt=Nt/40)*Oe)+xt*((pt=B+xt*ce)-Ot))+xt*(pt+xt*(J+xt*ge-pt)-Se),kt=(fe=(Tt=I+xt*le)+xt*((R=$+xt*Ue)-Tt))+xt*(R+xt*(ot+xt*Wt-R)-fe),Nt==0?(Vt=Zt,Et=kt,pe=Zt,Gt=kt):(Vt=Math.min(Vt,Zt),Et=Math.min(Et,kt),pe=Math.max(pe,Zt),Gt=Math.max(Gt,kt));return new s(Math.round(Vt),Math.round(Et),Math.round(pe-Vt),Math.round(Gt-Et))},bt=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,I,B=(C=this.ctx.lineDash,I=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:I}));this.prevLineDash!==B&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=B)}}})(jt.API),(function(e){var n=function(l){var s,d,u,f,v,_,g,A,k,L;for(/[^\x00-\xFF]/.test(l),d=[],u=0,f=(l+=s="\0\0\0\0".slice(l.length%4||4)).length;f>u;u+=4)(v=(l.charCodeAt(u)<<24)+(l.charCodeAt(u+1)<<16)+(l.charCodeAt(u+2)<<8)+l.charCodeAt(u+3))!==0?(_=(v=((v=((v=((v=(v-(L=v%85))/85)-(k=v%85))/85)-(A=v%85))/85)-(g=v%85))/85)%85,d.push(_+33,g+33,A+33,k+33,L+33)):d.push(122);return(function(M,H){for(var V=H;V>0;V--)M.pop()})(d,s.length),String.fromCharCode.apply(String,d)+"~>"},t=function(l){var s,d,u,f,v,_=String,g="length",A=255,k="charCodeAt",L="slice",M="replace";for(l[L](-2),l=l[L](0,-2)[M](/\s/g,"")[M]("z","!!!!!"),u=[],f=0,v=(l+=s="uuuuu"[L](l[g]%5||5))[g];v>f;f+=5)d=52200625*(l[k](f)-33)+614125*(l[k](f+1)-33)+7225*(l[k](f+2)-33)+85*(l[k](f+3)-33)+(l[k](f+4)-33),u.push(A&d>>24,A&d>>16,A&d>>8,A&d);return(function(H,V){for(var F=V;F>0;F--)H.pop()})(u,s[g]),_.fromCharCode.apply(_,u)},i=function(l){return l.split("").map(function(s){return("0"+s.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(l){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),s.test(l)===!1)return"";for(var d="",u=0;u<l.length;u+=2)d+=String.fromCharCode("0x"+(l[u]+l[u+1]));return d},a=function(l){for(var s=new Uint8Array(l.length),d=l.length;d--;)s[d]=l.charCodeAt(d);return(s=Ic(s)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};e.processDataByFilters=function(l,s){var d=0,u=l||"",f=[];for(typeof(s=s||[])=="string"&&(s=[s]),d=0;d<s.length;d+=1)switch(s[d]){case"ASCII85Decode":case"/ASCII85Decode":u=t(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=n(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=i(u),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[d]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}})(jt.API),(function(e){e.loadFile=function(n,t,i){return(function(r,a,l){a=a!==!1,l=typeof l=="function"?l:function(){};var s=void 0;try{s=(function(d,u,f){var v=new XMLHttpRequest,_=0,g=function(A){var k=A.length,L=[],M=String.fromCharCode;for(_=0;_<k;_+=1)L.push(M(255&A.charCodeAt(_)));return L.join("")};if(v.open("GET",d,!u),v.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(v.onload=function(){v.status===200?f(g(this.responseText)):f(void 0)}),v.send(null),u&&v.status===200)return g(v.responseText)})(r,a,l)}catch{}return s})(n,t,i)},e.loadImageFile=e.loadFile})(jt.API),(function(e){function n(){return(ne.html2canvas?Promise.resolve(ne.html2canvas):import("./chunk-GPXMSDNG.js")).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function t(){return(ne.DOMPurify?Promise.resolve(ne.DOMPurify):import("./chunk-MJAV6IYW.js")).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var i=function(s){var d=He(s);return d==="undefined"?"undefined":d==="string"||s instanceof String?"string":d==="number"||s instanceof Number?"number":d==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":d==="object"?"object":"unknown"},r=function(s,d){var u=document.createElement(s);for(var f in d.className&&(u.className=d.className),d.innerHTML&&d.dompurify&&(u.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)u.style[f]=d.style[f];return u},a=function s(d,u){for(var f=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),v=d.firstChild;v;v=v.nextSibling)u!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||f.appendChild(s(v,u));return d.nodeType===1&&(d.nodeName==="CANVAS"?(f.width=d.width,f.height=d.height,f.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(f.value=d.value),f.addEventListener("load",function(){f.scrollTop=d.scrollTop,f.scrollLeft=d.scrollLeft},!0)),f},l=function s(d){var u=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),f=s.convert(Promise.resolve(),u);return(f=f.setProgress(1,s,1,[s])).set(d)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(s,d){return s.__proto__=d||l.prototype,s},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(s,d){return this.then(function(){switch(d=d||(function(u){switch(i(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(s),d){case"string":return this.then(t).then(function(u){return this.set({src:r("div",{innerHTML:s,dompurify:u})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},l.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(n).then(function(d){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,d(this.prop.container,u)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(n).then(function(d){var u=this.opt.jsPDF,f=this.opt.fontFaces,v=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:v,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var g=0;g<f.length;++g){var A=f[g],k=A.src.find(function(L){return L.format==="truetype"});k&&u.addFont(k.url,A.ref.name,A.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=_.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,u.context2d.save(!0),d(this.prop.container,_)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(s,d,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(s,d):this.outputPdf(s,d)},l.prototype.outputPdf=function(s,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,d)})},l.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},l.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(s){if(i(s)!=="object")return this;var d=Object.keys(s||{}).map(function(u){if(u in l.template.prop)return function(){this.prop[u]=s[u]};switch(u){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[u]=s[u]}}},this);return this.then(function(){return this.thenList(d)})},l.prototype.get=function(s,d){return this.then(function(){var u=s in l.template.prop?this.prop[s]:this.opt[s];return d?d(u):u})},l.prototype.setMargin=function(s){return this.then(function(){switch(i(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},l.prototype.setPageSize=function(s){function d(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(s=s||jt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:d(s.inner.width,s.k),height:d(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},l.prototype.setProgress=function(s,d,u,f){return s!=null&&(this.progress.val=s),d!=null&&(this.progress.state=d),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(s,d,u,f){return this.setProgress(s?this.progress.val+s:null,d||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},l.prototype.then=function(s,d){var u=this;return this.thenCore(s,d,function(f,v){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(_){return u.updateProgress(null,f),_}).then(f,v).then(function(_){return u.updateProgress(1),_})})},l.prototype.thenCore=function(s,d,u){u=u||Promise.prototype.then;var f=this;s&&(s=s.bind(f)),d&&(d=d.bind(f));var v=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:l.convert(Object.assign({},f),Promise.prototype),_=u.call(v,s,d);return l.convert(_,f.__proto__)},l.prototype.thenExternal=function(s,d){return Promise.prototype.then.call(this,s,d)},l.prototype.thenList=function(s){var d=this;return s.forEach(function(u){d=d.thenCore(u)}),d},l.prototype.catch=function(s){s&&(s=s.bind(this));var d=Promise.prototype.catch.call(this,s);return l.convert(d,this)},l.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},l.prototype.error=function(s){return this.then(function(){throw new Error(s)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,jt.getPageSize=function(s,d,u){if(He(s)==="object"){var f=s;s=f.orientation,d=f.unit||d,u=f.format||u}d=d||"mm",u=u||"a4",s=(""+(s||"P")).toLowerCase();var v,_=(""+u).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=.75;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+d}var A,k=0,L=0;if(g.hasOwnProperty(_))k=g[_][1]/v,L=g[_][0]/v;else try{k=u[1],L=u[0]}catch{throw new Error("Invalid format: "+u)}if(s==="p"||s==="portrait")s="p",L>k&&(A=L,L=k,k=A);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",k>L&&(A=L,L=k,k=A)}return{width:L,height:k,unit:d,k:v,orientation:s}},e.html=function(s,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(ph):null;var u=new l(d);return d.worker?u:u.from(s).doCallback()}})(jt.API),jt.API.addJS=function(e){return f1=e,this.internal.events.subscribe("postPutResources",function(){ad=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ad+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),h1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+f1+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ad!==void 0&&h1!==void 0&&this.internal.out("/Names <</JavaScript "+ad+" 0 R>>")}),this},(function(e){var n;e.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=t.outline.render().split(/\r\n/),a=0;a<r.length;a++){var l=r[a],s=i.exec(l);if(s!=null){var d=s[1];t.internal.newObjectDeferredBegin(d,!1)}t.internal.write(l)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,f=[];for(a=0;a<u;a++){var v=t.internal.newObject();f.push(v);var _=t.internal.getPageInfo(a+1);t.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var g=t.internal.newObject();for(t.internal.write("<< /Names [ "),a=0;a<f.length;a++)t.internal.write("(page_"+(a+1)+")"+f[a]+" 0 R");t.internal.write(" ] >>","endobj"),n=t.internal.newObject(),t.internal.write("<< /Dests "+g+" 0 R"),t.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+n+" 0 R"))}]),e.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(i,r,a){var l={title:r,options:a,children:[]};return i==null&&(i=this.root),i.children.push(l),l},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(i){i.id=t.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},t.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},t.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<i.children.length;a++){var l=i.children[a];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(i)),a>0&&this.line("/Prev "+this.makeRef(i.children[a-1])),a<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[a+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var s=this.count=this.count_r({count:0},l);if(s>0&&this.line("/Count "+s),l.options&&l.options.pageNumber){var d=t.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var u=0;u<i.children.length;u++)this.renderItems(i.children[u])},t.outline.line=function(i){this.ctx.val+=i+`\r
`},t.outline.makeRef=function(i){return i.id+" 0 R"},t.outline.makeString=function(i){return"("+t.internal.pdfEscape(i)+")"},t.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(i,r){for(var a=0;a<r.children.length;a++)i.count++,this.count_r(i,r.children[a]);return i.count}}])})(jt.API),(function(e){var n=[192,193,194,195,196,197,198,199];e.processJPEG=function(t,i,r,a,l,s){var d,u=this.decode.DCT_DECODE,f=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=l||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,d=(function(v){for(var _,g=256*v.charCodeAt(4)+v.charCodeAt(5),A=v.length,k={width:0,height:0,numcomponents:1},L=4;L<A;L+=2){if(L+=g,n.indexOf(v.charCodeAt(L+1))!==-1){_=256*v.charCodeAt(L+5)+v.charCodeAt(L+6),k={width:256*v.charCodeAt(L+7)+v.charCodeAt(L+8),height:_,numcomponents:v.charCodeAt(L+9)};break}g=256*v.charCodeAt(L+2)+v.charCodeAt(L+3)}return k})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),d.numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}f={data:t,width:d.width,height:d.height,colorSpace:s,bitsPerComponent:8,filter:u,index:i,alias:r}}return f}})(jt.API),jt.API.processPNG=function(e,n,t,i){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var r,a=e1(e,{checkCrc:!0}),l=a.width,s=a.height,d=a.channels,u=a.palette,f=a.depth;r=u&&d===1?(function(X){for(var z=X.width,nt=X.height,S=X.data,N=X.palette,q=X.depth,j=!1,it=[],lt=[],st=void 0,K=!1,ct=0,wt=0;wt<N.length;wt++){var bt=Mu(N[wt],4),C=bt[0],I=bt[1],B=bt[2],$=bt[3];it.push(C,I,B),$!=null&&($===0?(ct++,lt.length<1&&lt.push(wt)):$<255&&(K=!0))}if(K||ct>1){j=!0,lt=void 0;var J=z*nt;st=new Uint8Array(J);for(var ot=new DataView(S.buffer),ft=0;ft<J;ft++){var ht=mh(ot,ft,q),xt=Mu(N[ht],4)[3];st[ft]=xt}}else ct===0&&(lt=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:j?8:void 0,colorBytes:S,alphaBytes:st,needSMask:j,palette:it,mask:lt}})(a):d===2||d===4?(function(X){for(var z=X.data,nt=X.width,S=X.height,N=X.channels,q=X.depth,j=N===2?"DeviceGray":"DeviceRGB",it=N-1,lt=nt*S,st=it,K=lt*st,ct=1*lt,wt=Math.ceil(K*q/8),bt=Math.ceil(ct*q/8),C=new Uint8Array(wt),I=new Uint8Array(bt),B=new DataView(z.buffer),$=new DataView(C.buffer),J=new DataView(I.buffer),ot=!1,ft=0;ft<lt;ft++){for(var ht=ft*N,xt=0;xt<st;xt++)x1($,mh(B,ht+xt,q),ft*st+xt,q);var Nt=mh(B,ht+st,q);Nt<(1<<q)-1&&(ot=!0),x1(J,Nt,1*ft,q)}return{colorSpace:j,colorsPerPixel:it,sMaskBitsPerComponent:ot?q:void 0,colorBytes:C,alphaBytes:I,needSMask:ot}})(a):(function(X){var z=X.data,nt=X.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:nt,colorsPerPixel:nt==="DeviceGray"?1:3,colorBytes:z instanceof Uint16Array?(function(S){for(var N=S.length,q=new Uint8Array(2*N),j=new DataView(q.buffer,q.byteOffset,q.byteLength),it=0;it<N;it++)j.setUint16(2*it,S[it],!1);return q})(z):z,needSMask:!1}})(a);var v,_,g,A=r,k=A.colorSpace,L=A.colorsPerPixel,M=A.sMaskBitsPerComponent,H=A.colorBytes,V=A.alphaBytes,F=A.needSMask,ut=A.palette,St=A.mask,vt=null;return i!==jt.API.image_compression.NONE&&typeof Ic=="function"?(vt=(function(X){var z;switch(X){case jt.API.image_compression.FAST:z=11;break;case jt.API.image_compression.MEDIUM:z=13;break;case jt.API.image_compression.SLOW:z=14;break;default:z=12}return z})(i),v=this.decode.FLATE_DECODE,_="/Predictor ".concat(vt," /Colors ").concat(L," /BitsPerComponent ").concat(f," /Columns ").concat(l),e=v1(H,Math.ceil(l*L*f/8),L,f,i),F&&(g=v1(V,Math.ceil(l*M/8),1,M,i))):(v=void 0,_=void 0,e=H,F&&(g=V)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:t,data:e,index:n,filter:v,decodeParameters:_,transparency:St,palette:ut,sMask:g,predictor:vt,width:l,height:s,bitsPerComponent:f,sMaskBitsPerComponent:M,colorSpace:k}}},(function(e){e.processGIF89A=function(n,t,i,r){var a=new E_(n),l=a.width,s=a.height,d=[];a.decodeAndBlitFrameRGBA(0,d);var u={data:d,width:l,height:s},f=new vh(100).encode(u,100);return e.processJPEG.call(this,f,t,i,r)},e.processGIF87A=e.processGIF89A})(jt.API),Zi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var n=0;n<e;n++){var t=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[n]={red:r,green:i,blue:t,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Zi.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,n=this.width*this.height*4;this.data=new Uint8Array(n),this[e]()}catch(t){Ge.log("bit decode error:"+t)}},Zi.prototype.bit1=function(){var e,n=Math.ceil(this.width/8),t=n%4;for(e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<n;r++)for(var a=this.datav.getUint8(this.pos++,!0),l=i*this.width*4+8*r*4,s=0;s<8&&8*r+s<this.width;s++){var d=this.palette[a>>7-s&1];this.data[l+4*s]=d.blue,this.data[l+4*s+1]=d.green,this.data[l+4*s+2]=d.red,this.data[l+4*s+3]=255}t!==0&&(this.pos+=4-t)}},Zi.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),n=e%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<e;r++){var a=this.datav.getUint8(this.pos++,!0),l=i*this.width*4+2*r*4,s=a>>4,d=15&a,u=this.palette[s];if(this.data[l]=u.blue,this.data[l+1]=u.green,this.data[l+2]=u.red,this.data[l+3]=255,2*r+1>=this.width)break;u=this.palette[d],this.data[l+4]=u.blue,this.data[l+4+1]=u.green,this.data[l+4+2]=u.red,this.data[l+4+3]=255}n!==0&&(this.pos+=4-n)}},Zi.prototype.bit8=function(){for(var e=this.width%4,n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*i;if(r<this.palette.length){var l=this.palette[r];this.data[a]=l.red,this.data[a+1]=l.green,this.data[a+2]=l.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Zi.prototype.bit15=function(){for(var e=this.width%3,n=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&n)/n*255|0,s=(a>>5&n)/n*255|0,d=(a>>10&n)/n*255|0,u=a>>15?255:0,f=i*this.width*4+4*r;this.data[f]=d,this.data[f+1]=s,this.data[f+2]=l,this.data[f+3]=u}this.pos+=e}},Zi.prototype.bit16=function(){for(var e=this.width%3,n=parseInt("11111",2),t=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(l&n)/n*255|0,d=(l>>5&t)/t*255|0,u=(l>>11)/n*255|0,f=r*this.width*4+4*a;this.data[f]=u,this.data[f+1]=d,this.data[f+2]=s,this.data[f+3]=255}this.pos+=e}},Zi.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+4*t;this.data[l]=a,this.data[l+1]=r,this.data[l+2]=i,this.data[l+3]=255}this.pos+=this.width%4}},Zi.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var n=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*t;this.data[s]=a,this.data[s+1]=r,this.data[s+2]=i,this.data[s+3]=l}},Zi.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(n,t,i,r){var a=new Zi(n,!1),l=a.width,s=a.height,d={data:a.getData(),width:l,height:s},u=new vh(100).encode(d,100);return e.processJPEG.call(this,u,t,i,r)}})(jt.API),S1.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(n,t,i,r){var a=new S1(n),l=a.width,s=a.height,d={data:a.getData(),width:l,height:s},u=new vh(100).encode(d,100);return e.processJPEG.call(this,u,t,i,r)}})(jt.API),jt.API.processRGBA=function(e,n,t){for(var i=e.data,r=i.length,a=new Uint8Array(r/4*3),l=new Uint8Array(r/4),s=0,d=0,u=0;u<r;u+=4){var f=i[u],v=i[u+1],_=i[u+2],g=i[u+3];a[s++]=f,a[s++]=v,a[s++]=_,l[d++]=g}var A=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:A,index:n,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},jt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ts=jt.API,od=ts.getCharWidthsArray=function(e,n){var t,i,r=(n=n||{}).font||this.internal.getFont(),a=n.fontSize||this.internal.getFontSize(),l=n.charSpace||this.internal.getCharSpace(),s=n.widths?n.widths:r.metadata.Unicode.widths,d=s.fof?s.fof:1,u=n.kerning?n.kerning:r.metadata.Unicode.kerning,f=u.fof?u.fof:1,v=n.doKerning!==!1,_=0,g=e.length,A=0,k=s[0]||d,L=[];for(t=0;t<g;t++)i=e.charCodeAt(t),typeof r.metadata.widthOfString=="function"?L.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+l*(1e3/a)||0)/1e3):(_=v&&He(u[i])==="object"&&!isNaN(parseInt(u[i][A],10))?u[i][A]/f:0,L.push((s[i]||k)/d+_)),A=i;return L},p1=ts.getStringUnitWidth=function(e,n){var t=(n=n||{}).fontSize||this.internal.getFontSize(),i=n.font||this.internal.getFont(),r=n.charSpace||this.internal.getCharSpace();return ts.processArabic&&(e=ts.processArabic(e)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(e,t,r)/t:od.apply(this,arguments).reduce(function(a,l){return a+l},0)},g1=function(e,n,t,i){for(var r=[],a=0,l=e.length,s=0;a!==l&&s+n[a]<t;)s+=n[a],a++;r.push(e.slice(0,a));var d=a;for(s=0;a!==l;)s+n[a]>i&&(r.push(e.slice(d,a)),s=0,d=a),s+=n[a],a++;return d!==a&&r.push(e.slice(d,a)),r},m1=function(e,n,t){t||(t={});var i,r,a,l,s,d,u,f=[],v=[f],_=t.textIndent||0,g=0,A=0,k=e.split(" "),L=od.apply(this,[" ",t])[0];if(d=t.lineIndent===-1?k[0].length+2:t.lineIndent||0){var M=Array(d).join(" "),H=[];k.map(function(F){(F=F.split(/\s*\n/)).length>1?H=H.concat(F.map(function(ut,St){return(St&&ut.length?`
`:"")+ut})):H.push(F[0])}),k=H,d=p1.apply(this,[M,t])}for(a=0,l=k.length;a<l;a++){var V=0;if(i=k[a],d&&i[0]==`
`&&(i=i.substr(1),V=1),_+g+(A=(r=od.apply(this,[i,t])).reduce(function(F,ut){return F+ut},0))>n||V){if(A>n){for(s=g1.apply(this,[i,r,n-(_+g),n]),f.push(s.shift()),f=[s.pop()];s.length;)v.push([s.shift()]);A=r.slice(i.length-(f[0]?f[0].length:0)).reduce(function(F,ut){return F+ut},0)}else f=[i];v.push(f),_=A+d,g=L}else f.push(i),_+=g+A,g=L}return u=d?function(F,ut){return(ut?M:"")+F.join(" ")}:function(F){return F.join(" ")},v.map(u)},ts.splitTextToSize=function(e,n,t){var i,r=(t=t||{}).fontSize||this.internal.getFontSize(),a=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var v=this.internal.getFont(f.fontName,f.fontStyle),_="Unicode";return v.metadata[_]?{widths:v.metadata[_].widths||{0:1},kerning:v.metadata[_].kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);i=Array.isArray(e)?e:String(e).split(/\r?\n/);var l=1*this.internal.scaleFactor*n/r;a.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/r:0,a.lineIndent=t.lineIndent;var s,d,u=[];for(s=0,d=i.length;s<d;s++)u=u.concat(m1.apply(this,[i[s],l,a]));return u},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var n="0123456789abcdef",t="klmnopqrstuvwxyz",i={},r={},a=0;a<16;a++)i[t[a]]=n[a],r[n[a]]=t[a];var l=function(_){return"0x"+parseInt(_,10).toString(16)},s=e.__fontmetrics__.compress=function(_){var g,A,k,L,M=["{"];for(var H in _){if(g=_[H],isNaN(parseInt(H,10))?A="'"+H+"'":(H=parseInt(H,10),A=(A=l(H).slice(2)).slice(0,-1)+r[A.slice(-1)]),typeof g=="number")g<0?(k=l(g).slice(3),L="-"):(k=l(g).slice(2),L=""),k=L+k.slice(0,-1)+r[k.slice(-1)];else{if(He(g)!=="object")throw new Error("Don't know what to do with value type "+He(g)+".");k=s(g)}M.push(A+k)}return M.push("}"),M.join("")},d=e.__fontmetrics__.uncompress=function(_){if(typeof _!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,A,k,L,M={},H=1,V=M,F=[],ut="",St="",vt=_.length-1,X=1;X<vt;X+=1)(L=_[X])=="'"?g?(k=g.join(""),g=void 0):g=[]:g?g.push(L):L=="{"?(F.push([V,k]),V={},k=void 0):L=="}"?((A=F.pop())[0][A[1]]=V,k=void 0,V=A[0]):L=="-"?H=-1:k===void 0?i.hasOwnProperty(L)?(ut+=i[L],k=parseInt(ut,16)*H,H=1,ut=""):ut+=L:i.hasOwnProperty(L)?(St+=i[L],V[k]=parseInt(St,16)*H,H=1,k=void 0,St=""):St+=L;return M},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},v={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(_){var g=_.font,A=v.Unicode[g.postScriptName];A&&(g.metadata.Unicode={},g.metadata.Unicode.widths=A.widths,g.metadata.Unicode.kerning=A.kerning);var k=f.Unicode[g.postScriptName];k&&(g.metadata.Unicode.encoding=k,g.encoding=k.codePages[0])}])})(jt.API),(function(e){var n=function(t){for(var i=t.length,r=new Uint8Array(i),a=0;a<i;a++)r[a]=t.charCodeAt(a);return r};e.API.events.push(["addFont",function(t){var i=void 0,r=t.font,a=t.instance;if(!r.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=a.existsFileInVFS(r.postScriptName)===!1?a.loadFile(r.postScriptName):a.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(l,s){s=/^\x00\x01\x00\x00/.test(s)?n(s):n(sd(s)),l.metadata=e.API.TTFFont.open(s),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(r,i)}}])})(jt),jt.API.addSvgAsImage=function(e,n,t,i,r,a,l,s){if(isNaN(n)||isNaN(t))throw Ge.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(r))throw Ge.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=r;var u=d.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,d.width,d.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return(ne.canvg?Promise.resolve(ne.canvg):import("./chunk-CAZUSARK.js")).catch(function(_){return Promise.reject(new Error("Could not load canvg: "+_))}).then(function(_){return _.default?_.default:_}).then(function(_){return _.fromString(u,e,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(f)}).then(function(){v.addImage(d.toDataURL("image/jpeg",1),n,t,i,r,l,s)})},jt.API.putTotalPages=function(e){var n,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(n=new RegExp(e,"g"),t=this.internal.getNumberOfPages()):(n=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(n,t);return this},jt.API.viewerPreferences=function(e,n){var t;e=e||{},n=n||!1;var i,r,a,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(l),d=[],u=0,f=0,v=0;function _(A,k){var L,M=!1;for(L=0;L<A.length;L+=1)A[L]===k&&(M=!0);return M}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,e==="reset"||n===!0){var g=s.length;for(v=0;v<g;v+=1)t[s[v]].value=t[s[v]].defaultValue,t[s[v]].explicitSet=!1}if(He(e)==="object"){for(r in e)if(a=e[r],_(s,r)&&a!==void 0){if(t[r].type==="boolean"&&typeof a=="boolean")t[r].value=a;else if(t[r].type==="name"&&_(t[r].valueSet,a))t[r].value=a;else if(t[r].type==="integer"&&Number.isInteger(a))t[r].value=a;else if(t[r].type==="array"){for(u=0;u<a.length;u+=1)if(i=!0,a[u].length===1&&typeof a[u][0]=="number")d.push(String(a[u]-1));else if(a[u].length>1){for(f=0;f<a[u].length;f+=1)typeof a[u][f]!="number"&&(i=!1);i===!0&&d.push([a[u][0]-1,a[u][1]-1].join(" "))}t[r].value="["+d.join(" ")+"]"}else t[r].value=t[r].defaultValue;t[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var A,k=[];for(A in t)t[A].explicitSet===!0&&(t[A].type==="name"?k.push("/"+A+" /"+t[A].value):k.push("/"+A+" "+t[A].value));k.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+k.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(e){var n=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(i)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+l.length+s.length+r.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(r+a+l+s+d),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",n)),this}})(jt.API),(function(e){var n=e.API,t=n.pdfEscape16=function(a,l){for(var s,d=l.metadata.Unicode.widths,u=["","0","00","000","0000"],f=[""],v=0,_=a.length;v<_;++v){if(s=l.metadata.characterToGlyph(a.charCodeAt(v)),l.metadata.glyIdsUsed.push(s),l.metadata.toUnicode[s]=a.charCodeAt(v),d.indexOf(s)==-1&&(d.push(s),d.push([parseInt(l.metadata.widthOfGlyph(s),10)])),s=="0")return f.join("");s=s.toString(16),f.push(u[4-s.length],s)}return f.join("")},i=function(a){var l,s,d,u,f,v,_;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],v=0,_=(s=Object.keys(a).sort(function(g,A){return g-A})).length;v<_;v++)l=s[v],d.length>=100&&(f+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),a[l]!==void 0&&a[l]!==null&&typeof a[l].toString=="function"&&(u=("0000"+a[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),d.push("<"+l+"><"+u+">"));return d.length&&(f+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};n.events.push(["putFont",function(a){(function(l){var s=l.font,d=l.out,u=l.newObject,f=l.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="Identity-H"){for(var v=s.metadata.Unicode.widths,_=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),g="",A=0;A<_.length;A++)g+=String.fromCharCode(_[A]);var k=u();f({data:g,addLength1:!0,objectId:k}),d("endobj");var L=u();f({data:i(s.metadata.toUnicode),addLength1:!0,objectId:L}),d("endobj");var M=u();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+ns(s.fontName)),d("/FontFile2 "+k+" 0 R"),d("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),d("/Flags "+s.metadata.flags),d("/StemV "+s.metadata.stemV),d("/ItalicAngle "+s.metadata.italicAngle),d("/Ascent "+s.metadata.ascender),d("/Descent "+s.metadata.decender),d("/CapHeight "+s.metadata.capHeight),d(">>"),d("endobj");var H=u();d("<<"),d("/Type /Font"),d("/BaseFont /"+ns(s.fontName)),d("/FontDescriptor "+M+" 0 R"),d("/W "+e.API.PDFObject.convert(v)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+s.encoding+")"),d(">>"),d(">>"),d("endobj"),s.objectNumber=u(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+L+" 0 R"),d("/BaseFont /"+ns(s.fontName)),d("/Encoding /"+s.encoding),d("/DescendantFonts ["+H+" 0 R]"),d(">>"),d("endobj"),s.isAlreadyPutted=!0}})(a)}]),n.events.push(["putFont",function(a){(function(l){var s=l.font,d=l.out,u=l.newObject,f=l.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var v=s.metadata.rawData,_="",g=0;g<v.length;g++)_+=String.fromCharCode(v[g]);var A=u();f({data:_,addLength1:!0,objectId:A}),d("endobj");var k=u();f({data:i(s.metadata.toUnicode),addLength1:!0,objectId:k}),d("endobj");var L=u();d("<<"),d("/Descent "+s.metadata.decender),d("/CapHeight "+s.metadata.capHeight),d("/StemV "+s.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+A+" 0 R"),d("/Flags 96"),d("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),d("/FontName /"+ns(s.fontName)),d("/ItalicAngle "+s.metadata.italicAngle),d("/Ascent "+s.metadata.ascender),d(">>"),d("endobj"),s.objectNumber=u();for(var M=0;M<s.metadata.hmtx.widths.length;M++)s.metadata.hmtx.widths[M]=parseInt(s.metadata.hmtx.widths[M]*(1e3/s.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+k+" 0 R/BaseFont/"+ns(s.fontName)+"/FontDescriptor "+L+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),d("endobj"),s.isAlreadyPutted=!0}})(a)}]);var r=function(a){var l,s=a.text||"",d=a.x,u=a.y,f=a.options||{},v=a.mutex||{},_=v.pdfEscape,g=v.activeFontKey,A=v.fonts,k=g,L="",M=0,H="",V=A[k].encoding;if(A[k].encoding!=="Identity-H")return{text:s,x:d,y:u,options:f,mutex:v};for(H=s,k=g,Array.isArray(s)&&(H=s[0]),M=0;M<H.length;M+=1)A[k].metadata.hasOwnProperty("cmap")&&(l=A[k].metadata.cmap.unicode.codeMap[H[M].charCodeAt(0)]),l||H[M].charCodeAt(0)<256&&A[k].metadata.hasOwnProperty("Unicode")?L+=H[M]:L+="";var F="";return parseInt(k.slice(1))<14||V==="WinAnsiEncoding"?F=_(L,k).split("").map(function(ut){return ut.charCodeAt(0).toString(16)}).join(""):V==="Identity-H"&&(F=t(L,A[k])),v.isHex=!0,{text:F,x:d,y:u,options:f,mutex:v}};n.events.push(["postProcessText",function(a){var l=a.text||"",s=[],d={text:l,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(l)){var u=0;for(u=0;u<l.length;u+=1)Array.isArray(l[u])&&l[u].length===3?s.push([r(Object.assign({},d,{text:l[u][0]})).text,l[u][1],l[u][2]]):s.push(r(Object.assign({},d,{text:l[u]})).text);a.text=s}else a.text=r(Object.assign({},d,{text:l})).text}])})(jt),(function(e){var n=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(t){return n.call(this),this.internal.vFS[t]!==void 0},e.addFileToVFS=function(t,i){return n.call(this),this.internal.vFS[t]=i,this},e.getFileFromVFS=function(t){return n.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(jt.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(i){var r,a,l,s,d,u,f,v=n,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},k={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},L=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],M=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),H=!1,V=0;this.__bidiEngine__={};var F=function(S){var N=S.charCodeAt(),q=N>>8,j=k[q];return j!==void 0?v[256*j+(255&N)]:q===252||q===253?"AL":M.test(q)?"L":q===8?"R":"N"},ut=function(S){for(var N,q=0;q<S.length;q++){if((N=F(S.charAt(q)))==="L")return!1;if(N==="R")return!0}return!1},St=function(S,N,q,j){var it,lt,st,K,ct=N[j];switch(ct){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":H=!1;break;case"N":case"AN":break;case"EN":H&&(ct="AN");break;case"AL":H=!0,ct="R";break;case"WS":case"BN":ct="N";break;case"CS":j<1||j+1>=N.length||(it=q[j-1])!=="EN"&&it!=="AN"||(lt=N[j+1])!=="EN"&&lt!=="AN"?ct="N":H&&(lt="AN"),ct=lt===it?lt:"N";break;case"ES":ct=(it=j>0?q[j-1]:"B")==="EN"&&j+1<N.length&&N[j+1]==="EN"?"EN":"N";break;case"ET":if(j>0&&q[j-1]==="EN"){ct="EN";break}if(H){ct="N";break}for(st=j+1,K=N.length;st<K&&N[st]==="ET";)st++;ct=st<K&&N[st]==="EN"?"EN":"N";break;case"NSM":if(l&&!s){for(K=N.length,st=j+1;st<K&&N[st]==="NSM";)st++;if(st<K){var wt=S[j],bt=wt>=1425&&wt<=2303||wt===64286;if(it=N[st],bt&&(it==="R"||it==="AL")){ct="R";break}}}ct=j<1||(it=N[j-1])==="B"?"N":q[j-1];break;case"B":H=!1,r=!0,ct=V;break;case"S":a=!0,ct="N"}return ct},vt=function(S,N,q){var j=S.split("");return q&&X(j,q,{hiLevel:V}),j.reverse(),N&&N.reverse(),j.join("")},X=function(S,N,q){var j,it,lt,st,K,ct=-1,wt=S.length,bt=0,C=[],I=V?g:_,B=[];for(H=!1,r=!1,a=!1,it=0;it<wt;it++)B[it]=F(S[it]);for(lt=0;lt<wt;lt++){if(K=bt,C[lt]=St(S,B,C,lt),j=240&(bt=I[K][A[C[lt]]]),bt&=15,N[lt]=st=I[bt][5],j>0)if(j===16){for(it=ct;it<lt;it++)N[it]=1;ct=-1}else ct=-1;if(I[bt][6])ct===-1&&(ct=lt);else if(ct>-1){for(it=ct;it<lt;it++)N[it]=st;ct=-1}B[lt]==="B"&&(N[lt]=0),q.hiLevel|=st}a&&(function($,J,ot){for(var ft=0;ft<ot;ft++)if($[ft]==="S"){J[ft]=V;for(var ht=ft-1;ht>=0&&$[ht]==="WS";ht--)J[ht]=V}})(B,N,wt)},z=function(S,N,q,j,it){if(!(it.hiLevel<S)){if(S===1&&V===1&&!r)return N.reverse(),void(q&&q.reverse());for(var lt,st,K,ct,wt=N.length,bt=0;bt<wt;){if(j[bt]>=S){for(K=bt+1;K<wt&&j[K]>=S;)K++;for(ct=bt,st=K-1;ct<st;ct++,st--)lt=N[ct],N[ct]=N[st],N[st]=lt,q&&(lt=q[ct],q[ct]=q[st],q[st]=lt);bt=K}bt++}}},nt=function(S,N,q){var j=S.split(""),it={hiLevel:V};return q||(q=[]),X(j,q,it),(function(lt,st,K){if(K.hiLevel!==0&&f)for(var ct,wt=0;wt<lt.length;wt++)st[wt]===1&&(ct=L.indexOf(lt[wt]))>=0&&(lt[wt]=L[ct+1])})(j,q,it),z(2,j,N,q,it),z(1,j,N,q,it),j.join("")};return this.__bidiEngine__.doBidiReorder=function(S,N,q){if((function(it,lt){if(lt)for(var st=0;st<it.length;st++)lt[st]=st;s===void 0&&(s=ut(it)),u===void 0&&(u=ut(it))})(S,N),l||!d||u)if(l&&d&&s^u)V=s?1:0,S=vt(S,N,q);else if(!l&&d&&u)V=s?1:0,S=nt(S,N,q),S=vt(S,N);else if(!l||s||d||u){if(l&&!d&&s^u)S=vt(S,N),s?(V=0,S=nt(S,N,q)):(V=1,S=nt(S,N,q),S=vt(S,N));else if(l&&s&&!d&&u)V=1,S=nt(S,N,q),S=vt(S,N);else if(!l&&!d&&s^u){var j=f;s?(V=1,S=nt(S,N,q),V=0,f=!1,S=nt(S,N,q),f=j):(V=0,S=nt(S,N,q),S=vt(S,N),V=1,f=!1,S=nt(S,N,q),f=j,S=vt(S,N))}}else V=0,S=nt(S,N,q);else V=s?1:0,S=nt(S,N,q);return S},this.__bidiEngine__.setOptions=function(S){S&&(l=S.isInputVisual,d=S.isOutputVisual,s=S.isInputRtl,u=S.isOutputRtl,f=S.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var n=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var a=i.options||{};i.mutex,a.lang;var l=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,t.setOptions(a),Object.prototype.toString.call(r)==="[object Array]"){var s=0;for(l=[],s=0;s<r.length;s+=1)Object.prototype.toString.call(r[s])==="[object Array]"?l.push([t.doBidiReorder(r[s][0]),r[s][1],r[s][2]]):l.push([t.doBidiReorder(r[s])]);i.text=l}else i.text=t.doBidiReorder(r);t.setOptions({isInputVisual:!0})}])})(jt),jt.API.TTFFont=(function(){function e(n){var t;if(this.rawData=n,t=this.contents=new Ma(n),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Y_(this),this.registerTTF()}return e.open=function(n){return new e(n)},e.prototype.parse=function(){return this.directory=new O_(this.contents),this.head=new I_(this),this.name=new j_(this),this.cmap=new R1(this),this.toUnicode={},this.hhea=new F_(this),this.maxp=new q_(this),this.hmtx=new U_(this),this.post=new B_(this),this.os2=new R_(this),this.loca=new $_(this),this.glyf=new H_(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var n,t,i,r,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,s,d,u;for(u=[],l=0,s=(d=this.bbox).length;l<s;l++)n=d[l],u.push(Math.round(n*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(t=r>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(n){var t;return((t=this.cmap.unicode)!=null?t.codeMap[n]:void 0)||0},e.prototype.widthOfGlyph=function(n){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(n).advance*t},e.prototype.widthOfString=function(n,t,i){var r,a,l,s;for(l=0,a=0,s=(n=""+n).length;0<=s?a<s:a>s;a=0<=s?++a:--a)r=n.charCodeAt(a),l+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/t)||0;return l*(t/1e3)},e.prototype.lineHeight=function(n,t){var i;return t==null&&(t=!1),i=t?this.lineGap:0,(this.ascender+i-this.decender)/1e3*n},e})();var Ki,Ma=(function(){function e(n){this.data=n??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(n){return this.data[this.pos++]=n},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(n){return this.writeByte(n>>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt32=function(){var n;return(n=this.readUInt32())>=2147483648?n-4294967296:n},e.prototype.writeInt32=function(n){return n<0&&(n+=4294967296),this.writeUInt32(n)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(n){return this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt16=function(){var n;return(n=this.readUInt16())>=32768?n-65536:n},e.prototype.writeInt16=function(n){return n<0&&(n+=65536),this.writeUInt16(n)},e.prototype.readString=function(n){var t,i;for(i=[],t=0;0<=n?t<n:t>n;t=0<=n?++t:--t)i[t]=String.fromCharCode(this.readByte());return i.join("")},e.prototype.writeString=function(n){var t,i,r;for(r=[],t=0,i=n.length;0<=i?t<i:t>i;t=0<=i?++t:--t)r.push(this.writeByte(n.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(n){return this.writeInt16(n)},e.prototype.readLongLong=function(){var n,t,i,r,a,l,s,d;return n=this.readByte(),t=this.readByte(),i=this.readByte(),r=this.readByte(),a=this.readByte(),l=this.readByte(),s=this.readByte(),d=this.readByte(),128&n?-1*(72057594037927940*(255^n)+281474976710656*(255^t)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^a)+65536*(255^l)+256*(255^s)+(255^d)+1):72057594037927940*n+281474976710656*t+1099511627776*i+4294967296*r+16777216*a+65536*l+256*s+d},e.prototype.writeLongLong=function(n){var t,i;return t=Math.floor(n/4294967296),i=4294967295&n,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(n){return this.writeInt32(n)},e.prototype.read=function(n){var t,i;for(t=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)t.push(this.readByte());return t},e.prototype.write=function(n){var t,i,r,a;for(a=[],i=0,r=n.length;i<r;i++)t=n[i],a.push(this.writeByte(t));return a},e})(),O_=(function(){var e;function n(t){var i,r,a;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},r=0,a=this.tableCount;0<=a?r<a:r>a;r=0<=a?++r:--r)i={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[i.tag]=i}return n.prototype.encode=function(t){var i,r,a,l,s,d,u,f,v,_,g,A,k;for(k in g=Object.keys(t).length,d=Math.log(2),v=16*Math.floor(Math.log(g)/d),l=Math.floor(v/d),f=16*g-v,(r=new Ma).writeInt(this.scalarType),r.writeShort(g),r.writeShort(v),r.writeShort(l),r.writeShort(f),a=16*g,u=r.pos+a,s=null,A=[],t)for(_=t[k],r.writeString(k),r.writeInt(e(_)),r.writeInt(u),r.writeInt(_.length),A=A.concat(_),k==="head"&&(s=u),u+=_.length;u%4;)A.push(0),u++;return r.write(A),i=2981146554-e(r.data),r.pos=s+8,r.writeUInt32(i),r.data},e=function(t){var i,r,a,l;for(t=B1.call(t);t.length%4;)t.push(0);for(a=new Ma(t),r=0,i=0,l=t.length;i<l;i=i+=4)r+=a.readUInt32();return 4294967295&r},n})(),T_={}.hasOwnProperty,gr=function(e,n){for(var t in n)T_.call(n,t)&&(e[t]=n[t]);function i(){this.constructor=e}return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};Ki=(function(){function e(n){var t;this.file=n,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var I_=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gr(e,Ki),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var t;return(t=new Ma).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(n),t.writeShort(this.glyphDataFormat),t.data},e})(),P1=(function(){function e(n,t){var i,r,a,l,s,d,u,f,v,_,g,A,k,L,M,H,V;switch(this.platformID=n.readUInt16(),this.encodingID=n.readShort(),this.offset=t+n.readInt(),v=n.pos,n.pos=this.offset,this.format=n.readUInt16(),this.length=n.readUInt16(),this.language=n.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=n.readByte();break;case 4:for(g=n.readUInt16(),_=g/2,n.pos+=6,a=(function(){var F,ut;for(ut=[],d=F=0;0<=_?F<_:F>_;d=0<=_?++F:--F)ut.push(n.readUInt16());return ut})(),n.pos+=2,k=(function(){var F,ut;for(ut=[],d=F=0;0<=_?F<_:F>_;d=0<=_?++F:--F)ut.push(n.readUInt16());return ut})(),u=(function(){var F,ut;for(ut=[],d=F=0;0<=_?F<_:F>_;d=0<=_?++F:--F)ut.push(n.readUInt16());return ut})(),f=(function(){var F,ut;for(ut=[],d=F=0;0<=_?F<_:F>_;d=0<=_?++F:--F)ut.push(n.readUInt16());return ut})(),r=(this.length-n.pos+this.offset)/2,s=(function(){var F,ut;for(ut=[],d=F=0;0<=r?F<r:F>r;d=0<=r?++F:--F)ut.push(n.readUInt16());return ut})(),d=M=0,V=a.length;M<V;d=++M)for(L=a[d],i=H=A=k[d];A<=L?H<=L:H>=L;i=A<=L?++H:--H)f[d]===0?l=i+u[d]:(l=s[f[d]/2+(i-A)-(_-d)]||0)!==0&&(l+=u[d]),this.codeMap[i]=65535&l}n.pos=v}return e.encode=function(n,t){var i,r,a,l,s,d,u,f,v,_,g,A,k,L,M,H,V,F,ut,St,vt,X,z,nt,S,N,q,j,it,lt,st,K,ct,wt,bt,C,I,B,$,J,ot,ft,ht,xt,Nt,Ot;switch(j=new Ma,l=Object.keys(n).sort(function(Tt,pt){return Tt-pt}),t){case"macroman":for(k=0,L=(function(){var Tt=[];for(A=0;A<256;++A)Tt.push(0);return Tt})(),H={0:0},a={},it=0,ct=l.length;it<ct;it++)H[ht=n[r=l[it]]]==null&&(H[ht]=++k),a[r]={old:n[r],new:H[n[r]]},L[r]=H[n[r]];return j.writeUInt16(1),j.writeUInt16(0),j.writeUInt32(12),j.writeUInt16(0),j.writeUInt16(262),j.writeUInt16(0),j.write(L),{charMap:a,subtable:j.data,maxGlyphID:k+1};case"unicode":for(N=[],v=[],V=0,H={},i={},M=u=null,lt=0,wt=l.length;lt<wt;lt++)H[ut=n[r=l[lt]]]==null&&(H[ut]=++V),i[r]={old:ut,new:H[ut]},s=H[ut]-r,M!=null&&s===u||(M&&v.push(M),N.push(r),u=s),M=r;for(M&&v.push(M),v.push(65535),N.push(65535),nt=2*(z=N.length),X=2*Math.pow(Math.log(z)/Math.LN2,2),_=Math.log(X/2)/Math.LN2,vt=2*z-X,d=[],St=[],g=[],A=st=0,bt=N.length;st<bt;A=++st){if(S=N[A],f=v[A],S===65535){d.push(0),St.push(0);break}if(S-(q=i[S].new)>=32768)for(d.push(0),St.push(2*(g.length+z-A)),r=K=S;S<=f?K<=f:K>=f;r=S<=f?++K:--K)g.push(i[r].new);else d.push(q-S),St.push(0)}for(j.writeUInt16(3),j.writeUInt16(1),j.writeUInt32(12),j.writeUInt16(4),j.writeUInt16(16+8*z+2*g.length),j.writeUInt16(0),j.writeUInt16(nt),j.writeUInt16(X),j.writeUInt16(_),j.writeUInt16(vt),ot=0,C=v.length;ot<C;ot++)r=v[ot],j.writeUInt16(r);for(j.writeUInt16(0),ft=0,I=N.length;ft<I;ft++)r=N[ft],j.writeUInt16(r);for(xt=0,B=d.length;xt<B;xt++)s=d[xt],j.writeUInt16(s);for(Nt=0,$=St.length;Nt<$;Nt++)F=St[Nt],j.writeUInt16(F);for(Ot=0,J=g.length;Ot<J;Ot++)k=g[Ot],j.writeUInt16(k);return{charMap:i,subtable:j.data,maxGlyphID:V+1}}},e})(),R1=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gr(e,Ki),e.prototype.tag="cmap",e.prototype.parse=function(n){var t,i,r;for(n.pos=this.offset,this.version=n.readUInt16(),r=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)t=new P1(n,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},e.encode=function(n,t){var i,r;return t==null&&(t="macroman"),i=P1.encode(n,t),(r=new Ma).writeUInt16(0),r.writeUInt16(1),i.table=r.data.concat(i.subtable),i},e})(),F_=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gr(e,Ki),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e})(),R_=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gr(e,Ki),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=(function(){var t,i;for(i=[],t=0;t<10;++t)i.push(n.readByte());return i})(),this.charRange=(function(){var t,i;for(i=[],t=0;t<4;++t)i.push(n.readInt());return i})(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=(function(){var t,i;for(i=[],t=0;t<2;t=++t)i.push(n.readInt());return i})(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e})(),B_=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gr(e,Ki),e.prototype.tag="post",e.prototype.parse=function(n){var t,i,r;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(i=n.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],r=[];n.pos<this.offset+this.length;)t=n.readByte(),r.push(this.names.push(n.readString(t)));return r;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 262144:return this.map=(function(){var l,s,d;for(d=[],a=l=0,s=this.file.maxp.numGlyphs;0<=s?l<s:l>s;a=0<=s?++l:--l)d.push(n.readUInt32());return d}).call(this)}},e})(),z_=function(e,n){this.raw=e,this.length=e.length,this.platformID=n.platformID,this.encodingID=n.encodingID,this.languageID=n.languageID},j_=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gr(e,Ki),e.prototype.tag="name",e.prototype.parse=function(n){var t,i,r,a,l,s,d,u,f,v,_;for(n.pos=this.offset,n.readShort(),t=n.readShort(),s=n.readShort(),i=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+s+n.readShort()});for(d={},a=f=0,v=i.length;f<v;a=++f)r=i[a],n.pos=r.offset,u=n.readString(r.length),l=new z_(u,r),d[_=r.nameID]==null&&(d[_]=[]),d[r.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e})(),q_=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gr(e,Ki),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e})(),U_=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gr(e,Ki),e.prototype.tag="hmtx",e.prototype.parse=function(n){var t,i,r,a,l,s,d;for(n.pos=this.offset,this.metrics=[],t=0,s=this.file.hhea.numberOfMetrics;0<=s?t<s:t>s;t=0<=s?++t:--t)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,f;for(f=[],t=u=0;0<=r?u<r:u>r;t=0<=r?++u:--u)f.push(n.readInt16());return f})(),this.widths=(function(){var u,f,v,_;for(_=[],u=0,f=(v=this.metrics).length;u<f;u++)a=v[u],_.push(a.advance);return _}).call(this),i=this.widths[this.widths.length-1],d=[],t=l=0;0<=r?l<r:l>r;t=0<=r?++l:--l)d.push(this.widths.push(i));return d},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e})(),B1=[].slice,H_=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gr(e,Ki),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var t,i,r,a,l,s,d,u,f,v;return n in this.cache?this.cache[n]:(a=this.file.loca,t=this.file.contents,i=a.indexOf(n),(r=a.lengthOf(n))===0?this.cache[n]=null:(t.pos=this.offset+i,l=(s=new Ma(t.read(r))).readShort(),u=s.readShort(),v=s.readShort(),d=s.readShort(),f=s.readShort(),this.cache[n]=l===-1?new W_(s,u,v,d,f):new V_(s,l,u,v,d,f),this.cache[n]))},e.prototype.encode=function(n,t,i){var r,a,l,s,d;for(l=[],a=[],s=0,d=t.length;s<d;s++)r=n[t[s]],a.push(l.length),r&&(l=l.concat(r.encode(i)));return a.push(l.length),{table:l,offsets:a}},e})(),V_=(function(){function e(n,t,i,r,a,l){this.raw=n,this.numberOfContours=t,this.xMin=i,this.yMin=r,this.xMax=a,this.yMax=l,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),W_=(function(){function e(n,t,i,r,a){var l,s;for(this.raw=n,this.xMin=t,this.yMin=i,this.xMax=r,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;s=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&s;)l.pos+=1&s?4:2,128&s?l.pos+=8:64&s?l.pos+=4:8&s&&(l.pos+=2)}return e.prototype.encode=function(){var n,t,i;for(t=new Ma(B1.call(this.raw.data)),n=0,i=this.glyphIDs.length;n<i;++n)t.pos=this.glyphOffsets[n];return t.data},e})(),$_=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gr(e,Ki),e.prototype.tag="loca",e.prototype.parse=function(n){var t,i;return n.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var r,a;for(a=[],i=0,r=this.length;i<r;i+=2)a.push(2*n.readUInt16());return a}).call(this):(function(){var r,a;for(a=[],i=0,r=this.length;i<r;i+=4)a.push(n.readUInt32());return a}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,t){for(var i=new Uint32Array(this.offsets.length),r=0,a=0,l=0;l<i.length;++l)if(i[l]=r,a<t.length&&t[a]==l){++a,i[l]=r;var s=this.offsets[l],d=this.offsets[l+1]-s;d>0&&(r+=d)}for(var u=new Array(4*i.length),f=0;f<i.length;++f)u[4*f+3]=255&i[f],u[4*f+2]=(65280&i[f])>>8,u[4*f+1]=(16711680&i[f])>>16,u[4*f]=(4278190080&i[f])>>24;return u},e})(),Y_=(function(){function e(n){this.font=n,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var n,t,i,r,a;for(t in r=this.font.cmap.tables[0].codeMap,n={},a=this.subset)i=a[t],n[t]=r[i];return n},e.prototype.glyphsFor=function(n){var t,i,r,a,l,s,d;for(r={},l=0,s=n.length;l<s;l++)r[a=n[l]]=this.font.glyf.glyphFor(a);for(a in t=[],r)(i=r[a])!=null&&i.compound&&t.push.apply(t,i.glyphIDs);if(t.length>0)for(a in d=this.glyphsFor(t))i=d[a],r[a]=i;return r},e.prototype.encode=function(n,t){var i,r,a,l,s,d,u,f,v,_,g,A,k,L,M;for(r in i=R1.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(n),g={0:0},M=i.charMap)g[(d=M[r]).old]=d.new;for(A in _=i.maxGlyphID,l)A in g||(g[A]=_++);return f=(function(H){var V,F;for(V in F={},H)F[H[V]]=V;return F})(g),v=Object.keys(f).sort(function(H,V){return H-V}),k=(function(){var H,V,F;for(F=[],H=0,V=v.length;H<V;H++)s=v[H],F.push(f[s]);return F})(),a=this.font.glyf.encode(l,k,g),u=this.font.loca.encode(a.offsets,k),L={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(L["OS/2"]=this.font.os2.raw()),this.font.directory.encode(L)},e})();jt.API.PDFObject=(function(){var e;function n(){}return e=function(t,i){return(Array(i+1).join("0")+t).slice(-i)},n.convert=function(t){var i,r,a,l;if(Array.isArray(t))return"["+(function(){var s,d,u;for(u=[],s=0,d=t.length;s<d;s++)i=t[s],u.push(n.convert(i));return u})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+e(t.getUTCFullYear(),4)+e(t.getUTCMonth(),2)+e(t.getUTCDate(),2)+e(t.getUTCHours(),2)+e(t.getUTCMinutes(),2)+e(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(r in a=["<<"],t)l=t[r],a.push("/"+r+" "+n.convert(l));return a.push(">>"),a.join(`
`)}return""+t},n})();function V1(e,n,t,i,r){i=i||{};var a=1.15,l=r.internal.scaleFactor,s=r.internal.getFontSize()/l,d=r.getLineHeightFactor?r.getLineHeightFactor():a,u=s*d,f=/\r\n|\r|\n/g,v="",_=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(v=typeof e=="string"?e.split(f):e,_=v.length||1),t+=s*(2-a),i.valign==="middle"?t-=_/2*u:i.valign==="bottom"&&(t-=_*u),i.halign==="center"||i.halign==="right"){var g=s;if(i.halign==="center"&&(g*=.5),v&&_>=1){for(var A=0;A<v.length;A++)r.text(v[A],n-r.getStringUnitWidth(v[A])*g,t),t+=u;return r}n-=r.getStringUnitWidth(e)*g}return i.halign==="justify"?r.text(e,n,t,{maxWidth:i.maxWidth||100,align:"justify"}):r.text(e,n,t),r}var z1={},ls=(function(){function e(n){this.jsPDFDocument=n,this.userStyles={textColor:n.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:n.internal.getFontSize(),fontStyle:n.internal.getFont().fontStyle,font:n.internal.getFont().fontName,lineWidth:n.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:n.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(n,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=n:z1=n},e.unifyColor=function(n){return Array.isArray(n)?n:typeof n=="number"?[n,n,n]:typeof n=="string"?[n]:null},e.prototype.applyStyles=function(n,t){var i,r,a;t===void 0&&(t=!1),n.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(n.fontStyle);var l=this.jsPDFDocument.internal.getFont(),s=l.fontStyle,d=l.fontName;if(n.font&&(d=n.font),n.fontStyle){s=n.fontStyle;var u=this.getFontList()[d];u&&u.indexOf(s)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),s=u[0])}if(this.jsPDFDocument.setFont(d,s),n.fontSize&&this.jsPDFDocument.setFontSize(n.fontSize),!t){var f=e.unifyColor(n.fillColor);f&&(i=this.jsPDFDocument).setFillColor.apply(i,f),f=e.unifyColor(n.textColor),f&&(r=this.jsPDFDocument).setTextColor.apply(r,f),f=e.unifyColor(n.lineColor),f&&(a=this.jsPDFDocument).setDrawColor.apply(a,f),typeof n.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(n.lineWidth)}},e.prototype.splitTextToSize=function(n,t,i){return this.jsPDFDocument.splitTextToSize(n,t,i)},e.prototype.rect=function(n,t,i,r,a){return this.jsPDFDocument.rect(n,t,i,r,a)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(n){return this.jsPDFDocument.getTextWidth(n)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(n){this.jsPDFDocument.setPage(n)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return z1||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var n=this.jsPDFDocument.internal.pageSize;return n.width==null&&(n={width:n.getWidth(),height:n.getHeight()}),n},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var n=this.jsPDFDocument;return n.getLineHeightFactor?n.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(n){return n/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var n=this.jsPDFDocument.internal.getCurrentPageInfo();return n?n.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),Nh=function(e,n){return Nh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},Nh(e,n)};function W1(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Nh(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var $1=(function(e){W1(n,e);function n(t){var i=e.call(this)||this;return i._element=t,i}return n})(Array);function G_(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Z_(e){var n={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return n[e]}function gd(e,n,t){t.applyStyles(n,!0);var i=Array.isArray(e)?e:[e],r=i.map(function(a){return t.getTextWidth(a)}).reduce(function(a,l){return Math.max(a,l)},0);return r}function Y1(e,n,t,i){var r=n.settings.tableLineWidth,a=n.settings.tableLineColor;e.applyStyles({lineWidth:r,lineColor:a});var l=G1(r,!1);l&&e.rect(t.x,t.y,n.getWidth(e.pageSize().width),i.y-t.y,l)}function G1(e,n){var t=e>0,i=n||n===0;return t&&i?"DF":t?"S":i?"F":null}function vd(e,n){var t,i,r,a;if(e=e||n,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=n}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(t=e.left)!==null&&t!==void 0?t:n,top:(i=e.top)!==null&&i!==void 0?i:n,right:(r=e.right)!==null&&r!==void 0?r:n,bottom:(a=e.bottom)!==null&&a!==void 0?a:n}):(typeof e!="number"&&(e=n),{top:e,right:e,bottom:e,left:e})}function Z1(e,n){var t=vd(n.settings.margin,0);return e.pageSize().width-(t.left+t.right)}function X_(e,n,t,i,r){var a={},l=1.3333333333333333,s=Ch(n,function(V){return r.getComputedStyle(V).backgroundColor});s!=null&&(a.fillColor=s);var d=Ch(n,function(V){return r.getComputedStyle(V).color});d!=null&&(a.textColor=d);var u=J_(i,t);u&&(a.cellPadding=u);var f="borderTopColor",v=l*t,_=i.borderTopWidth;if(i.borderBottomWidth===_&&i.borderRightWidth===_&&i.borderLeftWidth===_){var g=(parseFloat(_)||0)/v;g&&(a.lineWidth=g)}else a.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/v,right:(parseFloat(i.borderRightWidth)||0)/v,bottom:(parseFloat(i.borderBottomWidth)||0)/v,left:(parseFloat(i.borderLeftWidth)||0)/v},a.lineWidth.top||(a.lineWidth.right?f="borderRightColor":a.lineWidth.bottom?f="borderBottomColor":a.lineWidth.left&&(f="borderLeftColor"));var A=Ch(n,function(V){return r.getComputedStyle(V)[f]});A!=null&&(a.lineColor=A);var k=["left","right","center","justify"];k.indexOf(i.textAlign)!==-1&&(a.halign=i.textAlign),k=["middle","bottom","top"],k.indexOf(i.verticalAlign)!==-1&&(a.valign=i.verticalAlign);var L=parseInt(i.fontSize||"");isNaN(L)||(a.fontSize=L/l);var M=K_(i);M&&(a.fontStyle=M);var H=(i.fontFamily||"").toLowerCase();return e.indexOf(H)!==-1&&(a.font=H),a}function K_(e){var n="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(n="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(n+="italic"),n}function Ch(e,n){var t=X1(e,n);if(!t)return null;var i=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var r=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],a=parseInt(i[4]);return a===0||isNaN(r[0])||isNaN(r[1])||isNaN(r[2])?null:r}function X1(e,n){var t=n(e);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?e.parentElement==null?null:X1(e.parentElement,n):t}function J_(e,n){var t=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],i=96/(72/n),r=(parseInt(e.lineHeight)-parseInt(e.fontSize))/n/2,a=t.map(function(s){return parseInt(s||"0")/i}),l=vd(a,0);return r>l.top&&(l.top=r),r>l.bottom&&(l.bottom=r),l}function K1(e,n,t,i,r){var a,l;i===void 0&&(i=!1),r===void 0&&(r=!1);var s;typeof n=="string"?s=t.document.querySelector(n):s=n;var d=Object.keys(e.getFontList()),u=e.scaleFactor(),f=[],v=[],_=[];if(!s)return console.error("Html table could not be found with input: ",n),{head:f,body:v,foot:_};for(var g=0;g<s.rows.length;g++){var A=s.rows[g],k=(l=(a=A?.parentElement)===null||a===void 0?void 0:a.tagName)===null||l===void 0?void 0:l.toLowerCase(),L=Q_(d,u,t,A,i,r);L&&(k==="thead"?f.push(L):k==="tfoot"?_.push(L):v.push(L))}return{head:f,body:v,foot:_}}function Q_(e,n,t,i,r,a){for(var l=new $1(i),s=0;s<i.cells.length;s++){var d=i.cells[s],u=t.getComputedStyle(d);if(r||u.display!=="none"){var f=void 0;a&&(f=X_(e,d,n,u,t)),l.push({rowSpan:d.rowSpan,colSpan:d.colSpan,styles:f,_element:d,content:tb(d)})}}var v=t.getComputedStyle(i);if(l.length>0&&(r||v.display!=="none"))return l}function tb(e){var n=e.cloneNode(!0);return n.innerHTML=n.innerHTML.replace(/\n/g,"").replace(/ +/g," "),n.innerHTML=n.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),n.innerText||n.textContent||""}function eb(e,n,t){for(var i=0,r=[e,n,t];i<r.length;i++){var a=r[i];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function Ur(e,n,t,i,r){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),l=1;l<arguments.length;l++){var s=arguments[l];if(s!=null)for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(a[d]=s[d])}return a}function J1(e,n){var t=new ls(e),i=t.getDocumentOptions(),r=t.getGlobalOptions();eb(r,i,n);var a=Ur({},r,i,n),l;typeof window<"u"&&(l=window);var s=nb(r,i,n),d=ib(r,i,n),u=rb(t,a),f=ob(t,a,l);return{id:n.tableId,content:f,hooks:d,styles:s,settings:u}}function nb(e,n,t){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},r=function(d){if(d==="columnStyles"){var u=e[d],f=n[d],v=t[d];i.columnStyles=Ur({},u,f,v)}else{var _=[e,n,t],g=_.map(function(A){return A[d]||{}});i[d]=Ur({},g[0],g[1],g[2])}},a=0,l=Object.keys(i);a<l.length;a++){var s=l[a];r(s)}return i}function ib(e,n,t){for(var i=[e,n,t],r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,l=i;a<l.length;a++){var s=l[a];s.didParseCell&&r.didParseCell.push(s.didParseCell),s.willDrawCell&&r.willDrawCell.push(s.willDrawCell),s.didDrawCell&&r.didDrawCell.push(s.didDrawCell),s.willDrawPage&&r.willDrawPage.push(s.willDrawPage),s.didDrawPage&&r.didDrawPage.push(s.didDrawPage)}return r}function rb(e,n){var t,i,r,a,l,s,d,u,f,v,_,g,A=vd(n.margin,40/e.scaleFactor()),k=(t=ab(e,n.startY))!==null&&t!==void 0?t:A.top,L;n.showFoot===!0?L="everyPage":n.showFoot===!1?L="never":L=(i=n.showFoot)!==null&&i!==void 0?i:"everyPage";var M;n.showHead===!0?M="everyPage":n.showHead===!1?M="never":M=(r=n.showHead)!==null&&r!==void 0?r:"everyPage";var H=(a=n.useCss)!==null&&a!==void 0?a:!1,V=n.theme||(H?"plain":"striped"),F=!!n.horizontalPageBreak,ut=(l=n.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(s=n.includeHiddenHtml)!==null&&s!==void 0?s:!1,useCss:H,theme:V,startY:k,margin:A,pageBreak:(d=n.pageBreak)!==null&&d!==void 0?d:"auto",rowPageBreak:(u=n.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(f=n.tableWidth)!==null&&f!==void 0?f:"auto",showHead:M,showFoot:L,tableLineWidth:(v=n.tableLineWidth)!==null&&v!==void 0?v:0,tableLineColor:(_=n.tableLineColor)!==null&&_!==void 0?_:200,horizontalPageBreak:F,horizontalPageBreakRepeat:ut,horizontalPageBreakBehaviour:(g=n.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function ab(e,n){var t=e.getLastAutoTable(),i=e.scaleFactor(),r=e.pageNumber(),a=!1;if(t&&t.startPageNumber){var l=t.startPageNumber+t.pageNumber-1;a=l===r}return typeof n=="number"?n:(n==null||n===!1)&&a&&t?.finalY!=null?t.finalY+20/i:null}function ob(e,n,t){var i=n.head||[],r=n.body||[],a=n.foot||[];if(n.html){var l=n.includeHiddenHtml;if(t){var s=K1(e,n.html,t,l,n.useCss)||{};i=s.head||i,r=s.body||i,a=s.foot||i}else console.error("Cannot parse html in non browser environment")}var d=n.columns||sb(i,r,a);return{columns:d,head:i,body:r,foot:a}}function sb(e,n,t){var i=e[0]||n[0]||t[0]||[],r=[];return Object.keys(i).filter(function(a){return a!=="_element"}).forEach(function(a){var l=1,s;Array.isArray(i)?s=i[parseInt(a)]:s=i[a],typeof s=="object"&&!Array.isArray(s)&&(l=s?.colSpan||1);for(var d=0;d<l;d++){var u=void 0;Array.isArray(i)?u=r.length:u=a+(d>0?"_".concat(d):"");var f={dataKey:u};r.push(f)}}),r}var kh=(function(){function e(n,t,i){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=i,this.doc=n.getDocument()}return e})(),lb=(function(e){W1(n,e);function n(t,i,r,a,l,s){var d=e.call(this,t,i,s)||this;return d.cell=r,d.row=a,d.column=l,d.section=a.section,d}return n})(kh),cb=(function(){function e(n,t){this.pageNumber=1,this.id=n.id,this.settings=n.settings,this.styles=n.styles,this.hooks=n.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return e.prototype.getHeadHeight=function(n){return this.head.reduce(function(t,i){return t+i.getMaxCellHeight(n)},0)},e.prototype.getFootHeight=function(n){return this.foot.reduce(function(t,i){return t+i.getMaxCellHeight(n)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(n,t,i,r,a,l){for(var s=0,d=t;s<d.length;s++){var u=d[s],f=new lb(n,this,i,r,a,l),v=u(f)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],v)return!1}return!0},e.prototype.callEndPageHooks=function(n,t){n.applyStyles(n.userStyles);for(var i=0,r=this.hooks.didDrawPage;i<r.length;i++){var a=r[i];a(new kh(n,this,t))}},e.prototype.callWillDrawPageHooks=function(n,t){for(var i=0,r=this.hooks.willDrawPage;i<r.length;i++){var a=r[i];a(new kh(n,this,t))}},e.prototype.getWidth=function(n){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(r,a){return r+a.wrappedWidth},0);return t}else{var i=this.settings.margin;return n-i.left-i.right}},e})(),Q1=(function(){function e(n,t,i,r,a){a===void 0&&(a=!1),this.height=0,this.raw=n,n instanceof $1&&(this.raw=n._element,this.element=n._element),this.index=t,this.section=i,this.cells=r,this.spansMultiplePages=a}return e.prototype.getMaxCellHeight=function(n){var t=this;return n.reduce(function(i,r){var a;return Math.max(i,((a=t.cells[r.index])===null||a===void 0?void 0:a.height)||0)},0)},e.prototype.hasRowSpan=function(n){var t=this;return n.filter(function(i){var r=t.cells[i.index];return r?r.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(n,t){return this.getMaxCellHeight(t)<=n},e.prototype.getMinimumRowHeight=function(n,t){var i=this;return n.reduce(function(r,a){var l=i.cells[a.index];if(!l)return 0;var s=t.getLineHeight(l.styles.fontSize),d=l.padding("vertical"),u=d+s;return u>r?u:r},0)},e})(),tg=(function(){function e(n,t,i){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=i,this.raw=n;var a=n;n!=null&&typeof n=="object"&&!Array.isArray(n)?(this.rowSpan=n.rowSpan||1,this.colSpan=n.colSpan||1,a=(r=n.content)!==null&&r!==void 0?r:n,n._element&&(this.raw=n._element)):(this.rowSpan=1,this.colSpan=1);var l=a!=null?""+a:"",s=/\r\n|\r|\n/g;this.text=l.split(s)}return e.prototype.getTextPos=function(){var n;if(this.styles.valign==="top")n=this.y+this.padding("top");else if(this.styles.valign==="bottom")n=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");n=this.y+t/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var r=this.width-this.padding("horizontal");i=this.x+r/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:n}},e.prototype.getContentHeight=function(n,t){t===void 0&&(t=1.15);var i=Array.isArray(this.text)?this.text.length:1,r=this.styles.fontSize/n*t,a=i*r+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},e.prototype.padding=function(n){var t=vd(this.styles.cellPadding,0);return n==="vertical"?t.top+t.bottom:n==="horizontal"?t.left+t.right:t[n]},e})(),db=(function(){function e(n,t,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=n,this.raw=t,this.index=i}return e.prototype.getMaxCustomCellWidth=function(n){for(var t=0,i=0,r=n.allRows();i<r.length;i++){var a=r[i],l=a.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(t=Math.max(t,l.styles.cellWidth))}return t},e})();function ub(e,n){hb(e,n);var t=[],i=0;n.columns.forEach(function(a){var l=a.getMaxCustomCellWidth(n);l?a.width=l:(a.width=a.wrappedWidth,t.push(a)),i+=a.width});var r=n.getWidth(e.pageSize().width)-i;r&&(r=Lh(t,r,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),r&&(r=Lh(t,r,function(a){return a.minWidth})),r=Math.abs(r),!n.settings.horizontalPageBreak&&r>.1/e.scaleFactor()&&(r=r<1?r:Math.round(r),console.warn("Of the table content, ".concat(r," units width could not fit page"))),pb(n),gb(n,e),fb(n)}function hb(e,n){var t=e.scaleFactor(),i=n.settings.horizontalPageBreak,r=Z1(e,n);n.allRows().forEach(function(a){for(var l=0,s=n.columns;l<s.length;l++){var d=s[l],u=a.cells[d.index];if(u){var f=n.hooks.didParseCell;n.callCellHooks(e,f,u,a,d,null);var v=u.padding("horizontal");u.contentWidth=gd(u.text,u.styles,e)+v;var _=gd(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=_+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||i===!0)u.contentWidth>r?(u.minWidth=r,u.wrappedWidth=r):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var g=10/t;u.minWidth=u.styles.minCellWidth||g,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),n.allRows().forEach(function(a){for(var l=0,s=n.columns;l<s.length;l++){var d=s[l],u=a.cells[d.index];if(u&&u.colSpan===1)d.wrappedWidth=Math.max(d.wrappedWidth,u.wrappedWidth),d.minWidth=Math.max(d.minWidth,u.minWidth),d.minReadableWidth=Math.max(d.minReadableWidth,u.minReadableWidth);else{var f=n.styles.columnStyles[d.dataKey]||n.styles.columnStyles[d.index]||{},v=f.cellWidth||f.minCellWidth;v&&typeof v=="number"&&(d.minWidth=v,d.wrappedWidth=v)}u&&(u.colSpan>1&&!d.minWidth&&(d.minWidth=u.minWidth),u.colSpan>1&&!d.wrappedWidth&&(d.wrappedWidth=u.minWidth))}})}function Lh(e,n,t){for(var i=n,r=e.reduce(function(g,A){return g+A.wrappedWidth},0),a=0;a<e.length;a++){var l=e[a],s=l.wrappedWidth/r,d=i*s,u=l.width+d,f=t(l),v=u<f?f:u;n-=v-l.width,l.width=v}if(n=Math.round(n*1e10)/1e10,n){var _=e.filter(function(g){return n<0?g.width>t(g):!0});_.length&&(n=Lh(_,n,t))}return n}function fb(e){for(var n={},t=1,i=e.allRows(),r=0;r<i.length;r++)for(var a=i[r],l=0,s=e.columns;l<s.length;l++){var d=s[l],u=n[d.index];if(t>1)t--,delete a.cells[d.index];else if(u)u.cell.height+=a.height,t=u.cell.colSpan,delete a.cells[d.index],u.left--,u.left<=1&&delete n[d.index];else{var f=a.cells[d.index];if(!f)continue;if(f.height=a.height,f.rowSpan>1){var v=i.length-r,_=f.rowSpan>v?v:f.rowSpan;n[d.index]={cell:f,left:_,row:a}}}}}function pb(e){for(var n=e.allRows(),t=0;t<n.length;t++)for(var i=n[t],r=null,a=0,l=0,s=0;s<e.columns.length;s++){var d=e.columns[s];if(l-=1,l>1&&e.columns[s+1])a+=d.width,delete i.cells[d.index];else if(r){var u=r;delete i.cells[d.index],r=null,u.width=d.width+a}else{var u=i.cells[d.index];if(!u)continue;if(l=u.colSpan,a=0,u.colSpan>1){r=u,a+=d.width;continue}u.width=d.width+a}}}function gb(e,n){for(var t={count:0,height:0},i=0,r=e.allRows();i<r.length;i++){for(var a=r[i],l=0,s=e.columns;l<s.length;l++){var d=s[l],u=a.cells[d.index];if(u){n.applyStyles(u.styles,!0);var f=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=n.splitTextToSize(u.text,f+1/n.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=j1(u.text,f,u.styles,n,"...");else if(u.styles.overflow==="hidden")u.text=j1(u.text,f,u.styles,n,"");else if(typeof u.styles.overflow=="function"){var v=u.styles.overflow(u.text,f);typeof v=="string"?u.text=[v]:u.text=v}u.contentHeight=u.getContentHeight(n.scaleFactor(),n.getLineHeightFactor());var _=u.contentHeight/u.rowSpan;u.rowSpan>1&&t.count*t.height<_*u.rowSpan?t={height:_,count:u.rowSpan}:t&&t.count>0&&t.height>_&&(_=t.height),_>a.height&&(a.height=_)}}t.count--}}function j1(e,n,t,i,r){return e.map(function(a){return mb(a,n,t,i,r)})}function mb(e,n,t,i,r){var a=1e4*i.scaleFactor();if(n=Math.ceil(n*a)/a,n>=gd(e,t,i))return e;for(;n<gd(e+r,t,i)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+r}function eg(e,n){var t=new ls(e),i=vb(n,t.scaleFactor()),r=new cb(n,i);return ub(t,r),t.applyStyles(t.userStyles),r}function vb(e,n){var t=e.content,i=bb(t.columns);if(t.head.length===0){var r=q1(i,"head");r&&t.head.push(r)}if(t.foot.length===0){var r=q1(i,"foot");r&&t.foot.push(r)}var a=e.settings.theme,l=e.styles;return{columns:i,head:Sh("head",t.head,i,l,a,n),body:Sh("body",t.body,i,l,a,n),foot:Sh("foot",t.foot,i,l,a,n)}}function Sh(e,n,t,i,r,a){var l={},s=n.map(function(d,u){for(var f=0,v={},_=0,g=0,A=0,k=t;A<k.length;A++){var L=k[A];if(l[L.index]==null||l[L.index].left===0)if(g===0){var M=void 0;Array.isArray(d)?M=d[L.index-_-f]:M=d[L.dataKey];var H={};typeof M=="object"&&!Array.isArray(M)&&(H=M?.styles||{});var V=yb(e,L,u,r,i,a,H),F=new tg(M,V,e);v[L.dataKey]=F,v[L.index]=F,g=F.colSpan-1,l[L.index]={left:F.rowSpan-1,times:g}}else g--,_++;else l[L.index].left--,g=l[L.index].times,f++}return new Q1(d,u,e,v)});return s}function q1(e,n){var t={};return e.forEach(function(i){if(i.raw!=null){var r=_b(n,i.raw);r!=null&&(t[i.dataKey]=r)}}),Object.keys(t).length>0?t:null}function _b(e,n){if(e==="head"){if(typeof n=="object")return n.header||null;if(typeof n=="string"||typeof n=="number")return n}else if(e==="foot"&&typeof n=="object")return n.footer;return null}function bb(e){return e.map(function(n,t){var i,r;return typeof n=="object"?r=(i=n.dataKey)!==null&&i!==void 0?i:t:r=t,new db(r,n,t)})}function yb(e,n,t,i,r,a,l){var s=Z_(i),d;e==="head"?d=r.headStyles:e==="body"?d=r.bodyStyles:e==="foot"&&(d=r.footStyles);var u=Ur({},s.table,s[e],r.styles,d),f=r.columnStyles[n.dataKey]||r.columnStyles[n.index]||{},v=e==="body"?f:{},_=e==="body"&&t%2===0?Ur({},s.alternateRow,r.alternateRowStyles):{},g=G_(a),A=Ur({},g,u,_,v);return Ur(A,l)}function wb(e,n,t){var i;t===void 0&&(t={});var r=Z1(e,n),a=new Map,l=[],s=[],d=[];Array.isArray(n.settings.horizontalPageBreakRepeat)?d=n.settings.horizontalPageBreakRepeat:(typeof n.settings.horizontalPageBreakRepeat=="string"||typeof n.settings.horizontalPageBreakRepeat=="number")&&(d=[n.settings.horizontalPageBreakRepeat]),d.forEach(function(_){var g=n.columns.find(function(A){return A.dataKey===_||A.index===_});g&&!a.has(g.index)&&(a.set(g.index,!0),l.push(g.index),s.push(n.columns[g.index]),r-=g.wrappedWidth)});for(var u=!0,f=(i=t?.start)!==null&&i!==void 0?i:0;f<n.columns.length;){if(a.has(f)){f++;continue}var v=n.columns[f].wrappedWidth;if(u||r>=v)u=!1,l.push(f),s.push(n.columns[f]),r-=v;else break;f++}return{colIndexes:l,columns:s,lastIndex:f-1}}function xb(e,n){for(var t=[],i=0;i<n.columns.length;i++){var r=wb(e,n,{start:i});r.columns.length&&(t.push(r),i=r.lastIndex)}return t}function ng(e,n){var t=n.settings,i=t.startY,r=t.margin,a={x:r.left,y:i},l=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns),s=i+r.bottom+l;if(t.pageBreak==="avoid"){var d=n.body,u=d.reduce(function(_,g){return _+g.height},0);s+=u}var f=new ls(e);(t.pageBreak==="always"||t.startY!=null&&s>f.pageSize().height)&&(rg(f),a.y=r.top),n.callWillDrawPageHooks(f,a);var v=Ur({},a);n.startPageNumber=f.pageNumber(),t.horizontalPageBreak?Cb(f,n,v,a):(f.applyStyles(f.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&n.head.forEach(function(_){return Hr(f,n,_,a,n.columns)}),f.applyStyles(f.userStyles),n.body.forEach(function(_,g){var A=g===n.body.length-1;md(f,n,_,A,v,a,n.columns)}),f.applyStyles(f.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&n.foot.forEach(function(_){return Hr(f,n,_,a,n.columns)})),Y1(f,n,v,a),n.callEndPageHooks(f,a),n.finalY=a.y,e.lastAutoTable=n,f.applyStyles(f.userStyles)}function Cb(e,n,t,i){var r=xb(e,n),a=n.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")r.forEach(function(u,f){e.applyStyles(e.userStyles),f>0?vl(e,n,t,i,u.columns,!0):U1(e,n,i,u.columns),Sb(e,n,t,i,u.columns),Ph(e,n,i,u.columns)});else for(var l=-1,s=r[0],d=function(){var u=l;if(s){e.applyStyles(e.userStyles);var f=s.columns;l>=0?vl(e,n,t,i,f,!0):U1(e,n,i,f),u=H1(e,n,l+1,i,f),Ph(e,n,i,f)}var v=u-l;r.slice(1).forEach(function(_){e.applyStyles(e.userStyles),vl(e,n,t,i,_.columns,!0),H1(e,n,l+1,i,_.columns,v),Ph(e,n,i,_.columns)}),l=u};l<n.body.length-1;)d()}function U1(e,n,t,i){var r=n.settings;e.applyStyles(e.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&n.head.forEach(function(a){return Hr(e,n,a,t,i)})}function Sb(e,n,t,i,r){e.applyStyles(e.userStyles),n.body.forEach(function(a,l){var s=l===n.body.length-1;md(e,n,a,s,t,i,r)})}function H1(e,n,t,i,r,a){e.applyStyles(e.userStyles),a=a??n.body.length;var l=Math.min(t+a,n.body.length),s=-1;return n.body.slice(t,l).forEach(function(d,u){var f=t+u===n.body.length-1,v=ig(e,n,f,i);d.canEntireRowFit(v,r)&&(Hr(e,n,d,i,r),s=t+u)}),s}function Ph(e,n,t,i){var r=n.settings;e.applyStyles(e.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&n.foot.forEach(function(a){return Hr(e,n,a,t,i)})}function Pb(e,n,t){var i=t.getLineHeight(e.styles.fontSize),r=e.padding("vertical"),a=Math.floor((n-r)/i);return Math.max(0,a)}function Mb(e,n,t,i){var r={};e.spansMultiplePages=!0,e.height=0;for(var a=0,l=0,s=t.columns;l<s.length;l++){var d=s[l],u=e.cells[d.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var f=new tg(u.raw,u.styles,u.section);f=Ur(f,u),f.text=[];var v=Pb(u,n,i);u.text.length>v&&(f.text=u.text.splice(v,u.text.length));var _=i.scaleFactor(),g=i.getLineHeightFactor();u.contentHeight=u.getContentHeight(_,g),u.contentHeight>=n&&(u.contentHeight=n,f.styles.minCellHeight-=n),u.contentHeight>e.height&&(e.height=u.contentHeight),f.contentHeight=f.getContentHeight(_,g),f.contentHeight>a&&(a=f.contentHeight),r[d.index]=f}}var A=new Q1(e.raw,-1,e.section,r,!0);A.height=a;for(var k=0,L=t.columns;k<L.length;k++){var d=L[k],f=A.cells[d.index];f&&(f.height=A.height);var u=e.cells[d.index];u&&(u.height=e.height)}return A}function Ab(e,n,t,i){var r=e.pageSize().height,a=i.settings.margin,l=a.top+a.bottom,s=r-l;n.section==="body"&&(s-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var d=n.getMinimumRowHeight(i.columns,e),u=d<t;if(d>s)return console.error("Will not be able to print row ".concat(n.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var f=n.hasRowSpan(i.columns),v=n.getMaxCellHeight(i.columns)>s;return v?(f&&console.error("The content of row ".concat(n.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||i.settings.rowPageBreak==="avoid")}function md(e,n,t,i,r,a,l){var s=ig(e,n,i,a);if(t.canEntireRowFit(s,l))Hr(e,n,t,a,l);else if(Ab(e,t,s,n)){var d=Mb(t,s,n,e);Hr(e,n,t,a,l),vl(e,n,r,a,l),md(e,n,d,i,r,a,l)}else vl(e,n,r,a,l),md(e,n,t,i,r,a,l)}function Hr(e,n,t,i,r){i.x=n.settings.margin.left;for(var a=0,l=r;a<l.length;a++){var s=l[a],d=t.cells[s.index];if(!d){i.x+=s.width;continue}e.applyStyles(d.styles),d.x=i.x,d.y=i.y;var u=n.callCellHooks(e,n.hooks.willDrawCell,d,t,s,i);if(u===!1){i.x+=s.width;continue}Db(e,d,i);var f=d.getTextPos();V1(d.text,f.x,f.y,{halign:d.styles.halign,valign:d.styles.valign,maxWidth:Math.ceil(d.width-d.padding("left")-d.padding("right"))},e.getDocument()),n.callCellHooks(e,n.hooks.didDrawCell,d,t,s,i),i.x+=s.width}i.y+=t.height}function Db(e,n,t){var i=n.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof i.lineWidth=="number"){var r=G1(i.lineWidth,i.fillColor);r&&e.rect(n.x,t.y,n.width,n.height,r)}else typeof i.lineWidth=="object"&&(i.fillColor&&e.rect(n.x,t.y,n.width,n.height,"F"),Nb(e,n,t,i.lineWidth))}function Nb(e,n,t,i){var r,a,l,s;i.top&&(r=t.x,a=t.y,l=t.x+n.width,s=t.y,i.right&&(l+=.5*i.right),i.left&&(r-=.5*i.left),d(i.top,r,a,l,s)),i.bottom&&(r=t.x,a=t.y+n.height,l=t.x+n.width,s=t.y+n.height,i.right&&(l+=.5*i.right),i.left&&(r-=.5*i.left),d(i.bottom,r,a,l,s)),i.left&&(r=t.x,a=t.y,l=t.x,s=t.y+n.height,i.top&&(a-=.5*i.top),i.bottom&&(s+=.5*i.bottom),d(i.left,r,a,l,s)),i.right&&(r=t.x+n.width,a=t.y,l=t.x+n.width,s=t.y+n.height,i.top&&(a-=.5*i.top),i.bottom&&(s+=.5*i.bottom),d(i.right,r,a,l,s));function d(u,f,v,_,g){e.getDocument().setLineWidth(u),e.getDocument().line(f,v,_,g,"S")}}function ig(e,n,t,i){var r=n.settings.margin.bottom,a=n.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&t)&&(r+=n.getFootHeight(n.columns)),e.pageSize().height-i.y-r}function vl(e,n,t,i,r,a){r===void 0&&(r=[]),a===void 0&&(a=!1),e.applyStyles(e.userStyles),n.settings.showFoot==="everyPage"&&!a&&n.foot.forEach(function(s){return Hr(e,n,s,i,r)}),n.callEndPageHooks(e,i);var l=n.settings.margin;Y1(e,n,t,i),rg(e),n.pageNumber++,i.x=l.left,i.y=l.top,t.y=l.top,n.callWillDrawPageHooks(e,i),n.settings.showHead==="everyPage"&&(n.head.forEach(function(s){return Hr(e,n,s,i,r)}),e.applyStyles(e.userStyles))}function rg(e){var n=e.pageNumber();e.setPage(n+1);var t=e.pageNumber();return t===n?(e.addPage(),!0):!1}function kb(e){e.API.autoTable=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var i=n[0],r=J1(this,i),a=eg(this,r);return ng(this,a),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(n,t,i,r){V1(n,t,i,r,this)},e.API.autoTableSetDefaults=function(n){return ls.setDefaults(n,this),this},e.autoTableSetDefaults=function(n,t){ls.setDefaults(n,t)},e.API.autoTableHtmlToJson=function(n,t){var i;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var r=new ls(this),a=K1(r,n,window,t,!1),l=a.head,s=a.body,d=((i=l[0])===null||i===void 0?void 0:i.map(function(u){return u.content}))||[];return{columns:d,rows:s,data:s}}}var Mh;function _l(e,n){var t=J1(e,n),i=eg(e,t);ng(e,i)}try{typeof window<"u"&&window&&(Ah=window,Dh=Ah.jsPDF||((Mh=Ah.jspdf)===null||Mh===void 0?void 0:Mh.jsPDF),Dh&&kb(Dh))}catch(e){console.error("Could not apply autoTable plugin",e)}var Ah,Dh;var cs=class e{formatDateForFile(n){let t=new Date(n);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}formatDateShort(n){let t=new Date(n);return`${t.toLocaleString("en-US",{month:"short"})}, ${t.getDate()}`}formatDateDisplay(n,t="en-US",i){let r={month:"short",day:"numeric",year:"numeric"};return new Date(n).toLocaleDateString(t,i||r)}addCenteredHeader(n,t,i,r=16){let a=n.internal.pageSize.getWidth();n.setFontSize(r),n.setFont("helvetica","bold"),n.text(t,a/2,i,{align:"center"}),n.setFont("helvetica","normal")}addSubtitle(n,t,i,r=12){let a=n.internal.pageSize.getWidth();n.setFontSize(r),n.text(t,a/2,i,{align:"center"})}addCustomerDetails(n,t,i){n.setFontSize(11);let r=i;return n.text(`Customer: ${t.name_en}`,15,r),r+=7,n.text(`Village: ${t.village}`,15,r),r+=7,n.text(`Customer No: ${t.custNo}`,15,r),r+=7,r}addBillingPeriod(n,t,i,r){n.setFontSize(11);let a=`Period: ${this.formatDateDisplay(t)} - ${this.formatDateDisplay(i)}`;return n.text(a,15,r),r+7}addPaymentSummary(n,t,i){n.setFontSize(12),n.setFont("helvetica","bold"),n.text("Payment Summary",15,i),n.setFontSize(10),n.setFont("helvetica","normal");let r=i+8;n.text(`Billed Amount: \u20B9${t.billedAmount.toFixed(2)}`,15,r),r+=7,n.text(`Previous Due: \u20B9${t.prevDueAmount.toFixed(2)}`,15,r),r+=7,n.text(`Paid Amount: \u20B9${t.paidAmount.toFixed(2)}`,15,r),r+=7,n.setFont("helvetica","bold"),n.text(`Due Amount: \u20B9${t.dueAmount.toFixed(2)}`,15,r)}pdfToBlob(n){return n.output("blob")}createPdfFile(n,t){let i=this.pdfToBlob(n);return new File([i],t,{type:"application/pdf"})}downloadPdf(n,t){n.save(t)}generateWhatsAppMessage(n,t,i){let r=this.formatDateDisplay(t.start,"en-US",{month:"short",day:"numeric"}),a=this.formatDateDisplay(t.end,"en-US",{month:"short",day:"numeric"});return`Dear ${n.name_en},

Your milk collection billing statement for the period ${r} - ${a} is attached.

*Summary:*
Total Amount: \u20B9${i.totalAmount.toFixed(2)}
Previous Due: \u20B9${i.prevDueAmount.toFixed(2)}
Paid: \u20B9${i.paidAmount.toFixed(2)}
Due Amount: \u20B9${i.dueAmount.toFixed(2)}

Thank you for your business!`}formatPhoneForWhatsApp(n){let t=n.replace(/\D/g,"");return!t.startsWith("91")&&t.length===10&&(t="91"+t),t}static \u0275fac=function(t){return new(t||e)};static \u0275prov=oi({token:e,factory:e.\u0275fac,providedIn:"root"})};var ds=class e{constructor(n){this.pdfUtils=n}exportAsJson(n,t,i){if(!n||n.records.length===0)return;let r=[...n.records].sort((v,_)=>new Date(v.day).getTime()-new Date(_.day).getTime()),a=new Map;t.forEach(v=>a.set(v.custNo,v));let l={billingPeriod:{start:this.pdfUtils.formatDateForFile(n.tenDayStart),end:r.length>0?this.pdfUtils.formatDateForFile(r[r.length-1].day):this.pdfUtils.formatDateForFile(n.tenDayStart)},data:t.map(v=>({custNo:v.custNo,name_en:v.name_en,name_tel:v.name_tel,village:v.village,records:r.map(_=>{let g=_.quantities.find(k=>k.custNo===v.custNo),A={date:this.pdfUtils.formatDateForFile(_.day)};return g&&((i==="AM"||i==="AM-PM")&&(A.AM={qty:g.AM.qty>0?g.AM.qty:null,fat:g.AM.fat>0?g.AM.fat:null,amount:g.AM.amount||null}),(i==="PM"||i==="AM-PM")&&(A.PM={qty:g.PM.qty>0?g.PM.qty:null,fat:g.PM.fat>0?g.PM.fat:null,amount:g.PM.amount||null})),A})}))},s=JSON.stringify(l,null,2),d=this.pdfUtils.formatDateForFile(n.tenDayStart),u=r.length>0?this.pdfUtils.formatDateForFile(r[r.length-1].day):d,f=`ledger_${d}_to_${u}.json`;this.downloadFile(s,f,"application/json")}exportAsPdf(n,t,i){if(!n||n.records.length===0)return;let r=new jt({orientation:"portrait",unit:"mm",format:"a4"}),a=[...n.records].sort((S,N)=>new Date(S.day).getTime()-new Date(N.day).getTime()),l=this.pdfUtils.formatDateShort(n.tenDayStart),s=a.length>0?this.pdfUtils.formatDateShort(a[a.length-1].day):l;this.pdfUtils.addSubtitle(r,`Ledger for Billing Period: ${l} - ${s}`,20);let d=a.slice(0,5),u=a.slice(5,10);function f(S,N){let q=[{content:"No",rowSpan:3,styles:{halign:"center",valign:"middle"}},{content:"Name",rowSpan:3,styles:{halign:"center",valign:"middle"}}],j=[],it=[];return S.forEach(lt=>{let st=r?lt.day.toLocaleDateString("en-IN",{month:"short",day:"numeric"}):"",K=0;(N==="AM"||N==="AM-PM")&&(K+=2),(N==="PM"||N==="AM-PM")&&(K+=2),q.push({content:st,colSpan:K,styles:{halign:"center",valign:"middle"}}),(N==="AM"||N==="AM-PM")&&j.push({content:"AM",colSpan:2,styles:{halign:"center",valign:"middle"}}),(N==="PM"||N==="AM-PM")&&j.push({content:"PM",colSpan:2,styles:{halign:"center",valign:"middle"}});let ct=N==="AM-PM"?2:1;for(let wt=0;wt<ct;wt++)it.push({content:"Q",styles:{halign:"center"}},{content:"F",styles:{halign:"center"}})}),[q,j,it]}function v(S,N,q){let j=[];return S.forEach(it=>{let lt=[it.custNo.toString(),it.name_en];N.forEach(st=>{let K=st.quantities.find(ct=>ct.custNo===it.custNo);if(K){if(q==="AM"||q==="AM-PM"){let ct=K.AM.qty>0?Number(K.AM.qty).toFixed(2):"",wt=K.AM.fat>0?Number(K.AM.fat).toFixed(1):"";lt.push(ct),lt.push(wt)}if(q==="PM"||q==="AM-PM"){let ct=K.PM.qty>0?Number(K.PM.qty).toFixed(2):"",wt=K.PM.fat>0?Number(K.PM.fat).toFixed(1):"";lt.push(ct),lt.push(wt)}}else{let ct=q==="AM-PM"?4:2;for(let wt=0;wt<ct;wt++)lt.push("")}}),j.push(lt)}),j}function _(S,N,q){let j=[];j.push("Totals"),N.forEach(wt=>{if(q==="AM"||q==="AM-PM"){let bt=0;wt.quantities.forEach(C=>{C.AM.qty>0&&(bt+=C.AM.qty)}),j.push(bt>0?Number(bt).toFixed(2):""),j.push("")}if(q==="PM"||q==="AM-PM"){let bt=0,C=0,I=0;wt.quantities.forEach(B=>{B.PM.qty>0&&(bt+=B.PM.qty)}),j.push(bt>0?Number(bt).toFixed(2):""),j.push("")}});let it=0,lt=0,st=0,K=0,ct=0;return n&&n.custBills&&n.custBills.forEach(wt=>{it+=wt.totalQty||0,lt+=wt.amount||0,st+=wt.prevDueAmt||0,K+=wt.paidAmt||0,ct+=wt.dueAmt||0}),j.push(it>0?Number(it).toFixed(2):"",lt>0?lt.toFixed(2):"",st!==0?st.toFixed(2):"",K>0?K.toFixed(2):"",ct!==0?ct.toFixed(2):""),j}let[g,A,k]=f(d,i),L=v(t,d,i);_l(r,{head:[g,A,k],body:L,startY:28,styles:{fontSize:6,cellPadding:1,overflow:"linebreak",halign:"center",minCellHeight:5,lineColor:[200,200,200],lineWidth:.1},headStyles:{fillColor:[176,196,222],textColor:[50,50,50],fontStyle:"bold",halign:"center",valign:"middle",fontSize:4,minCellHeight:3,lineColor:[150,150,150],lineWidth:.1},alternateRowStyles:{fillColor:[240,245,255]},columnStyles:{0:{halign:"center",cellWidth:10},1:{halign:"left",cellWidth:32},2:{cellWidth:8},3:{cellWidth:8},4:{cellWidth:8},5:{cellWidth:8},6:{cellWidth:8},7:{cellWidth:8},8:{cellWidth:8},9:{cellWidth:8}},margin:{top:28,left:5,right:5},theme:"grid",tableWidth:"auto"}),r.addPage("a4","portrait"),this.pdfUtils.addSubtitle(r,`Ledger for Billing Period: ${l} - ${s}`,20);function M(S,N){let q=[{content:"No",rowSpan:3,styles:{halign:"center",valign:"middle"}}],j=[],it=[];return S.forEach(lt=>{let st=r?lt.day.toLocaleDateString("en-IN",{month:"short",day:"numeric"}):"",K=0;(N==="AM"||N==="AM-PM")&&(K+=2),(N==="PM"||N==="AM-PM")&&(K+=2),q.push({content:st,colSpan:K,styles:{halign:"center",valign:"middle"}}),(N==="AM"||N==="AM-PM")&&j.push({content:"AM",colSpan:2,styles:{halign:"center",valign:"middle"}}),(N==="PM"||N==="AM-PM")&&j.push({content:"PM",colSpan:2,styles:{halign:"center",valign:"middle"}});let ct=N==="AM-PM"?2:1;for(let wt=0;wt<ct;wt++)it.push({content:"Q",styles:{halign:"center"}},{content:"F",styles:{halign:"center"}})}),q.push({content:"Billed",colSpan:5,styles:{halign:"center",valign:"middle"}}),j.push({content:"Qty",styles:{halign:"center",valign:"middle"}},{content:"Amount",styles:{halign:"center",valign:"middle"}},{content:"Prev",styles:{halign:"center",valign:"middle"}},{content:"Paid",styles:{halign:"center",valign:"middle"}},{content:"Due",styles:{halign:"center",valign:"middle"}}),[q,j,it]}function H(S,N,q){let j=[];return S.forEach(it=>{let lt=[it.custNo.toString()];N.forEach(K=>{let ct=K.quantities.find(wt=>wt.custNo===it.custNo);if(ct){if(q==="AM"||q==="AM-PM"){let wt=ct.AM.qty>0?Number(ct.AM.qty).toFixed(2):"",bt=ct.AM.fat>0?Number(ct.AM.fat).toFixed(1):"";lt.push(wt),lt.push(bt)}if(q==="PM"||q==="AM-PM"){let wt=ct.PM.qty>0?Number(ct.PM.qty).toFixed(2):"",bt=ct.PM.fat>0?Number(ct.PM.fat).toFixed(1):"";lt.push(wt),lt.push(bt)}}else{let wt=q==="AM-PM"?4:2;for(let bt=0;bt<wt;bt++)lt.push("")}});let st;n&&n.custBills&&(st=n.custBills.find(K=>K.custNo===it.custNo)),lt.push(st&&st.totalQty>0?Number(st.totalQty).toFixed(2):"",st&&st.amount>0?st.amount.toFixed(2):"",st&&st.prevDueAmt!==void 0?st.prevDueAmt.toFixed(2):"",st&&st.paidAmt>0?st.paidAmt.toFixed(2):"",st&&st.dueAmt!==void 0?st.dueAmt.toFixed(2):""),j.push(lt)}),j}let[V,F,ut]=M(u,i),St=H(t,u,i),vt=_(t,u,i);St.push(vt),_l(r,{head:[V,F,ut],body:St,startY:28,styles:{fontSize:6,cellPadding:1,overflow:"linebreak",halign:"center",minCellHeight:5,lineColor:[200,200,200],lineWidth:.1},headStyles:{fillColor:[176,196,222],textColor:[50,50,50],fontStyle:"bold",halign:"center",valign:"middle",fontSize:4,minCellHeight:3,lineColor:[150,150,150],lineWidth:.1},alternateRowStyles:{fillColor:[240,245,255]},columnStyles:{0:{halign:"center",cellWidth:10},1:{cellWidth:8},2:{cellWidth:8},3:{cellWidth:8},4:{cellWidth:8},5:{cellWidth:8},6:{cellWidth:8},7:{cellWidth:8},8:{cellWidth:8},9:{cellWidth:8}},margin:{top:28,left:5,right:5},theme:"grid",tableWidth:"auto"});let X=this.pdfUtils.formatDateForFile(n.tenDayStart),z=a.length>0?this.pdfUtils.formatDateForFile(a[a.length-1].day):X,nt=`ledger_${X}_to_${z}.pdf`;this.pdfUtils.downloadPdf(r,nt)}downloadFile(n,t,i){let r=new Blob([n],{type:i}),a=window.URL.createObjectURL(r),l=document.createElement("a");l.href=a,l.download=t,l.click(),window.URL.revokeObjectURL(a)}static \u0275fac=function(t){return new(t||e)(Ja(cs))};static \u0275prov=oi({token:e,factory:e.\u0275fac,providedIn:"root"})};var Lb=["tableWrapper"],Eb=()=>({width:"auto"}),Ob=()=>({width:"500px"}),sg=()=>({"margin-right":"1rem"}),lg=()=>({"margin-left":"1rem"}),Tb=(e,n)=>n.tenDayStart;function Ib(e,n){if(e&1){let t=Ee();Z(0,"p-button",21),ee("onClick",function(){Jt(t);let r=dt();return Qt(r.exportToJSON())}),G()}e&2&&At("outlined",!0)}function Fb(e,n){if(e&1){let t=Ee();Z(0,"p-button",22),ee("onClick",function(){Jt(t);let r=dt();return Qt(r.fillMockDataForSession())}),G()}e&2&&At("outlined",!0)}function Rb(e,n){if(e&1){let t=Ee();Z(0,"div",14)(1,"p-button",23),ee("onClick",function(){Jt(t);let r=dt();return Qt(r.goToPreviousDay())}),G(),Z(2,"span",24),Ct(3),G(),Z(4,"p-button",25),ee("onClick",function(){Jt(t);let r=dt();return Qt(r.goToNextDay())}),G()()}if(e&2){let t=dt();et(),At("outlined",!0)("disabled",!t.hasPreviousDay())("ngStyle",Qn(7,sg)),et(2),ye(t.getDateDisplay(t.currentDateStr())),et(),At("outlined",!0)("disabled",!t.hasNextDay())("ngStyle",Qn(8,lg))}}function Bb(e,n){if(e&1){let t=Ee();Z(0,"div",14)(1,"p-button",23),ee("onClick",function(){Jt(t);let r=dt(2);return Qt(r.goToPreviousPeriod())}),G(),Z(2,"span",24),Ct(3),G(),Z(4,"p-button",25),ee("onClick",function(){Jt(t);let r=dt(2);return Qt(r.goToNextPeriod())}),G()()}if(e&2){let t=n.$implicit,i=dt(2);et(),At("outlined",!0)("disabled",!i.hasPreviousPeriod()&&!i.isAdmin())("ngStyle",Qn(7,sg)),et(2),ye(i.getPeriodDateRange(t)),et(),At("outlined",!0)("disabled",i.isCurrentPeriod())("ngStyle",Qn(8,lg))}}function zb(e,n){if(e&1&&to(0,Bb,5,9,"div",14,Tb),e&2){let t=dt();eo(t.getTenDayPeriods())}}function jb(e,n){}function qb(e,n){if(e&1&&(Z(0,"th",31),Ct(1),G()),e&2){let t=n.$implicit,i=n.$index,r=dt(2);Li("day-separator",i!==0),At("colSpan",r.getDateColspan()),et(),ye(r.getDateDisplay(t))}}function Ub(e,n){e&1&&(Z(0,"th",28),Ct(1,"Billed"),G()),e&2&&At("colSpan",5)("rowSpan",2)}function Hb(e,n){if(e&1){let t=Ee();Z(0,"p-button",38),ee("onClick",function(){Jt(t);let r=dt(3).$implicit,a=dt(2);return Qt(a.enableBulkEdit(r,"AM"))}),G()}e&2&&At("outlined",!0)("rounded",!0)}function Vb(e,n){if(e&1){let t=Ee();Z(0,"p-button",39),ee("onClick",function(){Jt(t);let r=dt(5);return Qt(r.saveBulkEdit())}),G()}e&2&&At("outlined",!0)("rounded",!0)}function Wb(e,n){if(e&1&&me(0,Hb,1,2,"p-button",36)(1,Vb,1,2,"p-button",37),e&2){let t=dt(2).$implicit,i=dt(2);ve(i.isBulkEditing(t,"AM")?1:0)}}function $b(e,n){if(e&1&&(Z(0,"th",34)(1,"span",35),Ct(2," AM "),me(3,Wb,2,1),G()()),e&2){let t,i=dt(),r=i.$implicit,a=i.$index,l=dt(2);Li("day-separator",a!==0),At("colSpan",2),et(3),ve(!((t=l.ledgerData())!=null&&t.isBilled)&&l.canEditSession(r,"AM")?3:-1)}}function Yb(e,n){if(e&1){let t=Ee();Z(0,"p-button",38),ee("onClick",function(){Jt(t);let r=dt(3).$implicit,a=dt(2);return Qt(a.enableBulkEdit(r,"PM"))}),G()}if(e&2){let t=dt(3).$implicit;At("outlined",!0)("rounded",!0),Er("data-date",t)}}function Gb(e,n){if(e&1){let t=Ee();Z(0,"p-button",39),ee("onClick",function(){Jt(t);let r=dt(5);return Qt(r.saveBulkEdit())}),G()}if(e&2){let t=dt(3).$implicit;At("outlined",!0)("rounded",!0),Er("data-date",t)}}function Zb(e,n){if(e&1&&me(0,Yb,1,3,"p-button",36)(1,Gb,1,3,"p-button",37),e&2){let t=dt(2).$implicit,i=dt(2);ve(i.isBulkEditing(t,"PM")?1:0)}}function Xb(e,n){if(e&1&&(Z(0,"th",40)(1,"span",35),Ct(2," PM "),me(3,Zb,2,1),G()()),e&2){let t,i=dt(),r=i.$implicit,a=i.$index,l=dt(2);Li("day-separator",a!==0&&l.selectedSessionDisplay()==="PM"),At("colSpan",2),et(3),ve(!((t=l.ledgerData())!=null&&t.isBilled)&&l.canEditSession(r,"PM")?3:-1)}}function Kb(e,n){if(e&1&&(me(0,$b,4,4,"th",32),me(1,Xb,4,4,"th",33)),e&2){let t=dt(2);ve(t.selectedSessionDisplay()==="AM"||t.selectedSessionDisplay()==="AM-PM"?0:-1),et(),ve(t.selectedSessionDisplay()==="PM"||t.selectedSessionDisplay()==="AM-PM"?1:-1)}}function Jb(e,n){if(e&1&&Je(0,"th",41)(1,"th",42),e&2){let t=dt().$index;Li("day-separator",t!==0)}}function Qb(e,n){if(e&1&&Je(0,"th",41)(1,"th",42),e&2){let t=dt().$index,i=dt(2);Li("day-separator",t!==0&&i.selectedSessionDisplay()==="PM")}}function ty(e,n){if(e&1&&(me(0,Jb,2,2),me(1,Qb,2,2)),e&2){let t=dt(2);ve(t.selectedSessionDisplay()==="AM"||t.selectedSessionDisplay()==="AM-PM"?0:-1),et(),ve(t.selectedSessionDisplay()==="PM"||t.selectedSessionDisplay()==="AM-PM"?1:-1)}}function ey(e,n){e&1&&(Z(0,"th",43),Ct(1,"Qty"),G(),Z(2,"th",44),Ct(3,"Amount"),G(),Z(4,"th",45),Ct(5,"Prev"),G(),Z(6,"th",46),Ct(7,"Paid"),G(),Z(8,"th",47),Ct(9,"Due"),G())}function ny(e,n){if(e&1&&(Z(0,"tr")(1,"th",26),Ct(2,"Customer Details"),G(),to(3,qb,2,4,"th",27,Oo),me(5,Ub,2,2,"th",28),G(),Z(6,"tr")(7,"th",29),Ct(8,"No."),G(),Z(9,"th",30),Ct(10,"Name"),G(),to(11,Kb,2,2,null,null,Oo),G(),Z(13,"tr"),to(14,ty,2,2,null,null,Oo),me(16,ey,10,0),G()),e&2){let t,i,r=dt();et(),At("colSpan",2),et(2),eo(r.visibleDates()),et(2),ve(r.selectedDateRange()==="TEN_DAY"&&((t=r.ledgerData())!=null&&t.isBilled)?5:-1),et(2),At("rowSpan",2),et(2),At("rowSpan",2),et(2),eo(r.visibleDates()),et(3),eo(r.visibleDates()),et(2),ve(r.selectedDateRange()==="TEN_DAY"&&((i=r.ledgerData())!=null&&i.isBilled)?16:-1)}}function iy(e,n){if(e&1){let t=Ee();Z(0,"button",54),ee("click",function(){Jt(t);let r=dt().$implicit,a=dt();return Qt(a.openEntryDialog(r))}),Ct(1),G()}if(e&2){let t=dt().$implicit;et(),ye(t.custNo)}}function ry(e,n){if(e&1){let t=Ee();Z(0,"button",55),ee("click",function(){Jt(t);let r=dt().$implicit,a=dt();return Qt(a.navigateToPassbook(r.custNo))}),Ct(1),G()}if(e&2){let t=dt().$implicit;et(),ye(t.custNo)}}function ay(e,n){if(e&1){let t=Ee();Z(0,"input",59),ee("input",function(r){Jt(t);let a=dt(2),l=dt().$implicit,s=dt().$implicit;return dt().updateCellValue(s.custNo,l,"AM","qty",r.target.value),Qt(a.AM.qty=r.target.value?+r.target.value:0)}),G()}if(e&2){let t=dt(2);At("value",t.AM.qty>0?t.AM.qty:"")}}function oy(e,n){if(e&1&&(Z(0,"span",57),Ct(1),we(2,"number"),G()),e&2){let t=dt(2),i=dt(3);At("ngClass",i.getQtyLevelClass(t.AM.qty)),et(),Fn(" ",t.AM.qty>0?Ce(2,2,t.AM.qty,"1.2-2"):""," ")}}function sy(e,n){if(e&1){let t=Ee();Z(0,"input",59),ee("input",function(r){Jt(t);let a=dt(2),l=dt().$implicit,s=dt().$implicit;return dt().updateCellValue(s.custNo,l,"AM","fat",r.target.value),Qt(a.AM.fat=r.target.value?+r.target.value:0)}),G()}if(e&2){let t=dt(2);At("value",t.AM.fat>0?t.AM.fat:"")}}function ly(e,n){if(e&1&&(Z(0,"span",58),Ct(1),we(2,"number"),G()),e&2){let t=dt(2),i=dt(3);At("ngClass",i.getFatLevelClass(t.AM.fat)),et(),Fn(" ",t.AM.fat>0?Ce(2,2,t.AM.fat,"1.1-1"):""," ")}}function cy(e,n){if(e&1&&(Z(0,"td",41),me(1,ay,1,1,"input",56)(2,oy,3,5,"span",57),G(),Z(3,"td",42),me(4,sy,1,1,"input",56)(5,ly,3,5,"span",58),G()),e&2){let t=dt(2),i=t.$implicit,r=t.$index,a=dt(2);Li("day-separator",r!==0),et(),ve(a.isBulkEditing(i,"AM")?1:2),et(3),ve(a.isBulkEditing(i,"AM")?4:5)}}function dy(e,n){if(e&1){let t=Ee();Z(0,"input",59),ee("input",function(r){Jt(t);let a=dt(2),l=dt().$implicit,s=dt().$implicit;return dt().updateCellValue(s.custNo,l,"PM","qty",r.target.value),Qt(a.PM.qty=r.target.value?+r.target.value:0)}),G()}if(e&2){let t=dt(2);At("value",t.PM.qty>0?t.PM.qty:"")}}function uy(e,n){if(e&1&&(Z(0,"span",57),Ct(1),we(2,"number"),G()),e&2){let t=dt(2),i=dt(3);At("ngClass",i.getQtyLevelClass(t.PM.qty)),et(),Fn(" ",t.PM.qty>0?Ce(2,2,t.PM.qty,"1.2-2"):""," ")}}function hy(e,n){if(e&1){let t=Ee();Z(0,"input",59),ee("input",function(r){Jt(t);let a=dt(2),l=dt().$implicit,s=dt().$implicit;return dt().updateCellValue(s.custNo,l,"PM","fat",r.target.value),Qt(a.PM.fat=r.target.value?+r.target.value:0)}),G()}if(e&2){let t=dt(2);At("value",t.PM.fat>0?t.PM.fat:"")}}function fy(e,n){if(e&1&&(Z(0,"span",58),Ct(1),we(2,"number"),G()),e&2){let t=dt(2),i=dt(3);At("ngClass",i.getFatLevelClass(t.PM.fat)),et(),Fn(" ",t.PM.fat>0?Ce(2,2,t.PM.fat,"1.1-1"):""," ")}}function py(e,n){if(e&1&&(Z(0,"td",41),me(1,dy,1,1,"input",56)(2,uy,3,5,"span",57),G(),Z(3,"td",42),me(4,hy,1,1,"input",56)(5,fy,3,5,"span",58),G()),e&2){let t=dt(2),i=t.$implicit,r=t.$index,a=dt(2);Li("day-separator",r!==0&&a.selectedSessionDisplay()==="PM"),et(),ve(a.isBulkEditing(i,"PM")?1:2),et(3),ve(a.isBulkEditing(i,"PM")?4:5)}}function gy(e,n){if(e&1&&(me(0,cy,6,4),me(1,py,6,4)),e&2){let t=dt(3);ve(t.selectedSessionDisplay()==="AM"||t.selectedSessionDisplay()==="AM-PM"?0:-1),et(),ve(t.selectedSessionDisplay()==="PM"||t.selectedSessionDisplay()==="AM-PM"?1:-1)}}function my(e,n){if(e&1&&me(0,gy,2,2),e&2){let t,i=n.$implicit,r=dt().$implicit,a=dt();ve((t=a.getRecord(r,i))?0:-1,t)}}function vy(e,n){if(e&1&&(Z(0,"td",43),Ct(1),we(2,"number"),G(),Z(3,"td",44),Ct(4),we(5,"number"),G(),Z(6,"td",45),Ct(7),we(8,"number"),G(),Z(9,"td",46),Ct(10),we(11,"number"),G(),Z(12,"td",47),Ct(13),we(14,"number"),G()),e&2){let t=n;et(),ye(t.totalQty>0?Ce(2,5,t.totalQty,"1.1-1"):""),et(3),ye(t.amount>0?Ce(5,8,t.amount,"1.2-2"):""),et(3),ye(t.prevDueAmt!==0?Ce(8,11,t.prevDueAmt,"1.2-2"):""),et(3),ye(t.paidAmt>0?Ce(11,14,t.paidAmt,"1.2-2"):""),et(3),ye(t.dueAmt!==0?Ce(14,17,t.dueAmt,"1.2-2"):"")}}function _y(e,n){e&1&&Je(0,"td",43)(1,"td",44)(2,"td",45)(3,"td",46)(4,"td",47)}function by(e,n){if(e&1&&me(0,vy,15,20)(1,_y,5,0),e&2){let t,i=dt().$implicit,r=dt();ve((t=r.getCustBill(i.custNo))?0:1,t)}}function yy(e,n){if(e&1&&(Z(0,"tr")(1,"td",48)(2,"span",49)(3,"span",50),me(4,iy,2,1,"button",51),me(5,ry,2,1,"button",52),G()()(),Z(6,"td",53),Ct(7),G(),to(8,my,1,1,null,null,Oo),me(10,by,2,1),G()),e&2){let t,i,r,a=n.$implicit,l=dt();et(4),ve(!l.bulkEditSession()&&!((t=l.ledgerData())!=null&&t.isBilled)?4:-1),et(),ve((i=l.ledgerData())!=null&&i.isBilled?5:-1),et(2),Fn(" ",l.selectedNameDisplay()==="en"?a.name_en:a.name_tel," "),et(),eo(l.visibleDates()),et(2),ve(l.selectedDateRange()==="TEN_DAY"&&((r=l.ledgerData())!=null&&r.isBilled)?10:-1)}}function wy(e,n){if(e&1&&(Z(0,"td",62),Ct(1),we(2,"number"),G(),Je(3,"td",63)),e&2){let t=dt(),i=t.$implicit,r=t.$index,a=dt(2);Li("day-separator",r!==0),et(),Fn(" ",Ce(2,3,a.getQtyTotal(i,"AM"),"1.2-2")," ")}}function xy(e,n){if(e&1&&(Z(0,"td",62),Ct(1),we(2,"number"),G(),Je(3,"td",63)),e&2){let t=dt(),i=t.$implicit,r=t.$index,a=dt(2);Li("day-separator",r!==0&&a.selectedSessionDisplay()==="PM"),et(),Fn(" ",Ce(2,3,a.getQtyTotal(i,"PM"),"1.2-2")," ")}}function Cy(e,n){if(e&1&&(me(0,wy,4,6),me(1,xy,4,6)),e&2){let t=dt(2);ve(t.selectedSessionDisplay()==="AM"||t.selectedSessionDisplay()==="AM-PM"?0:-1),et(),ve(t.selectedSessionDisplay()==="PM"||t.selectedSessionDisplay()==="AM-PM"?1:-1)}}function Sy(e,n){if(e&1&&(Z(0,"td",64),Ct(1),we(2,"number"),G(),Z(3,"td",65),Ct(4),we(5,"number"),G(),Z(6,"td",66),Ct(7),we(8,"number"),G(),Z(9,"td",67),Ct(10),we(11,"number"),G(),Z(12,"td",68),Ct(13),we(14,"number"),G()),e&2){let t,i,r=dt(2);et(),ye(Ce(2,5,r.getTotalQty(),"1.1-1")),et(3),ye(Ce(5,8,(t=r.ledgerData())==null?null:t.totalAmt,"1.2-2")),et(3),ye(Ce(8,11,r.getTotalPrevDue(),"1.2-2")),et(3),ye(Ce(11,14,(i=r.ledgerData())==null?null:i.receivedAmt,"1.2-2")),et(3),ye(Ce(14,17,r.getTotalDue(),"1.2-2"))}}function Py(e,n){if(e&1&&(Z(0,"tr",60)(1,"td",61),Ct(2,"Totals"),G(),to(3,Cy,2,2,null,null,Oo),me(5,Sy,15,20),G()),e&2){let t,i=dt();et(3),eo(i.visibleDates()),et(2),ve(i.selectedDateRange()==="TEN_DAY"&&((t=i.ledgerData())!=null&&t.isBilled)?5:-1)}}function My(e,n){e&1&&(Z(0,"th",74),Ct(1,"AM"),G())}function Ay(e,n){e&1&&(Z(0,"th",75),Ct(1,"PM"),G())}function Dy(e,n){e&1&&(Z(0,"th",41),Ct(1,"Qty"),G(),Z(2,"th",42),Ct(3,"Fat"),G())}function Ny(e,n){e&1&&(Z(0,"th",41),Ct(1,"Qty"),G(),Z(2,"th",42),Ct(3,"Fat"),G())}function ky(e,n){if(e&1){let t=Ee();Z(0,"td",41)(1,"input",76),ee("input",function(r){Jt(t);let a=dt(2);return Qt(a.dialogData().AM.qty=r.target.value?+r.target.value:0)}),G()(),Z(2,"td",42)(3,"input",76),ee("input",function(r){Jt(t);let a=dt(2);return Qt(a.dialogData().AM.fat=r.target.value?+r.target.value:0)}),G()()}if(e&2){let t=dt(2);et(),At("value",t.dialogData().AM.qty>0?t.dialogData().AM.qty:""),et(2),At("value",t.dialogData().AM.fat>0?t.dialogData().AM.fat:"")}}function Ly(e,n){if(e&1){let t=Ee();Z(0,"td",41)(1,"input",76),ee("input",function(r){Jt(t);let a=dt(2);return Qt(a.dialogData().PM.qty=r.target.value?+r.target.value:0)}),G()(),Z(2,"td",42)(3,"input",76),ee("input",function(r){Jt(t);let a=dt(2);return Qt(a.dialogData().PM.fat=r.target.value?+r.target.value:0)}),G()()}if(e&2){let t=dt(2);et(),At("value",t.dialogData().PM.qty>0?t.dialogData().PM.qty:""),et(2),At("value",t.dialogData().PM.fat>0?t.dialogData().PM.fat:"")}}function Ey(e,n){if(e&1){let t=Ee();Z(0,"div",77)(1,"p-button",78),ee("onClick",function(){Jt(t);let r=dt(2);return Qt(r.clearDialogData())}),G(),Z(2,"p-button",79),ee("onClick",function(){Jt(t);let r=dt(2);return Qt(r.saveDialogData())}),G()()}e&2&&(et(),At("outlined",!0))}function Oy(e,n){if(e&1&&(Z(0,"div",69)(1,"div",70)(2,"div",71),Ct(3),G(),Z(4,"div",72),Ct(5),we(6,"date"),G()(),Z(7,"table",73)(8,"thead")(9,"tr"),me(10,My,2,0,"th",74),me(11,Ay,2,0,"th",75),G(),Z(12,"tr"),me(13,Dy,4,0),me(14,Ny,4,0),G()(),Z(15,"tbody")(16,"tr"),me(17,ky,4,2),me(18,Ly,4,2),G()()()(),Ae(19,Ey,3,1,"ng-template",null,2,io)),e&2){let t=dt();et(3),rc("",t.dialogMember().custNo," - ",t.dialogMember().name_en),et(2),ye(Ce(6,9,t.dialogDate(),"EEE, MMM d")),et(5),ve(t.selectedSessionDisplay()==="AM"||t.selectedSessionDisplay()==="AM-PM"?10:-1),et(),ve(t.selectedSessionDisplay()==="PM"||t.selectedSessionDisplay()==="AM-PM"?11:-1),et(2),ve(t.selectedSessionDisplay()==="AM"||t.selectedSessionDisplay()==="AM-PM"?13:-1),et(),ve(t.selectedSessionDisplay()==="PM"||t.selectedSessionDisplay()==="AM-PM"?14:-1),et(3),ve(t.selectedSessionDisplay()==="AM"||t.selectedSessionDisplay()==="AM-PM"?17:-1),et(),ve(t.selectedSessionDisplay()==="PM"||t.selectedSessionDisplay()==="AM-PM"?18:-1)}}var _d=class e{constructor(n,t,i,r,a,l,s,d,u){this.ledgerService=n;this.ledgerDataService=t;this.dataExportService=i;this.rateCardService=r;this.messageService=a;this.router=l;this.route=s;this.cdr=d;this.authService=u;oc(()=>{let f=this.selectedDateRange(),v=this.selectedSessionDisplay(),_=this.currentDateStr();this.isInitialLoad||this.updateUrlParams()})}hasPreviousDay(){let n=this.ledgerData();return n?n.records.findIndex(i=>this.getDateString(i.day)===this.currentDateStr())>0?!0:this.hasPreviousPeriod?.()===!0:!1}hasNextDay(){let n=this.ledgerData();if(!n)return!1;let t=n.records.findIndex(i=>this.getDateString(i.day)===this.currentDateStr());return t<n.records.length-1&&t!==-1?!0:this.hasNextPeriod?.()===!0}goToPreviousDay(){let n=this.ledgerData();if(!n)return;let t=n.records.findIndex(i=>this.getDateString(i.day)===this.currentDateStr());if(t>0){let i=n.records[t-1];this.currentDateStr.set(this.getDateString(i.day)),this.buildTableRows()}else if(this.hasPreviousPeriod?.()===!0){let i=va(n.tenDayStart);this.ledgerService.getLedgerData(i).subscribe({next:r=>{if(r.records.length>0){let a=r.records[r.records.length-1];this.ledgerData.set(r),this.currentDateStr.set(this.getDateString(a.day)),this.buildTableRows(),this.checkPreviousPeriodExists(),this.checkNextPeriodExists()}}})}}goToNextDay(){let n=this.ledgerData();if(!n)return;let t=n.records.findIndex(i=>this.getDateString(i.day)===this.currentDateStr());if(t<n.records.length-1&&t!==-1){let i=n.records[t+1];this.currentDateStr.set(this.getDateString(i.day)),this.buildTableRows()}else if(this.hasNextPeriod?.()===!0){let i=this.getNextPeriodStart(n.tenDayStart);this.ledgerService.getLedgerData(i).subscribe({next:r=>{if(r.records.length>0){let a=r.records[0];this.ledgerData.set(r),this.currentDateStr.set(this.getDateString(a.day)),this.buildTableRows(),this.checkPreviousPeriodExists(),this.checkNextPeriodExists()}}})}}toggleDateRange(){if(this.selectedDateRange()==="DAY")this.selectedDateRange.set("TEN_DAY");else{this.selectedDateRange.set("DAY");let t=new Date;t.setHours(0,0,0,0),this.currentDateStr.set(this.getDateString(t));let i=Fr();this.ledgerService.getLedgerData(i).subscribe(r=>{this.ledgerData.set(r),this.buildTableRows(),this.checkPreviousPeriodExists(),this.checkNextPeriodExists(),this.ensureTodayRecordsExist(),this.buildTableRows(),this.updateUrlParams()})}}parsePeriodParam(n){if(!n)return;let[t,i,r]=n.split("-").map(Number);if([1,11,21].includes(r))return`${t}-${String(i).padStart(2,"0")}-${String(r).padStart(2,"0")}`}setSignalsFromParams(n){let t=n.dateRange;(t==="DAY"||t==="TEN_DAY")&&this.selectedDateRange.set(t);let i=n.session;i==="AM"?(this.showAM.set(!0),this.showPM.set(!1)):i==="PM"?(this.showAM.set(!1),this.showPM.set(!0)):i==="AM-PM"&&(this.showAM.set(!0),this.showPM.set(!0));let r=n.date,a=n.period;if(t==="TEN_DAY"&&a){let l=this.parsePeriodParam(a);return this.currentDateStr.set(l||""),l}else if(t==="DAY"){if(r)this.currentDateStr.set(r);else{let l=new Date;l.setHours(0,0,0,0),this.currentDateStr.set(this.getDateString(l))}return}this.currentDateStr.set("")}changePeriod(n){this.loadLedgerData(n)}goToHome(){this.authService.isAdmin()?this.router.navigate(["/"]):this.router.navigate(["/mcm"])}goToMainHome(){this.router.navigate(["/"])}tableWrapper;members=Yt([]);ledgerData=Yt(null);tableRows=Yt([]);nameDisplayOptions=[{label:"en",value:"en"},{label:"tel",value:"tel"}];selectedNameDisplay=Yt("en");showAM=Yt(!0);showPM=Yt(!0);selectedSessionDisplay=ti(()=>{let n=this.showAM(),t=this.showPM();return n&&t?"AM-PM":n?"AM":t?"PM":"AM-PM"});toggleSmartSession(){let i=new Date().getHours()<12;this.selectedSessionDisplay()==="AM-PM"?i?(this.showAM.set(!0),this.showPM.set(!1)):(this.showAM.set(!1),this.showPM.set(!0)):(this.showAM.set(!0),this.showPM.set(!0)),this.buildTableRows()}dateRangeOptions=[{label:"Today",value:"DAY"},{label:"10 Day",value:"TEN_DAY"}];selectedDateRange=Yt("DAY");exportFormatOptions=[{label:"JSON",value:"JSON"},{label:"PDF",value:"PDF"}];selectedExportFormat=Yt("JSON");bulkEditDate=Yt(null);bulkEditSession=Yt(null);showEntryDialog=Yt(!1);dialogMember=Yt(null);dialogDate=Yt("");dialogData=Yt({AM:{qty:0,fat:0},PM:{qty:0,fat:0}});currentSession=Yt(new Date().getHours()<12?"AM":"PM");currentDateStr=Yt("");isAdmin=Yt(!1);autoSaveInterval;hasUnsavedChanges=!1;isInitialLoad=!0;allDates=ti(()=>{let n=new Set,t=this.ledgerData();t&&t.records.forEach(r=>{n.add(this.getDateString(r.day))});let i=Array.from(n).sort();return console.log("[DEBUG] allDates computed:",i.length,"dates:",i),i});visibleDates=ti(()=>{if(this.selectedDateRange()==="DAY"){let n=[this.currentDateStr()];return console.log("[DEBUG] visibleDates (DAY):",n.length,n),n}else{let n=this.allDates();return console.log("[DEBUG] visibleDates (TEN_DAY):",n.length,n),n}});ngOnInit(){this.route.queryParams.pipe(ec(1)).subscribe(n=>{this.isAdmin.set(this.authService.isAdmin());let t=this.setSignalsFromParams(n);this.ledgerService.getMembers().subscribe(i=>{this.members.set(i),this.changePeriod(t)})}),this.autoSaveInterval=window.setInterval(()=>{this.hasUnsavedChanges&&this.saveLedgerData(!0)},300*1e3)}ngAfterViewInit(){}ngOnDestroy(){this.autoSaveInterval&&clearInterval(this.autoSaveInterval)}loadLedgerData(n){let t;if(n){let[i,r,a]=n.split("-").map(Number);[1,11,21].includes(a)&&(t=new Date(i,r-1,a),t.setHours(0,0,0,0))}t||(t=Fr()),this.ledgerService.getLedgerData(t).subscribe(i=>{this.ledgerData.set(i),this.buildTableRows(),this.checkPreviousPeriodExists(),this.selectedDateRange()==="DAY"&&(this.ensureTodayRecordsExist(),this.buildTableRows()),this.updateUrlParams(),this.isInitialLoad&&(this.isInitialLoad=!1)})}buildTableRows(){let n=[],t=new Map,i=this.ledgerData();i&&i.records.forEach(l=>{let s=this.getDateString(l.day);l.quantities.forEach(d=>{t.has(d.custNo)||t.set(d.custNo,new Map),t.get(d.custNo).set(s,d)})});let r=this.members(),a=this.visibleDates();console.log("[DEBUG] buildTableRows: members:",r.length,"visibleDates:",a.length),r.forEach(l=>{let s=t.get(l.custNo)||new Map;a.forEach(d=>{s.has(d)||s.set(d,{custNo:l.custNo,AM:{qty:0,fat:0},PM:{qty:0,fat:0}})}),n.push({custNo:l.custNo,name_en:l.name_en,name_tel:l.name_tel,village:l.village,dayRecords:s})}),console.log("[DEBUG] buildTableRows called. Rows count:",n.length,"Visible dates:",a.length),this.tableRows.set(n)}getDateString(n){let t=new Date(n);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}updateUrlParams(){let n={dateRange:this.selectedDateRange(),session:this.selectedSessionDisplay()};if(this.selectedDateRange()==="DAY")n.date=this.currentDateStr();else{let t=this.ledgerData();t&&(n.period=this.getDateString(t.tenDayStart))}this.router.navigate([],{relativeTo:this.route,queryParams:n,replaceUrl:!0})}getDateDisplay(n){let[t,i,r]=n.split("-"),a=new Date(parseInt(t),parseInt(i)-1,parseInt(r));return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a.getMonth()]}, ${r}`}getDateColspan(){return this.selectedSessionDisplay()==="AM-PM"?4:2}getTenDayPeriods(){let n=this.ledgerData();if(!n)return[];let t=[];return n.records.forEach(i=>{let r=this.getDateString(i.day);this.visibleDates().includes(r)&&t.push(r)}),t.length>0?[{tenDayStart:n.tenDayStart,dates:t.sort()}]:[]}getPeriodDateRange(n){let t=this.getDateDisplay(this.getDateString(n.tenDayStart)),i=ao(n.tenDayStart),r=this.getDateDisplay(this.getDateString(i));return`${t} - ${r}`}getPeriodColspan(n){return n.dates.length*this.getDateColspan()}isInPeriod(n,t){return t.dates.includes(n)}isCurrentPeriod(){let n=this.ledgerData();if(!n)return!1;let t=Fr();return new Date(n.tenDayStart).getTime()===t.getTime()}hasPreviousPeriod=Yt(!1);hasNextPeriod=Yt(!1);checkPreviousPeriodExists(){let n=this.ledgerData();if(!n){this.hasPreviousPeriod.set(!1);return}let t=va(n.tenDayStart);this.ledgerService.getLedgerData(t).subscribe({next:i=>{let r=i.records.some(a=>a.quantities.some(l=>l.AM.qty||l.AM.fat||l.PM.qty||l.PM.fat));this.hasPreviousPeriod.set(r)},error:()=>{this.hasPreviousPeriod.set(!1)}})}checkNextPeriodExists(){let n=this.ledgerData();if(!n){this.hasNextPeriod.set(!1);return}let t=this.getNextPeriodStart(n.tenDayStart);this.ledgerService.getLedgerData(t).subscribe({next:i=>{let r=i.records.some(a=>a.quantities.some(l=>l.AM.qty||l.AM.fat||l.PM.qty||l.PM.fat));this.hasNextPeriod.set(r)},error:()=>{this.hasNextPeriod.set(!1)}})}getNextPeriodStart(n){let t=new Date(n),i=t.getDate();return i===1?t.setDate(11):i===11?t.setDate(21):(t.setMonth(t.getMonth()+1),t.setDate(1)),t.setHours(0,0,0,0),t}goToPreviousPeriod(){let n=this.ledgerData();if(!n)return;let t=va(n.tenDayStart);this.changePeriod(this.getDateString(t)),this.updateUrlParams()}goToNextPeriod(){let n=this.ledgerData();if(!n)return;let t=this.getNextPeriodStart(n.tenDayStart),i=new Date;i.setHours(0,0,0,0),!(t.getTime()>i.getTime())&&(this.changePeriod(this.getDateString(t)),this.updateUrlParams())}isEditable(n,t){return!1}getRecord(n,t){return n.dayRecords.get(t)}goToToday(){let n=this.currentDateStr();this.selectedDateRange.set("DAY"),this.ledgerData()?.records.some(r=>this.getDateString(r.day)===n)||this.ensureTodayRecordsExist(),this.messageService.add({severity:"info",summary:"Today's Data",detail:`Showing data for ${this.getDateDisplay(n)}`,life:1e4})}ensureTodayRecordsExist(){let n=new Date,t=this.getDateString(n),i=this.ledgerData();if(!i)return;if(!i.records.some(a=>this.getDateString(a.day)===t)){let a={day:n,quantities:this.members().map(l=>({custNo:l.custNo,AM:{qty:0,fat:0},PM:{qty:0,fat:0}}))};i.records.push(a),this.ledgerData.set(xe({},i)),(!this.currentDateStr()||this.currentDateStr()==="")&&this.currentDateStr.set(t),this.buildTableRows()}}openEntryDialog(n){let t=this.members().find(a=>a.custNo===n.custNo);if(!t)return;let i=this.currentDateStr(),r=n.dayRecords.get(i);this.dialogMember.set(t),this.dialogDate.set(i),this.dialogData.set({AM:r?.AM?{qty:r.AM.qty||0,fat:r.AM.fat||0}:{qty:0,fat:0},PM:r?.PM?{qty:r.PM.qty||0,fat:r.PM.fat||0}:{qty:0,fat:0}}),this.showEntryDialog.set(!0)}navigateToPassbook(n){let t=this.ledgerData();if(!t)return;let i=this.getDateString(t.tenDayStart),r=xe({},this.route.snapshot.queryParams);this.router.navigate(["/mcm/user-passbook"],{queryParams:_i(xe({},r),{custNo:n,period:i})})}saveDialogData(){let n=this.dialogMember(),t=this.dialogDate(),i=this.dialogData();if(!n)return;let r=this.ledgerData();if(!r)return;let a=r.records.find(s=>this.getDateString(s.day)===t);if(!a){let[s,d,u]=t.split("-").map(Number);a={day:new Date(s,d-1,u,0,0,0,0),quantities:[]},r.records.push(a)}let l=a.quantities.find(s=>s.custNo===n.custNo);l?(l.AM={qty:i.AM.qty||0,fat:i.AM.fat||0},l.PM={qty:i.PM.qty||0,fat:i.PM.fat||0}):a.quantities.push({custNo:n.custNo,AM:{qty:i.AM.qty||0,fat:i.AM.fat||0},PM:{qty:i.PM.qty||0,fat:i.PM.fat||0}}),this.ledgerData.set(xe({},r)),this.buildTableRows(),this.showEntryDialog.set(!1),this.messageService.add({severity:"success",summary:"Saved",detail:`Entry saved for ${n.name_en}`,life:3e3})}clearDialogData(){let n=this.dialogMember(),t=this.dialogDate();if(!n)return;let i=this.ledgerData();if(!i)return;let r=i.records.find(a=>this.getDateString(a.day)===t);if(r){let a=r.quantities.findIndex(l=>l.custNo===n.custNo);a!==-1&&(r.quantities[a]={custNo:n.custNo,AM:{qty:0,fat:0},PM:{qty:0,fat:0}})}this.ledgerData.set(xe({},i)),this.buildTableRows(),this.showEntryDialog.set(!1)}updateCellValue(n,t,i,r,a){let l=a?parseFloat(a):0;if(l<0)return;let s=this.ledgerData();if(!s)return;let d=s.records.find(f=>this.getDateString(f.day)===t);if(!d){let[f,v,_]=t.split("-").map(Number);d={day:new Date(f,v-1,_,0,0,0,0),quantities:[]},s.records.push(d)}let u=d.quantities.find(f=>f.custNo===n);if(u)u[i][r]=l;else{let f={custNo:n,AM:{qty:0,fat:0},PM:{qty:0,fat:0}};f[i][r]=l,d.quantities.push(f)}this.ledgerData.set(xe({},s)),this.hasUnsavedChanges=!0}saveLedgerData(n=!1){let t=this.ledgerData();t&&(t.records.forEach(i=>{let r=0,a=0;i.quantities.forEach(l=>{r+=l.AM.qty||0,a+=l.PM.qty||0}),r=Math.round(r*10)/10,a=Math.round(a*10)/10,i.dayTotal||(i.dayTotal={AM:{qty:0,fat:0},PM:{qty:0,fat:0}}),i.dayTotal.AM.qty=r,i.dayTotal.PM.qty=a}),this.ledgerService.saveLedgerEntry(t).subscribe(i=>{this.hasUnsavedChanges=!1,this.ledgerData.set(xe({},t)),this.buildTableRows(),n||this.messageService.add({severity:"success",summary:"Saved",detail:"Ledger data saved successfully",life:3e3})}))}exportData(n){let t=this.ledgerData(),i=this.members(),r=this.selectedSessionDisplay(),a=n||this.selectedExportFormat();if(!t||i.length===0){this.messageService.add({severity:"warn",summary:"No Data",detail:"No data available to export",life:3e3});return}a==="JSON"?(this.dataExportService.exportAsJson(t,i,r),this.messageService.add({severity:"success",summary:"Export Successful",detail:"JSON file downloaded successfully",life:3e3})):(this.dataExportService.exportAsPdf(t,i,r),this.messageService.add({severity:"success",summary:"Export Successful",detail:"PDF file downloaded successfully",life:3e3}))}enableBulkEdit(n,t){this.bulkEditDate.set(n),this.bulkEditSession.set(t)}isBulkEditing(n,t){let i=this.bulkEditDate(),r=this.bulkEditSession();return i===n&&r===t}canEditSession(n,t){let i=new Date,r=i.getHours(),a=this.getDateString(i);return n<a?!0:n>a?!1:t==="AM"?r>=5:r>=16}getCustBill(n){let t=this.ledgerData();if(t?.custBills)return t.custBills.find(i=>i.custNo===n)}getQtyTotal(n,t){let i=this.ledgerData();if(!i)return 0;let r=i.records.find(a=>this.getDateString(a.day)===n);return r?.dayTotal?t==="AM"?r.dayTotal.AM.qty||0:r.dayTotal.PM.qty||0:0}getTotalPrevDue(){let n=this.ledgerData();return n?.custBills?Math.round(n.custBills.reduce((t,i)=>t+(i.prevDueAmt||0),0)*100)/100:0}getTotalQty(){let n=this.ledgerData();return n?.custBills?Math.round(n.custBills.reduce((t,i)=>t+(i.totalQty||0),0)*10)/10:0}getTotalDue(){let n=this.ledgerData();return n?.custBills?Math.round(n.custBills.reduce((t,i)=>t+(i.dueAmt||0),0)*100)/100:0}saveBulkEdit(){let n=this.bulkEditDate(),t=this.bulkEditSession();if(n&&t){let i=this.ledgerData();if(i){let r=i.records.find(a=>this.getDateString(a.day)===n);if(r){let a=0;r.quantities.forEach(l=>{let s=t==="AM"?l.AM:l.PM;a+=s.qty||0}),a=Math.round(a*10)/10,r.dayTotal||(r.dayTotal={AM:{qty:0,fat:0},PM:{qty:0,fat:0}}),t==="AM"?r.dayTotal.AM.qty=a:r.dayTotal.PM.qty=a}}}this.saveLedgerData(!1),this.bulkEditDate.set(null),this.bulkEditSession.set(null)}fillMockDataForSession(){let n=this.bulkEditDate(),t=this.bulkEditSession();if(!n||!t)return;let i=this.ledgerData();if(!i)return;let r=i.records.find(l=>this.getDateString(l.day)===n);if(!r){this.messageService.add({severity:"warn",summary:"No Day Record",detail:`No day record found for ${n}`});return}r.quantities.forEach(l=>{let s=Math.random()<.8;t==="AM"?s?(l.AM.qty=ga(),l.AM.fat=ma()):(l.AM.qty=0,l.AM.fat=0):s?(l.PM.qty=ga(),l.PM.fat=ma()):(l.PM.qty=0,l.PM.fat=0)});let a=i.records.map(l=>this.getDateString(l.day)===n?_i(xe({},l),{quantities:l.quantities.map(s=>xe({},s))}):l);this.ledgerData.set(_i(xe({},i),{records:a})),this.buildTableRows(),this.cdr.detectChanges(),this.messageService.add({severity:"success",summary:"Mock Data Filled",detail:`Mock data filled for ${n} ${t} session`})}onDateRangeChange(n){n!==this.selectedDateRange()&&(this.selectedDateRange.set(n),this.buildTableRows())}setDateRange(n){n!==this.selectedDateRange()&&(this.selectedDateRange.set(n),this.buildTableRows())}runBills(){let n=this.ledgerData();n&&(n.isBilled&&!confirm("Bills have already been run for this period. Do you want to re-run the bills? This will recalculate all amounts.")||this.rateCardService.getPayRate(n.tenDayStart).subscribe(t=>{let r=t.items.filter(l=>new Date(l.effectiveDate)<=n.tenDayStart).sort((l,s)=>new Date(s.effectiveDate).getTime()-new Date(l.effectiveDate).getTime())[0]?.payRate||8,a=va(n.tenDayStart);this.ledgerService.getLedgerData(a).subscribe(l=>{let s=new Map;n.records.forEach(d=>{d.quantities.forEach(u=>{u.AM.qty&&u.AM.fat?u.AM.amount=Math.round(u.AM.qty*u.AM.fat*r*100)/100:u.AM.amount=0,u.PM.qty&&u.PM.fat?u.PM.amount=Math.round(u.PM.qty*u.PM.fat*r*100)/100:u.PM.amount=0;let f=s.get(u.custNo)||{amount:0,qty:0},v=f.amount+(u.AM.amount||0)+(u.PM.amount||0),_=f.qty+(u.AM.qty||0)+(u.PM.qty||0);s.set(u.custNo,{amount:Math.round(v*100)/100,qty:Math.round(_*10)/10})}),d.isVerified=!0}),n.custBills=Array.from(s.entries()).map(([d,u])=>{let v=l?.custBills?.find(_=>_.custNo===d)?.dueAmt||0;return d<=3,{custNo:d,totalQty:u.qty,amount:Math.round(u.amount*100)/100,prevDueAmt:Math.round(v*100)/100,paidAmt:0,dueAmt:Math.round((u.amount+v)*100)/100,remarks:""}}),n.totalAmt=Math.round(Array.from(s.values()).reduce((d,u)=>d+u.amount,0)*100)/100,n.receivedAmt===void 0&&(n.receivedAmt=0),n.pendingAmt===void 0&&(n.pendingAmt=n.totalAmt),n.isBilled=!0,this.ledgerData.set(xe({},n)),this.buildTableRows(),this.saveLedgerData(!1),this.messageService.add({severity:"success",summary:"Bills Generated",detail:`Bills generated successfully for ${s.size} customers. Total: ${n.totalAmt.toFixed(2)}`,life:5e3})})}))}exportToJSON(){let n=this.ledgerData();if(!n){this.messageService.add({severity:"warn",summary:"Warning",detail:"No ledger data to export"});return}let t=JSON.stringify(n,null,2),i=new Blob([t],{type:"application/json"}),r=window.URL.createObjectURL(i),a=document.createElement("a");a.href=r,a.download=`ledger_${this.getDateString(n.tenDayStart)}.json`,a.click(),window.URL.revokeObjectURL(r),this.messageService.add({severity:"success",summary:"Success",detail:"Ledger data exported to JSON"})}async exportToPDF(){let n=this.ledgerData();if(!n){this.messageService.add({severity:"warn",summary:"Warning",detail:"No ledger data to export"});return}try{let t=this.selectedSessionDisplay();this.dataExportService.exportAsPdf(n,this.members(),t),this.messageService.add({severity:"success",summary:"Success",detail:"PDF exported successfully"})}catch{this.messageService.add({severity:"error",summary:"Error",detail:"Failed to export PDF"})}}reRunBills(){if(!this.isAdmin()){this.messageService.add({severity:"warn",summary:"Unauthorized",detail:"Only admins can re-run bills"});return}this.runBills()}getFatLevelClass(n){return n>5&&n<9?"fat-level-"+Math.floor(n):n>=9?"fat-level-9":""}getQtyLevelClass(n){return n>=3&&n<7?"qty-level-"+Math.floor(n):n>=7?"qty-level-6":""}static \u0275fac=function(t){return new(t||e)(Le(_a),Le(Ho),Le(ds),Le(lr),Le(Wn),Le(ha),Le(Ro),Le(Lf),Le(pc))};static \u0275cmp=Dn({type:e,selectors:[["app-ledger-entry"]],viewQuery:function(t,i){if(t&1&&ua(Lb,5),t&2){let r;Hn(r=Vn())&&(i.tableWrapper=r.first)}},features:[or([Wn])],decls:26,vars:25,consts:[["tableWrapper",""],["caption",""],["footer",""],[1,"ledger-container"],["position","top-right"],[1,"ledger-header"],["icon","pi pi-home","severity","secondary",3,"onClick","outlined"],[1,"ledger-controls","flex","items-center","gap-3",2,"margin-bottom","1rem"],[1,"date-range-buttons"],["size","small",3,"onClick","label","severity","outlined"],[1,"session-toggle"],["label","JSON","size","small","severity","info","icon","pi pi-file",3,"outlined"],["label","PDF","size","small","severity","info","icon","pi pi-download",3,"onClick","outlined"],["label","Mock","size","small","severity","secondary","icon","pi pi-database",3,"outlined"],[1,"billing-period-panel",2,"display","flex","align-items","center","justify-content","space-between","width","100%"],[1,"table-wrapper"],["scrollHeight","flex","styleClass","p-datatable-sm",1,"p-datatable-gridlines","ledger-table",3,"value","stripedRows","scrollable","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"visibleChange","visible","modal","draggable","resizable"],["label","JSON","size","small","severity","info","icon","pi pi-file",3,"onClick","outlined"],["label","Mock","size","small","severity","secondary","icon","pi pi-database",3,"onClick","outlined"],["icon","pi pi-chevron-left","size","small","severity","secondary",3,"onClick","outlined","disabled","ngStyle"],[1,"period-dates",2,"flex","1","text-align","center","font-weight","500"],["icon","pi pi-chevron-right","size","small","severity","secondary",3,"onClick","outlined","disabled","ngStyle"],["pFrozenColumn","",1,"member-header","frozen-cols",3,"colSpan"],[1,"date-header",3,"colSpan","day-separator"],[1,"billed-header",3,"colSpan","rowSpan"],["pFrozenColumn","",1,"col-custno","frozen-cols",3,"rowSpan"],["pFrozenColumn","",1,"col-name","frozen-cols",3,"rowSpan"],[1,"date-header",3,"colSpan"],[1,"session-header","am-header",3,"colSpan","day-separator"],[1,"session-header","pm-header",3,"colSpan","day-separator"],[1,"session-header","am-header",3,"colSpan"],[1,"session-header-content"],["icon","pi pi-pencil","size","small","severity","info","styleClass","session-edit-btn",3,"outlined","rounded"],["icon","pi pi-check","size","small","severity","info","styleClass","session-save-btn",3,"outlined","rounded"],["icon","pi pi-pencil","size","small","severity","info","styleClass","session-edit-btn",3,"onClick","outlined","rounded"],["icon","pi pi-check","size","small","severity","info","styleClass","session-save-btn",3,"onClick","outlined","rounded"],[1,"session-header","pm-header",3,"colSpan"],[1,"col-qty"],[1,"col-fat"],[1,"col-billed-qty"],[1,"col-billed-amount"],[1,"col-billed-prevdue"],[1,"col-billed-paid"],[1,"col-billed-due"],["pFrozenColumn","",1,"col-custno","frozen-cols","clickable"],[1,"custno-content","custno-overlay"],[1,"custno-actions"],[1,"custno-btn","custno-edit-btn"],["title","View Passbook",1,"custno-btn","custno-passbook-btn"],["pFrozenColumn","",1,"col-name","frozen-cols"],[1,"custno-btn","custno-edit-btn",3,"click"],["title","View Passbook",1,"custno-btn","custno-passbook-btn",3,"click"],["type","tel",1,"bulk-input",3,"value"],[1,"qty-display",3,"ngClass"],[1,"fat-display",3,"ngClass"],["type","tel",1,"bulk-input",3,"input","value"],[1,"totals-row"],["colspan","2","pFrozenColumn","",1,"col-custno","frozen-cols","totals-label"],[1,"col-qty","totals-value"],[1,"col-fat","totals-value"],[1,"col-billed-qty","totals-value"],[1,"col-billed-amount","totals-value"],[1,"col-billed-prevdue","totals-value"],[1,"col-billed-paid","totals-value"],[1,"col-billed-due","totals-value"],[1,"dialog-content"],[1,"dialog-header-info"],[1,"dialog-member-name"],[1,"dialog-date"],[1,"entry-dialog-table"],["colspan","2",1,"session-header","am-header"],["colspan","2",1,"session-header","pm-header"],["type","tel","placeholder","",1,"dialog-input",3,"input","value"],[1,"dialog-footer"],["label","Clear","severity","secondary",3,"onClick","outlined"],["label","Save","severity","primary",3,"onClick"]],template:function(t,i){if(t&1){let r=Ee();Z(0,"div",3),Je(1,"p-toast",4),Z(2,"div",5)(3,"p-button",6),ee("onClick",function(){return Jt(r),Qt(i.goToMainHome())}),G(),Z(4,"h2"),Ct(5,"Ledger"),G()(),Z(6,"div",7)(7,"div",8)(8,"p-button",9),ee("onClick",function(){return Jt(r),Qt(i.toggleDateRange())}),G()(),Z(9,"div",10)(10,"p-button",9),ee("onClick",function(){return Jt(r),Qt(i.toggleSmartSession())}),G()(),me(11,Ib,1,1,"p-button",11),Z(12,"p-button",12),ee("onClick",function(){return Jt(r),Qt(i.exportToPDF())}),G(),me(13,Fb,1,1,"p-button",13),G(),me(14,Rb,5,9,"div",14),me(15,zb,2,0),Z(16,"div",15,0)(18,"p-table",16),Ae(19,jb,0,0,"ng-template",null,1,io)(21,ny,17,5,"ng-template",17)(22,yy,11,4,"ng-template",18)(23,Py,6,1,"ng-template",19),G()(),Z(24,"p-dialog",20),Ti("visibleChange",function(l){return Jt(r),Oi(i.showEntryDialog,l)||(i.showEntryDialog=l),Qt(l)}),me(25,Oy,21,12),G()()}t&2&&(et(3),At("outlined",!0),et(5),At("label",i.selectedDateRange()==="DAY"?"Today":"10 Day")("severity","info")("outlined",!1),et(2),At("label",i.selectedSessionDisplay()==="AM-PM"?"AM-PM":i.selectedSessionDisplay())("severity","info")("outlined",!1),et(),ve(i.isAdmin()?11:-1),et(),At("outlined",!0),et(),ve(i.bulkEditDate()&&i.bulkEditSession()&&(i.selectedDateRange()==="TEN_DAY"||i.selectedDateRange()==="DAY"&&i.isAdmin())?13:-1),et(),ve(i.selectedDateRange()==="DAY"?14:-1),et(),ve(i.selectedDateRange()==="TEN_DAY"?15:-1),et(3),At("value",i.tableRows())("stripedRows",!0)("scrollable",!0)("tableStyle",Qn(23,Eb)),et(6),no(Qn(24,Ob)),Ei("visible",i.showEntryDialog),At("modal",!0)("draggable",!1)("resizable",!1),et(),ve(i.dialogMember()?25:-1))},dependencies:[si,lc,cc,fa,Bi,sr,Ii,Mc,Cc,jo,Ri,Fi,pa,zo,qo,Ws,Pc,uc,dc],styles:[`.ledger-container[_ngcontent-%COMP%]{padding:1rem;max-width:100vw;height:100vh;display:flex;flex-direction:column;overflow:hidden;box-sizing:border-box}@media (max-width: 768px){.ledger-container[_ngcontent-%COMP%]{padding:.5rem}}.ledger-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;margin-bottom:1rem;gap:1rem;box-sizing:border-box}.ledger-header[_ngcontent-%COMP%]   .home-button[_ngcontent-%COMP%]{flex-shrink:0}.ledger-header[_ngcontent-%COMP%]   .home-button[_ngcontent-%COMP%]     .p-button{color:#1565c0;border-color:#1565c0}.ledger-header[_ngcontent-%COMP%]   .home-button[_ngcontent-%COMP%]     .p-button:hover{background-color:#1565c0;border-color:#1565c0;color:#fff}.ledger-header[_ngcontent-%COMP%]   .home-button[_ngcontent-%COMP%]     .p-button .pi{color:#1565c0;font-size:1.2rem}.ledger-header[_ngcontent-%COMP%]   .home-button[_ngcontent-%COMP%]     .p-button:hover .pi{color:#fff}.ledger-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;flex-shrink:0}@media (max-width: 768px){.ledger-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}}@media (max-width: 768px){.ledger-header[_ngcontent-%COMP%]{flex-wrap:wrap}.ledger-header[_ngcontent-%COMP%]     p-button button{min-height:44px}}.name-header-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem;width:100%}.name-header-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600}  .name-toggle-inline .p-selectbutton{display:flex}  .name-toggle-inline .p-selectbutton .p-button{padding:.25rem .5rem;font-size:.75rem;min-height:unset}.table-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-height:0;overflow:auto;width:fit-content;max-width:100%;align-self:flex-start}.billing-period-panel[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.25rem .5rem;background-color:#bbdefb;border-radius:4px;margin-bottom:.75rem;box-shadow:0 1px 2px #0000001a;width:fit-content}.billing-period-panel[_ngcontent-%COMP%]   .period-dates[_ngcontent-%COMP%]{font-weight:700;font-size:.95rem;color:#1565c0;white-space:nowrap}.billing-period-panel[_ngcontent-%COMP%]     .p-button{color:#1565c0;border-color:#1565c0;min-width:36px;padding:.25rem .5rem}.billing-period-panel[_ngcontent-%COMP%]     .p-button:not(:disabled):hover{background-color:#1565c0;border-color:#1565c0;color:#fff}.billing-period-panel[_ngcontent-%COMP%]     .p-button:disabled{opacity:.6;cursor:not-allowed}.billing-period-panel[_ngcontent-%COMP%]     .p-button:disabled:hover{background-color:transparent;border-color:#9e9e9e;color:#9e9e9e}.billing-period-panel[_ngcontent-%COMP%]     .p-button .pi{font-size:.9rem}@media (max-width: 768px){.billing-period-panel[_ngcontent-%COMP%]{padding:.25rem .5rem;gap:.5rem}.billing-period-panel[_ngcontent-%COMP%]   .period-dates[_ngcontent-%COMP%]{font-size:.9rem}}.ledger-table[_ngcontent-%COMP%]{font-size:.9rem;width:fit-content;max-width:100%}.ledger-table[_ngcontent-%COMP%]     .p-datatable{width:fit-content;max-width:100%}.ledger-table[_ngcontent-%COMP%]     .p-datatable-wrapper{overflow:auto;width:fit-content;max-width:100%}.ledger-table[_ngcontent-%COMP%]     .p-datatable-thead{position:sticky;top:0;z-index:10;background-color:#fff}.ledger-table[_ngcontent-%COMP%]     .p-datatable-tfoot{position:sticky;bottom:0;z-index:10;background-color:#f5f5f5}.ledger-table[_ngcontent-%COMP%]     .p-datatable-tbody>tr:nth-child(2n){background-color:#f9f9f9}.ledger-table[_ngcontent-%COMP%]     .p-datatable-tbody>tr:nth-child(odd){background-color:#fff}.ledger-table[_ngcontent-%COMP%]     .p-datatable-tbody>tr:nth-child(2n) td.col-custno, .ledger-table[_ngcontent-%COMP%]     .p-datatable-tbody>tr:nth-child(2n) td.col-name{background-color:#f9f9f9}.ledger-table[_ngcontent-%COMP%]     .p-datatable-tbody>tr:nth-child(odd) td.col-custno, .ledger-table[_ngcontent-%COMP%]     .p-datatable-tbody>tr:nth-child(odd) td.col-name{background-color:#fff}.ledger-table[_ngcontent-%COMP%]   th.col-custno[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   td.col-custno[_ngcontent-%COMP%]{min-width:75px;max-width:75px;background-color:#f8f9fa}@media (max-width: 768px){.ledger-table[_ngcontent-%COMP%]   th.col-custno[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   td.col-custno[_ngcontent-%COMP%]{min-width:70px;max-width:70px}}.ledger-table[_ngcontent-%COMP%]   th.col-custno[_ngcontent-%COMP%]{text-align:center}.ledger-table[_ngcontent-%COMP%]   th.col-name[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   td.col-name[_ngcontent-%COMP%]{min-width:150px;max-width:200px;background-color:#f8f9fa}@media (max-width: 768px){.ledger-table[_ngcontent-%COMP%]   th.col-name[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   td.col-name[_ngcontent-%COMP%]{min-width:120px}}.ledger-table[_ngcontent-%COMP%]   th.col-name[_ngcontent-%COMP%]{text-align:center}.ledger-table[_ngcontent-%COMP%]   th.member-header[_ngcontent-%COMP%]{background-color:#e8f4f8!important;min-width:225px;max-width:275px;width:225px}.ledger-table[_ngcontent-%COMP%]   .frozen-cols[_ngcontent-%COMP%]{background-color:#fff}.ledger-table[_ngcontent-%COMP%]   th.frozen-cols[_ngcontent-%COMP%]{background-color:#f8f9fa}.ledger-table[_ngcontent-%COMP%]   .member-header[_ngcontent-%COMP%]{background-color:#e8f4f8!important;font-weight:600;text-align:center}.ledger-table[_ngcontent-%COMP%]   .pay-period-header[_ngcontent-%COMP%]{background-color:#e3f2fd;font-weight:700;text-align:center;position:sticky;left:0;z-index:4;border-bottom:2px solid #666!important}.ledger-table[_ngcontent-%COMP%]   .period-range-header[_ngcontent-%COMP%]{background-color:#bbdefb;font-weight:600;text-align:center;border-left:2px solid #1976d2;border-bottom:2px solid #666!important;color:#1565c0}.ledger-table[_ngcontent-%COMP%]   .period-range-header[_ngcontent-%COMP%]   .period-range-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1.5rem}.ledger-table[_ngcontent-%COMP%]   .period-range-header[_ngcontent-%COMP%]   .period-range-content[_ngcontent-%COMP%]   .period-dates[_ngcontent-%COMP%]{text-align:center}.ledger-table[_ngcontent-%COMP%]   .period-range-header[_ngcontent-%COMP%]   .period-range-content[_ngcontent-%COMP%]     .p-button{color:#1565c0;border-color:#1565c0;min-width:40px}.ledger-table[_ngcontent-%COMP%]   .period-range-header[_ngcontent-%COMP%]   .period-range-content[_ngcontent-%COMP%]     .p-button:hover{background-color:#1565c0;border-color:#1565c0;color:#fff}.ledger-table[_ngcontent-%COMP%]   .period-range-header[_ngcontent-%COMP%]   .period-range-content[_ngcontent-%COMP%]     .p-button .pi{font-size:1rem}.ledger-table[_ngcontent-%COMP%]   .period-range-header-combined[_ngcontent-%COMP%]{background-color:#bbdefb;font-weight:600;text-align:left;border-bottom:2px solid #666!important;color:#1565c0;padding-left:1rem}.ledger-table[_ngcontent-%COMP%]   .period-range-header-combined[_ngcontent-%COMP%]   .period-range-content-combined[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:1rem}.ledger-table[_ngcontent-%COMP%]   .period-range-header-combined[_ngcontent-%COMP%]   .period-range-content-combined[_ngcontent-%COMP%]   .pay-period-title[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   .period-range-header-combined[_ngcontent-%COMP%]   .period-range-content-combined[_ngcontent-%COMP%]   .period-dates[_ngcontent-%COMP%]{font-weight:700;font-size:1.05rem}.ledger-table[_ngcontent-%COMP%]   .period-range-header-combined[_ngcontent-%COMP%]   .period-range-content-combined[_ngcontent-%COMP%]     .p-button{color:#1565c0;border-color:#1565c0;min-width:40px}.ledger-table[_ngcontent-%COMP%]   .period-range-header-combined[_ngcontent-%COMP%]   .period-range-content-combined[_ngcontent-%COMP%]     .p-button:hover{background-color:#1565c0;border-color:#1565c0;color:#fff}.ledger-table[_ngcontent-%COMP%]   .period-range-header-combined[_ngcontent-%COMP%]   .period-range-content-combined[_ngcontent-%COMP%]     .p-button .pi{font-size:1rem}.ledger-table[_ngcontent-%COMP%]   .date-header[_ngcontent-%COMP%]{background-color:#e8f4f8;font-weight:600;text-align:center;border-left:2px solid #ddd}.ledger-table[_ngcontent-%COMP%]   .session-header[_ngcontent-%COMP%]{font-weight:500;text-align:center;font-size:.85rem}.ledger-table[_ngcontent-%COMP%]   .session-header.am-header[_ngcontent-%COMP%]{background-color:#fff3e0}.ledger-table[_ngcontent-%COMP%]   .session-header.pm-header[_ngcontent-%COMP%]{background-color:#e8f5e9}.ledger-table[_ngcontent-%COMP%]   .session-header[_ngcontent-%COMP%]   .session-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem}.ledger-table[_ngcontent-%COMP%]     .session-edit-btn .p-button, .ledger-table[_ngcontent-%COMP%]     .session-save-btn .p-button{min-width:28px!important;min-height:28px!important;width:28px!important;height:28px!important;padding:0!important;border-color:#1565c0!important;color:#1565c0!important}.ledger-table[_ngcontent-%COMP%]     .session-edit-btn .p-button .p-button-icon, .ledger-table[_ngcontent-%COMP%]     .session-save-btn .p-button .p-button-icon{font-size:.75rem}.ledger-table[_ngcontent-%COMP%]     .session-edit-btn .p-button:hover, .ledger-table[_ngcontent-%COMP%]     .session-save-btn .p-button:hover{background-color:#1565c01a!important;border-color:#0d47a1!important;color:#0d47a1!important}@media (max-width: 768px){.ledger-table[_ngcontent-%COMP%]     .session-edit-btn .p-button, .ledger-table[_ngcontent-%COMP%]     .session-save-btn .p-button{min-width:36px!important;min-height:36px!important;width:36px!important;height:36px!important}.ledger-table[_ngcontent-%COMP%]     .session-edit-btn .p-button .p-button-icon, .ledger-table[_ngcontent-%COMP%]     .session-save-btn .p-button .p-button-icon{font-size:.9rem}}.ledger-table[_ngcontent-%COMP%]   .day-separator[_ngcontent-%COMP%]{border-left:2px solid #666!important}.ledger-table[_ngcontent-%COMP%]   .totals-row[_ngcontent-%COMP%]{background-color:#f5f5f5;font-weight:600;border-top:2px solid #333}.ledger-table[_ngcontent-%COMP%]   .totals-row[_ngcontent-%COMP%]   .totals-label[_ngcontent-%COMP%]{text-align:center;font-size:1rem;color:#333;background-color:#e0e0e0!important;min-width:225px;max-width:275px;width:225px}.ledger-table[_ngcontent-%COMP%]   .totals-row[_ngcontent-%COMP%]   .totals-value[_ngcontent-%COMP%]{background-color:#f5f5f5!important;font-weight:600;color:#1976d2}.ledger-table[_ngcontent-%COMP%]   .totals-row[_ngcontent-%COMP%]   td.col-qty.totals-value[_ngcontent-%COMP%]{background-color:#e3f2fd!important}.ledger-table[_ngcontent-%COMP%]   .totals-row[_ngcontent-%COMP%]   td.col-billed-qty.totals-value[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   .totals-row[_ngcontent-%COMP%]   td.col-billed-amount.totals-value[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   .totals-row[_ngcontent-%COMP%]   td.col-billed-paid.totals-value[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   .totals-row[_ngcontent-%COMP%]   td.col-billed-due.totals-value[_ngcontent-%COMP%]{background-color:#e8f5e9!important;color:#2e7d32}.ledger-table[_ngcontent-%COMP%]   .col-custno[_ngcontent-%COMP%]{width:75px;min-width:75px;text-align:center;font-weight:500;white-space:nowrap}@media (max-width: 768px){.ledger-table[_ngcontent-%COMP%]   .col-custno[_ngcontent-%COMP%]{width:70px;min-width:70px;font-size:.85rem}}.ledger-table[_ngcontent-%COMP%]   .col-name[_ngcontent-%COMP%]{min-width:150px;max-width:200px}@media (max-width: 768px){.ledger-table[_ngcontent-%COMP%]   .col-name[_ngcontent-%COMP%]{min-width:120px;font-size:.85rem}}.ledger-table[_ngcontent-%COMP%]   .col-qty[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   .col-fat[_ngcontent-%COMP%]{width:70px;text-align:right;padding-right:8px}@media (max-width: 768px){.ledger-table[_ngcontent-%COMP%]   .col-qty[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   .col-fat[_ngcontent-%COMP%]{width:60px;padding-right:4px}}.ledger-table[_ngcontent-%COMP%]   th.col-qty[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   td.col-qty[_ngcontent-%COMP%]{background-color:#f0f8ff}.ledger-table[_ngcontent-%COMP%]   th.col-fat[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   td.col-fat[_ngcontent-%COMP%]{background-color:#fffaf0}.ledger-table[_ngcontent-%COMP%]   .billed-header[_ngcontent-%COMP%]{background-color:#e8f5e9;font-weight:600;text-align:center;border-left:3px solid #4caf50!important}.ledger-table[_ngcontent-%COMP%]   .col-billed-qty[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   .col-billed-amount[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   .col-billed-prevdue[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   .col-billed-paid[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   .col-billed-due[_ngcontent-%COMP%]{width:100px;text-align:right;padding-right:8px;font-weight:500;background-color:#f1f8f4}@media (max-width: 768px){.ledger-table[_ngcontent-%COMP%]   .col-billed-qty[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   .col-billed-amount[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   .col-billed-prevdue[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   .col-billed-paid[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   .col-billed-due[_ngcontent-%COMP%]{width:85px;padding-right:4px;font-size:.85rem}}.ledger-table[_ngcontent-%COMP%]   th.col-billed-qty[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   th.col-billed-amount[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   th.col-billed-prevdue[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   th.col-billed-paid[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   th.col-billed-due[_ngcontent-%COMP%]{background-color:#e8f5e9;font-size:.9rem}.ledger-table[_ngcontent-%COMP%]   .col-billed-qty[_ngcontent-%COMP%]{border-left:3px solid #4caf50!important}.ledger-table[_ngcontent-%COMP%]   th.col-qty[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:16px;height:16px;margin-right:4px;vertical-align:middle;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M.038.309A.5.5 0 0 1 .5 0H14a2 2 0 0 1 2 2v5.959a1.041 1.041 0 0 1-2.069.17l-.849-5.094A.041.041 0 0 0 13 3.04V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V3.743a2.5 2.5 0 0 0-.732-1.768L.146.854A.5.5 0 0 1 .038.309M1.708 1l.267.268A3.5 3.5 0 0 1 3 3.743V14a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V3.041a1.041 1.041 0 0 1 2.069-.17l.849 5.094A.041.041 0 0 0 15 7.96V2a1 1 0 0 0-1-1zM4 3h3.5a.5.5 0 1 1 0 1H4zm0 2h1.5a.5.5 0 1 1 0 1H4zm0 2h3.5a.5.5 0 1 1 0 1H4zm0 2h1.5a.5.5 0 1 1 0 1H4zm0 2h3.5a.5.5 0 0 1 0 1H4zm0 2h1.5a.5.5 0 0 1 0 1H4z"/></svg>');background-size:contain;background-repeat:no-repeat;opacity:.7}@media (max-width: 768px){.ledger-table[_ngcontent-%COMP%]   th.col-qty[_ngcontent-%COMP%]:before{width:14px;height:14px;margin-right:2px}}.ledger-table[_ngcontent-%COMP%]   th.col-fat[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:16px;height:16px;margin-right:4px;vertical-align:middle;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M9.5 12.5a1.5 1.5 0 1 1-2-1.415V6.5a.5.5 0 0 1 1 0v4.585a1.5 1.5 0 0 1 1 1.415"/><path d="M5.5 2.5a2.5 2.5 0 0 1 5 0v7.55a3.5 3.5 0 1 1-5 0zM8 1a1.5 1.5 0 0 0-1.5 1.5v7.987l-.167.15a2.5 2.5 0 1 0 3.333 0l-.166-.15V2.5A1.5 1.5 0 0 0 8 1"/></svg>');background-size:contain;background-repeat:no-repeat;opacity:.7}@media (max-width: 768px){.ledger-table[_ngcontent-%COMP%]   th.col-fat[_ngcontent-%COMP%]:before{width:14px;height:14px;margin-right:2px}}.ledger-table[_ngcontent-%COMP%]   .qty-input[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   .fat-input[_ngcontent-%COMP%]{width:65px;text-align:right;padding:4px 6px;font-size:.9rem}@media (max-width: 768px){.ledger-table[_ngcontent-%COMP%]   .qty-input[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   .fat-input[_ngcontent-%COMP%]{width:55px;padding:6px 4px;font-size:.85rem;min-height:44px}}.ledger-table[_ngcontent-%COMP%]   .qty-input.editable[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   .fat-input.editable[_ngcontent-%COMP%]{background-color:#fffde7;border:1px solid #ffc107}.ledger-table[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%]::-webkit-outer-spin-button, .ledger-table[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.ledger-table[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%]{-moz-appearance:textfield;appearance:textfield}.ledger-table[_ngcontent-%COMP%]   .qty-display[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   .fat-display[_ngcontent-%COMP%]{display:inline-block;text-align:right;width:100%;padding-right:6px}.ledger-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2n+3){border-left:2px solid #ddd}  .small-select-button .p-button{padding:.25rem .5rem;font-size:.75rem}.bulk-input[_ngcontent-%COMP%]{width:100%;min-width:7ch;padding:.25rem .5rem;border:1px solid #ced4da;border-radius:3px;font-size:.9rem;text-align:right;background-color:#fff;box-sizing:border-box}.bulk-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2196f3;background-color:#fff;box-shadow:0 0 0 .2rem #2196f340}.bulk-input[_ngcontent-%COMP%]:hover{border-color:#2196f3}  .p-datatable-tbody>tr:has(.bulk-input:focus){background-color:#bbdefb!important}  .p-datatable-tbody>tr:has(.bulk-input:focus) td{background-color:#bbdefb!important}  .p-datatable-tbody>tr:has(.bulk-input:focus) td.col-custno,   .p-datatable-tbody>tr:has(.bulk-input:focus) td.col-name{background-color:#bbdefb!important}.col-custno.clickable[_ngcontent-%COMP%]:hover{background-color:#e3f2fd!important}.col-custno.clickable[_ngcontent-%COMP%]   .custno-content.custno-overlay[_ngcontent-%COMP%]{position:relative;display:inline-block;width:100%;height:32px;text-align:center}.col-custno.clickable[_ngcontent-%COMP%]   .custno-actions[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:2;display:flex;flex-direction:row;gap:2px;justify-content:center}.col-custno.clickable[_ngcontent-%COMP%]   .custno-btn[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;border:2px solid #1976d2;background:transparent;font-size:1rem;font-weight:800;color:#1976d2;display:flex;align-items:center;justify-content:center;box-shadow:none;cursor:pointer;transition:border-color .2s,color .2s}.col-custno.clickable[_ngcontent-%COMP%]   .custno-edit-btn[_ngcontent-%COMP%]{border-color:#1976d2;color:#1976d2}.col-custno.clickable[_ngcontent-%COMP%]   .custno-edit-btn[_ngcontent-%COMP%]:hover{border-color:#0d47a1;color:#0d47a1}.col-custno.clickable[_ngcontent-%COMP%]   .custno-passbook-btn[_ngcontent-%COMP%]{border-color:#388e3c;color:#388e3c}.col-custno.clickable[_ngcontent-%COMP%]   .custno-passbook-btn[_ngcontent-%COMP%]:hover{border-color:#1b5e20;color:#1b5e20}  .custno-edit-btn .p-button{min-width:24px!important;min-height:24px!important;width:24px!important;height:24px!important;padding:0!important;border-color:#1565c0!important;color:#1565c0!important}  .custno-edit-btn .p-button .p-button-icon{font-size:.7rem}  .custno-edit-btn .p-button:hover{border-color:#0d47a1!important;color:#0d47a1!important;background-color:#1565c01a!important}@media (max-width: 768px){  .custno-edit-btn .p-button{min-width:32px!important;min-height:32px!important;width:32px!important;height:32px!important}  .custno-edit-btn .p-button .p-button-icon{font-size:.85rem}}.dialog-content[_ngcontent-%COMP%]{padding:1rem 0;text-align:center}.dialog-header-info[_ngcontent-%COMP%]{margin-bottom:1.5rem;text-align:center}.dialog-header-info[_ngcontent-%COMP%]   .dialog-member-name[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#333;margin-bottom:.5rem}.dialog-header-info[_ngcontent-%COMP%]   .dialog-date[_ngcontent-%COMP%]{font-size:1rem;color:#666;font-weight:500}.entry-dialog-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin:0 auto}.entry-dialog-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .entry-dialog-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #dee2e6;padding:.75rem;text-align:center}.entry-dialog-table[_ngcontent-%COMP%]   .session-header[_ngcontent-%COMP%]{background-color:#f8f9fa;font-weight:600;text-align:center}.entry-dialog-table[_ngcontent-%COMP%]   .session-header.am-header[_ngcontent-%COMP%]{background-color:#e8f5e9}.entry-dialog-table[_ngcontent-%COMP%]   .session-header.pm-header[_ngcontent-%COMP%]{background-color:#fff3e0}.entry-dialog-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   th[_ngcontent-%COMP%]{background-color:#f8f9fa;font-weight:600}.entry-dialog-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   th.col-qty[_ngcontent-%COMP%]{background-color:#f0f8ff}.entry-dialog-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   th.col-fat[_ngcontent-%COMP%]{background-color:#fffaf0}.entry-dialog-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.col-qty[_ngcontent-%COMP%]{background-color:#f0f8ff}.entry-dialog-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.col-fat[_ngcontent-%COMP%]{background-color:#fffaf0}.entry-dialog-table[_ngcontent-%COMP%]   .dialog-input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #ced4da;border-radius:4px;font-size:.9rem;text-align:right}.entry-dialog-table[_ngcontent-%COMP%]   .dialog-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2196f3;box-shadow:0 0 0 .2rem #2196f340}.dialog-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:1rem;width:100%}.export-group[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.flex[_ngcontent-%COMP%]{display:flex}.items-center[_ngcontent-%COMP%]{align-items:center}.justify-between[_ngcontent-%COMP%]{justify-content:space-between}.gap-3[_ngcontent-%COMP%]{gap:.75rem}.date-range-buttons[_ngcontent-%COMP%], .session-toggle-buttons[_ngcontent-%COMP%]{display:flex;gap:.25rem}.passbook-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n)   td[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n)   td[_ngcontent-%COMP%]{position:relative}.passbook-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n)   td[_ngcontent-%COMP%]:before, .ledger-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n)   td[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:#0000000a;pointer-events:none;z-index:1}.passbook-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n)   td[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n)   td[_ngcontent-%COMP%]{z-index:2}  .ledger-table .p-datatable-tbody>tr:nth-child(2n),   .ledger-table .p-datatable-frozen-tbody>tr:nth-child(2n){background-color:#f3f6fa!important}  .ledger-table .p-datatable-tbody>tr:nth-child(2n) td,   .ledger-table .p-datatable-frozen-tbody>tr:nth-child(2n) td{background-color:#f3f6fa!important}  .ledger-table td.col-fat .fat-display.fat-level-6{color:#210000!important;font-weight:500!important}  .ledger-table td.col-fat .fat-display.fat-level-7{color:#210000!important;font-weight:500!important}  .ledger-table td.col-fat .fat-display.fat-level-8{color:#210000!important;font-weight:600!important}  .ledger-table td.col-fat .fat-display.fat-level-9{color:#210000!important;font-weight:600!important}  .ledger-table td.col-qty .qty-display.qty-level-3{color:#210000!important;font-weight:500!important}  .ledger-table td.col-qty .qty-display.qty-level-4{color:#210000!important;font-weight:500!important}  .ledger-table td.col-qty .qty-display.qty-level-5{color:#210000!important;font-weight:600!important}  .ledger-table td.col-qty .qty-display.qty-level-6{color:#210000!important;font-weight:600!important}`,".custno-btn[_ngcontent-%COMP%]{border-radius:50%!important;border:2px solid #1976d2!important;background:#e3f2fd!important;color:#1976d2!important;height:28px!important;width:28px!important;min-width:0!important;font-size:15px!important;line-height:28px!important;text-align:center!important;display:inline-block!important;vertical-align:middle!important;margin:0!important;padding:0!important;box-sizing:border-box!important;transition:box-shadow .2s,border-color .2s;font-weight:600!important}.custno-btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 6px #1976d244;border-color:#1565c0!important;background:#bbdefb!important;color:#1565c0!important}.ledger-table[_ngcontent-%COMP%]   td.col-custno[_ngcontent-%COMP%]{padding:0!important;margin:0!important;border:none!important;background:none!important;font-size:15px!important;line-height:1!important}.ledger-table[_ngcontent-%COMP%]   td.col-custno[_ngcontent-%COMP%]   .custno-btn[_ngcontent-%COMP%]{padding:0!important;margin:0!important;min-width:0!important;font-size:15px!important;line-height:1!important;display:block!important}.ledger-table[_ngcontent-%COMP%]   .col-custno[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   td.col-custno[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   th.col-custno[_ngcontent-%COMP%]{width:48px!important;min-width:32px!important;max-width:60px!important;padding:0!important;margin:0!important;text-align:center!important;border-left:none!important;border-right:none!important}.custno-content[_ngcontent-%COMP%], .custno-overlay[_ngcontent-%COMP%], .custno-actions[_ngcontent-%COMP%]{margin:0!important;padding:0!important;border:none!important}"]})};var Ty=["tableWrapper"],bd=class e{constructor(n,t,i,r,a,l){this.ledgerService=n;this.ledgerDataService=t;this.dataExportService=i;this.messageService=r;this.router=a;this.route=l;oc(()=>{this.selectedDateRange(),this.selectedSessionDisplay(),this.selectedEntryMode(),this.currentDateStr(),this.isInitialLoad||this.updateUrlParams()})}tableWrapper;members=Yt([]);ledgerData=Yt(null);tableRows=Yt([]);nameDisplayOptions=[{label:"en",value:"en"},{label:"tel",value:"tel"}];selectedNameDisplay=Yt("en");sessionDisplayOptions=[{label:"AM",value:"AM"},{label:"PM",value:"PM"},{label:"AM-PM",value:"AM-PM"}];selectedSessionDisplay=Yt("AM-PM");dateRangeOptions=[{label:"Day",value:"DAY"},{label:"10 Day",value:"TEN_DAY"}];selectedDateRange=Yt("DAY");entryModeOptions=[{label:"Single",value:"SINGLE"},{label:"Bulk",value:"BULK"}];selectedEntryMode=Yt("SINGLE");exportFormatOptions=[{label:"PDF",value:"PDF"}];selectedExportFormat=Yt("PDF");showEntryDialog=Yt(!1);dialogMember=Yt(null);dialogDate=Yt("");dialogData=Yt({AM:{qty:0,fat:0},PM:{qty:0,fat:0}});currentSession=Yt(new Date().getHours()<12?"AM":"PM");currentDateStr=Yt(this.getDateString(new Date));autoSaveInterval;hasUnsavedChanges=!1;isInitialLoad=!0;allDates=ti(()=>{let n=new Set,t=this.ledgerData();return t&&t.records.forEach(i=>{n.add(this.getDateString(i.day))}),Array.from(n).sort()});visibleDates=ti(()=>this.selectedDateRange()==="DAY"?[this.currentDateStr()]:this.allDates());ngOnInit(){this.route.queryParams.pipe(ec(1)).subscribe(n=>{let t=n.dateRange;(t==="DAY"||t==="TEN_DAY")&&this.selectedDateRange.set(t);let i=n.session;(i==="AM"||i==="PM"||i==="AM-PM")&&this.selectedSessionDisplay.set(i);let r=n.mode;(r==="SINGLE"||r==="BULK")&&this.selectedEntryMode.set(r);let a=n.date,l=n.period;if(this.selectedDateRange()==="TEN_DAY"&&l){let[s,d,u]=l.split("-").map(Number);u!==1&&u!==11&&u!==21&&(l=void 0)}this.selectedDateRange()==="DAY"&&a&&this.currentDateStr.set(a),this.ledgerService.getMembers().subscribe(s=>{this.members.set(s),this.loadLedgerData(l)})}),this.autoSaveInterval=window.setInterval(()=>{this.hasUnsavedChanges&&this.saveLedgerData(!0)},300*1e3)}ngAfterViewInit(){}ngOnDestroy(){this.autoSaveInterval&&clearInterval(this.autoSaveInterval)}loadLedgerData(n){let t;if(n){let[i,r,a]=n.split("-").map(Number);t=new Date(i,r-1,a),t.setHours(0,0,0,0)}else t=Fr();this.ledgerDataService.getBillingPeriodData(t).subscribe(i=>{this.ledgerData.set(i),this.buildTableRows(),this.isInitialLoad&&(this.updateUrlParams(),this.isInitialLoad=!1)})}buildTableRows(){let n=[],t=new Map,i=this.ledgerData();i&&i.records.forEach(r=>{let a=this.getDateString(r.day);r.quantities.forEach(l=>{t.has(l.custNo)||t.set(l.custNo,new Map),t.get(l.custNo).set(a,l)})}),this.members().forEach(r=>{let a=t.get(r.custNo)||new Map;this.allDates().forEach(l=>{a.has(l)||a.set(l,{custNo:r.custNo,AM:{qty:0,fat:0},PM:{qty:0,fat:0}})}),n.push({custNo:r.custNo,name_en:r.name_en,name_tel:r.name_tel,village:r.village,dayRecords:a})}),this.tableRows.set(n)}getDateString(n){let t=new Date(n);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}updateUrlParams(){let n={dateRange:this.selectedDateRange(),session:this.selectedSessionDisplay(),mode:this.selectedEntryMode()};if(this.selectedDateRange()==="DAY")n.date=this.currentDateStr();else{let t=this.ledgerData();t&&(n.period=this.getDateString(t.tenDayStart))}this.router.navigate([],{relativeTo:this.route,queryParams:n,replaceUrl:!0})}getDateDisplay(n){let[t,i,r]=n.split("-");return`${i}/${r}`}getDateColspan(){return this.selectedSessionDisplay()==="AM-PM"?4:2}getTenDayPeriods(){let n=this.ledgerData();if(!n)return[];let t=[];return n.records.forEach(i=>{let r=this.getDateString(i.day);this.visibleDates().includes(r)&&t.push(r)}),t.length>0?[{tenDayStart:n.tenDayStart,dates:t.sort()}]:[]}getPeriodDateRange(n){if(n.dates.length===0)return"";let t=this.getDateDisplay(this.getDateString(n.tenDayStart)),i=this.getDateDisplay(n.dates[n.dates.length-1]);return`${t} - ${i}`}getPeriodColspan(n){return n.dates.length*this.getDateColspan()}isInPeriod(n,t){return t.dates.includes(n)}isEditable(n,t){return!1}getRecord(n,t){return n.dayRecords.get(t)}goToToday(){let n=this.currentDateStr();this.selectedDateRange.set("DAY"),this.ledgerData()?.records.some(r=>this.getDateString(r.day)===n)||this.ensureTodayRecordsExist(),this.messageService.add({severity:"info",summary:"Today's Data",detail:`Showing data for ${this.getDateDisplay(n)}`,life:1e4})}ensureTodayRecordsExist(){let n=this.currentDateStr(),t=this.ledgerData();if(!t)return;if(!t.records.some(r=>this.getDateString(r.day)===n)){let a={day:new Date,quantities:this.members().map(l=>({custNo:l.custNo,AM:{qty:0,fat:0},PM:{qty:0,fat:0}}))};t.records.push(a),this.ledgerData.set(xe({},t)),this.buildTableRows()}}openEntryDialog(n){if(this.selectedEntryMode()!=="SINGLE")return;let t=this.members().find(a=>a.custNo===n.custNo);if(!t)return;let i=this.currentDateStr(),r=n.dayRecords.get(i);this.dialogMember.set(t),this.dialogDate.set(i),this.dialogData.set({AM:r?.AM?{qty:r.AM.qty||0,fat:r.AM.fat||0}:{qty:0,fat:0},PM:r?.PM?{qty:r.PM.qty||0,fat:r.PM.fat||0}:{qty:0,fat:0}}),this.showEntryDialog.set(!0)}saveDialogData(){let n=this.dialogMember(),t=this.dialogDate(),i=this.dialogData();if(!n)return;let r=this.ledgerData();if(!r)return;let a=r.records.find(s=>this.getDateString(s.day)===t);a||(a={day:new Date(t),quantities:[]},r.records.push(a));let l=a.quantities.find(s=>s.custNo===n.custNo);l?(l.AM={qty:i.AM.qty||0,fat:i.AM.fat||0},l.PM={qty:i.PM.qty||0,fat:i.PM.fat||0}):a.quantities.push({custNo:n.custNo,AM:{qty:i.AM.qty||0,fat:i.AM.fat||0},PM:{qty:i.PM.qty||0,fat:i.PM.fat||0}}),this.ledgerData.set(xe({},r)),this.buildTableRows(),this.showEntryDialog.set(!1),this.messageService.add({severity:"success",summary:"Saved",detail:`Entry saved for ${n.name_en}`,life:3e3})}clearDialogData(){let n=this.dialogMember(),t=this.dialogDate();if(!n)return;let i=this.ledgerData();if(!i)return;let r=i.records.find(a=>this.getDateString(a.day)===t);if(r){let a=r.quantities.findIndex(l=>l.custNo===n.custNo);a!==-1&&(r.quantities[a]={custNo:n.custNo,AM:{qty:0,fat:0},PM:{qty:0,fat:0}})}this.ledgerData.set(xe({},i)),this.buildTableRows(),this.showEntryDialog.set(!1)}updateCellValue(n,t,i,r,a){let l=a?parseFloat(a):0;if(l<0)return;let s=this.ledgerData();if(!s)return;let d=s.records.find(f=>this.getDateString(f.day)===t);d||(d={day:new Date(t),quantities:[]},s.records.push(d));let u=d.quantities.find(f=>f.custNo===n);if(u)u[i][r]=l;else{let f={custNo:n,AM:{qty:0,fat:0},PM:{qty:0,fat:0}};f[i][r]=l,d.quantities.push(f)}this.hasUnsavedChanges=!0}saveLedgerData(n=!1){}exportData(n){let t=this.ledgerData(),i=this.members(),r=this.selectedSessionDisplay();if(!t||i.length===0){this.messageService.add({severity:"warn",summary:"No Data",detail:"No data available to export",life:3e3});return}this.dataExportService.exportAsPdf(t,i,r),this.messageService.add({severity:"success",summary:"Export Successful",detail:"PDF file downloaded successfully",life:3e3})}static \u0275fac=function(t){return new(t||e)(Le(_a),Le(Ho),Le(ds),Le(Wn),Le(ha),Le(Ro))};static \u0275cmp=Dn({type:e,selectors:[["app-payment-report"]],viewQuery:function(t,i){if(t&1&&ua(Ty,5),t&2){let r;Hn(r=Vn())&&(i.tableWrapper=r.first)}},features:[or([Wn])],decls:5,vars:0,consts:[[1,"payment-report-container"]],template:function(t,i){t&1&&(Or(0,"div",0)(1,"h2"),Ct(2,"Payment Report"),Tr(),Or(3,"p"),Ct(4,"Payment report component - not yet implemented"),Tr()())},dependencies:[si,fa,Bi,Cc,jo,Ri,pa,qo],styles:[".payment-report-container[_ngcontent-%COMP%]{padding:2rem}"]})};var Iy=()=>({"min-width":"50rem"});function Fy(e,n){e&1&&(Z(0,"tr")(1,"th"),Ct(2,"Effective Date"),G(),Z(3,"th"),Ct(4,"Pay Rate"),G()())}function Ry(e,n){if(e&1&&(Z(0,"tr")(1,"td"),Ct(2),G(),Z(3,"td"),Ct(4),we(5,"currency"),G()()),e&2){let t=n.$implicit,i=dt();et(2),ye(i.formatDate(t.effectiveDate)),et(2),ye(ac(5,2,t.payRate))}}function By(e,n){e&1&&(Z(0,"tr")(1,"td",9),Ct(2,"No rate data available"),G()())}var yd=class e{constructor(n){this.rateCardService=n}rateCard=Yt(null);rateItems=Yt([]);ngOnInit(){let n=new Date;this.rateCardService.getPayRate(n).subscribe(t=>{this.rateCard.set(t),this.rateItems.set(t.items)})}formatDate(n){return new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}static \u0275fac=function(t){return new(t||e)(Le(lr))};static \u0275cmp=Dn({type:e,selectors:[["app-rate-card"]],decls:11,vars:4,consts:[[1,"rate-card-container"],[1,"page-header"],["routerLink","/",1,"home-button"],["icon","pi pi-home","severity","secondary",3,"outlined"],[1,"table-wrapper"],["styleClass","p-datatable-gridlines",3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["colspan","2",2,"text-align","center"]],template:function(t,i){t&1&&(Z(0,"div",0)(1,"div",1)(2,"a",2),Je(3,"p-button",3),G(),Z(4,"h2"),Ct(5,"Rate Card"),G()(),Z(6,"div",4)(7,"p-table",5),Ae(8,Fy,5,0,"ng-template",6)(9,Ry,6,4,"ng-template",7)(10,By,3,0,"ng-template",8),G()()()),t&2&&(et(3),At("outlined",!0),et(4),At("value",i.rateItems())("tableStyle",Qn(3,Iy)))},dependencies:[si,fc,Ri,Fi,Ii,Bi,sr,hc],styles:[".rate-card-container[_ngcontent-%COMP%]{padding:1rem}@media (max-width: 768px){.rate-card-container[_ngcontent-%COMP%]{padding:.5rem}}.page-header[_ngcontent-%COMP%]{margin-bottom:1.5rem;display:flex;justify-content:space-between;align-items:center;gap:1rem;position:relative}.page-header[_ngcontent-%COMP%]   .home-button[_ngcontent-%COMP%]{flex-shrink:0}.page-header[_ngcontent-%COMP%]   .home-button[_ngcontent-%COMP%]     .p-button{color:#1565c0;border-color:#1565c0}.page-header[_ngcontent-%COMP%]   .home-button[_ngcontent-%COMP%]     .p-button:hover{background-color:#1565c0;border-color:#1565c0;color:#fff}.page-header[_ngcontent-%COMP%]   .home-button[_ngcontent-%COMP%]     .p-button .pi{color:#1565c0;font-size:1.2rem}.page-header[_ngcontent-%COMP%]   .home-button[_ngcontent-%COMP%]     .p-button:hover .pi{color:#fff}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;position:absolute;left:50%;transform:translate(-50%);font-weight:600}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;position:static;transform:none;flex:1;text-align:center}}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{flex-wrap:wrap}}.form-header[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1.5rem;flex-wrap:wrap}@media (max-width: 768px){.form-header[_ngcontent-%COMP%]{flex-direction:column}}.form-fields[_ngcontent-%COMP%]{display:flex;gap:1rem;flex:1;flex-wrap:wrap}@media (max-width: 768px){.form-fields[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;min-width:200px}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;font-size:.9rem}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]     .p-datepicker{width:100%}@media (max-width: 768px){.field[_ngcontent-%COMP%]{min-width:unset;width:100%}}@media (max-width: 768px){  .p-datatable{font-size:.85rem}  .p-datatable .p-datatable-wrapper{overflow-x:auto;-webkit-overflow-scrolling:touch}  .p-datatable input[type=tel]{min-height:44px;padding:6px 4px}}"]})};var zy=()=>({width:"auto"});function jy(e,n){if(e&1&&(Z(0,"h2"),Ct(1),G()),e&2){let t=dt();et(),Af("",t.customer().custNo," - ",t.customer().name_en,", ",t.customer().village)}}function qy(e,n){if(e&1){let t=Ee();Z(0,"div",5)(1,"div",17)(2,"p-button",18),ee("onClick",function(){Jt(t);let r=dt();return Qt(r.goToPreviousPeriod())}),G(),Z(3,"span",19),Ct(4),we(5,"date"),we(6,"date"),G(),Z(7,"p-button",20),ee("onClick",function(){Jt(t);let r=dt();return Qt(r.goToNextPeriod())}),G()(),Z(8,"div",21)(9,"p-button",22),ee("onClick",function(){Jt(t);let r=dt();return Qt(r.shareViaWhatsApp())}),G()()()}if(e&2){let t=dt();et(2),At("outlined",!0)("disabled",!t.hasPreviousPeriod()),et(2),rc("",Ce(5,7,t.period(),"MMM, dd")," - ",Ce(6,10,t.periodEnd(),"MMM, dd")),et(3),At("outlined",!0)("disabled",!t.hasNextPeriod()),et(2),At("outlined",!0)}}function Uy(e,n){e&1&&(Z(0,"tr")(1,"th",23),Ct(2,"Date"),G(),Z(3,"th",24),Ct(4,"AM"),G(),Z(5,"th",25),Ct(6,"PM"),G(),Z(7,"th",26),Ct(8,"Day Amt"),G()(),Z(9,"tr"),Je(10,"th",27)(11,"th",28),Z(12,"th",29),Ct(13,"\u20B9"),G(),Je(14,"th",27)(15,"th",28),Z(16,"th",29),Ct(17,"\u20B9"),G()())}function Hy(e,n){if(e&1&&(Z(0,"tr")(1,"td",30),Ct(2),we(3,"date"),G(),Z(4,"td",27),Ct(5),we(6,"number"),G(),Z(7,"td",28),Ct(8),we(9,"number"),G(),Z(10,"td",29),Ct(11),we(12,"number"),G(),Z(13,"td",27),Ct(14),we(15,"number"),G(),Z(16,"td",28),Ct(17),we(18,"number"),G(),Z(19,"td",29),Ct(20),we(21,"number"),G(),Z(22,"td",31),Ct(23),we(24,"number"),G()()),e&2){let t=n.$implicit;et(2),ye(Ce(3,8,t.dateObj,"MMM, dd")),et(3),ye(t.AM.qty>0?Ce(6,11,t.AM.qty,"1.1-1"):""),et(3),ye(t.AM.fat>0?Ce(9,14,t.AM.fat,"1.1-1"):""),et(3),ye(t.AM.amt>0?Ce(12,17,t.AM.amt,"1.2-2"):""),et(3),ye(t.PM.qty>0?Ce(15,20,t.PM.qty,"1.1-1"):""),et(3),ye(t.PM.fat>0?Ce(18,23,t.PM.fat,"1.1-1"):""),et(3),ye(t.PM.amt>0?Ce(21,26,t.PM.amt,"1.2-2"):""),et(3),ye(t.dayAmt>0?Ce(24,29,t.dayAmt,"1.2-2"):"")}}function Vy(e,n){if(e&1&&(Z(0,"tr",32)(1,"td",33),Ct(2,"Total"),G(),Z(3,"td",34),Ct(4),we(5,"number"),G(),Je(6,"td",28),Z(7,"td",35),Ct(8),we(9,"number"),G(),Z(10,"td",34),Ct(11),we(12,"number"),G(),Je(13,"td",28),Z(14,"td",35),Ct(15),we(16,"number"),G(),Z(17,"td",36),Ct(18),we(19,"number"),G()()),e&2){let t=dt();et(4),ye(Ce(5,5,t.totals().AM.qty,"1.1-1")),et(4),Fn("\u20B9 ",Ce(9,8,t.totals().AM.amt,"1.2-2")),et(3),ye(Ce(12,11,t.totals().PM.qty,"1.1-1")),et(4),Fn("\u20B9 ",Ce(16,14,t.totals().PM.amt,"1.2-2")),et(3),Fn("\u20B9 ",Ce(19,17,t.totals().total,"1.2-2"))}}function Wy(e,n){if(e&1&&(Z(0,"span",15),Ct(1),we(2,"number"),G()),e&2){let t,i=dt();et(),Fn("\u20B9 ",Ce(2,1,((t=i.custBill())==null?null:t.paidAmt)||0,"1.2-2"))}}function $y(e,n){if(e&1){let t=Ee();Z(0,"p-inputNumber",37),Ti("ngModelChange",function(r){Jt(t);let a=dt();return Oi(a.paidAmtInput,r)||(a.paidAmtInput=r),Qt(r)}),G()}if(e&2){let t=dt();Ei("ngModel",t.paidAmtInput),At("minFractionDigits",2)("maxFractionDigits",2)("min",0)}}function Yy(e,n){if(e&1){let t=Ee();Z(0,"p-button",40),ee("onClick",function(){Jt(t);let r=dt(2);return Qt(r.enterEditMode())}),G()}}function Gy(e,n){e&1&&(Z(0,"span",39),Ct(1,"UN BILLED"),G())}function Zy(e,n){if(e&1&&me(0,Yy,1,0,"p-button",38)(1,Gy,2,0,"span",39),e&2){let t,i=dt();ve((t=i.ledgerData())!=null&&t.isBilled?0:1)}}function Xy(e,n){if(e&1){let t=Ee();Z(0,"p-button",41),ee("onClick",function(){Jt(t);let r=dt();return Qt(r.savePayment())}),G(),Z(1,"p-button",42),ee("onClick",function(){Jt(t);let r=dt();return Qt(r.cancelEdit())}),G()}e&2&&(et(),At("outlined",!0))}var wd=class e{constructor(n,t,i,r,a,l){this.route=n;this.router=t;this.ledgerService=i;this.rateCardService=r;this.messageService=a;this.pdfUtils=l}custNo=Yt(null);period=Yt(null);customer=Yt(null);ledgerData=Yt(null);payRate=Yt(8);passbookRows=Yt([]);isEditMode=Yt(!1);paidAmtInput=Yt(0);periodEnd=ti(()=>{let n=this.ledgerData();if(!n)return"";let t=ao(n.tenDayStart);return this.getDateString(t)});totals=ti(()=>{let n=this.passbookRows();return{AM:{qty:n.reduce((t,i)=>t+i.AM.qty,0),amt:n.reduce((t,i)=>t+i.AM.amt,0)},PM:{qty:n.reduce((t,i)=>t+i.PM.qty,0),amt:n.reduce((t,i)=>t+i.PM.amt,0)},total:n.reduce((t,i)=>t+i.dayAmt,0)}});custBill=ti(()=>{let n=this.ledgerData(),t=this.custNo();return!n||!t?null:n.custBills?.find(i=>i.custNo===t)||null});dueAmt=ti(()=>{let n=this.totals().total,t=this.custBill(),i=this.isEditMode()?this.paidAmtInput():t?.paidAmt||0,r=t?.prevDueAmt||0;return Math.round((n+r-i)*100)/100});hasPreviousPeriod=Yt(!1);hasNextPeriod=ti(()=>{let n=this.ledgerData();if(!n)return!1;let t=this.getNextPeriodStart(n.tenDayStart),i=new Date;return i.setHours(0,0,0,0),t.getTime()<=i.getTime()});ngOnInit(){this.route.queryParams.subscribe(n=>{let t=n.custNo,i=n.period;t&&this.custNo.set(parseInt(t,10)),i&&(this.period.set(i),this.loadData(i))})}loadData(n){let t=this.custNo();if(!t)return;let[i,r,a]=n.split("-").map(Number),l=new Date(i,r-1,a,0,0,0,0);this.ledgerService.getMembers().subscribe(s=>{let d=s.find(u=>u.custNo===t);this.customer.set(d||null)}),this.ledgerService.getLedgerData(l).subscribe(s=>{this.ledgerData.set(s),this.checkPreviousPeriodExists(),this.rateCardService.getPayRate(l).subscribe(d=>{let u=d.items.filter(f=>new Date(f.effectiveDate)<=l).sort((f,v)=>new Date(v.effectiveDate).getTime()-new Date(f.effectiveDate).getTime())[0];this.payRate.set(u?.payRate||8),this.buildPassbookRows(s,t)})})}goBack(){let n=xe({},this.route.snapshot.queryParams);delete n.custNo,this.router.navigate(["/mcm/ledger-entry"],{queryParams:n})}buildPassbookRows(n,t){let i=[],r=this.payRate();n.records.forEach(l=>{let s=l.quantities.find(d=>d.custNo===t);if(s){let d=s.AM.qty&&s.AM.fat?Math.round(s.AM.qty*s.AM.fat*r*100)/100:0,u=s.PM.qty&&s.PM.fat?Math.round(s.PM.qty*s.PM.fat*r*100)/100:0;i.push({date:this.getDateString(l.day),dateObj:l.day,AM:{qty:s.AM.qty||0,fat:s.AM.fat||0,amt:d},PM:{qty:s.PM.qty||0,fat:s.PM.fat||0,amt:u},dayAmt:Math.round((d+u)*100)/100})}}),i.sort((l,s)=>l.dateObj.getTime()-s.dateObj.getTime()),this.passbookRows.set(i);let a=this.custBill();a&&this.paidAmtInput.set(a.paidAmt||0)}enterEditMode(){let n=this.custBill();n&&this.paidAmtInput.set(n.paidAmt||0),this.isEditMode.set(!0)}cancelEdit(){let n=this.custBill();n&&this.paidAmtInput.set(n.paidAmt||0),this.isEditMode.set(!1)}savePayment(){let n=this.ledgerData(),t=this.custNo();if(!n||!t)return;let i=n.custBills?.findIndex(d=>d.custNo===t)??-1;if(i===-1){n.custBills||(n.custBills=[]);let d=this.totals().total;n.custBills.push({custNo:t,totalQty:this.totals().AM.qty+this.totals().PM.qty,amount:d,prevDueAmt:0,paidAmt:0,dueAmt:d,remarks:""}),i=n.custBills.length-1}let r=Math.round(this.paidAmtInput()*100)/100,a=this.totals().total,l=n.custBills[i].prevDueAmt||0,s=Math.round((a+l-r)*100)/100;n.custBills[i].paidAmt=r,n.custBills[i].dueAmt=s,this.ledgerService.saveLedgerEntry(n).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Success",detail:"Payment saved successfully"}),this.isEditMode.set(!1),this.ledgerData.set(xe({},n))},error:d=>{this.messageService.add({severity:"error",summary:"Error",detail:"Failed to save payment"})}})}getDateString(n){return`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`}isCurrentPeriod(){let n=this.ledgerData();if(!n)return!1;let t=this.getCurrentPeriodStart();return new Date(n.tenDayStart).getTime()===t.getTime()}getCurrentPeriodStart(){let n=new Date,t=n.getDate();return t>=21?new Date(n.getFullYear(),n.getMonth(),21,0,0,0,0):t>=11?new Date(n.getFullYear(),n.getMonth(),11,0,0,0,0):new Date(n.getFullYear(),n.getMonth(),1,0,0,0,0)}checkPreviousPeriodExists(){let n=this.ledgerData();if(!n){this.hasPreviousPeriod.set(!1);return}let t=va(n.tenDayStart),i=this.custNo();i&&this.ledgerService.getLedgerData(t).subscribe({next:r=>{let a=r.records.some(l=>l.quantities.some(s=>s.custNo===i&&(s.AM.qty||s.AM.fat||s.PM.qty||s.PM.fat)));this.hasPreviousPeriod.set(a)},error:()=>{this.hasPreviousPeriod.set(!1)}})}getNextPeriodStart(n){let t=new Date(n),i=t.getDate();return i===1?t.setDate(11):i===11?t.setDate(21):(t.setMonth(t.getMonth()+1),t.setDate(1)),t.setHours(0,0,0,0),t}goToPreviousPeriod(){let n=this.ledgerData(),t=this.custNo();if(!n||!t)return;let i=va(n.tenDayStart),r=this.getDateString(i);this.router.navigate(["/mcm/user-passbook"],{queryParams:{custNo:t,period:r}})}goToNextPeriod(){let n=this.ledgerData(),t=this.custNo();if(!n||!t)return;let i=this.getNextPeriodStart(n.tenDayStart),r=new Date;if(r.setHours(0,0,0,0),i.getTime()>r.getTime())return;let a=this.getDateString(i);this.router.navigate(["/mcm/user-passbook"],{queryParams:{custNo:t,period:a}})}async shareViaWhatsApp(){let n=this.customer(),t=this.ledgerData(),i=this.passbookRows();if(!n||!t||i.length===0){this.messageService.add({severity:"warn",summary:"Warning",detail:"Unable to generate PDF. Missing data."});return}if(!n.mobileNo){this.messageService.add({severity:"warn",summary:"No Phone Number",detail:"Customer does not have a mobile number registered."});return}try{let r=new jt,a=r.internal.pageSize.getWidth();this.pdfUtils.addCenteredHeader(r,"Milk Collection Passbook",15,16);let l=this.pdfUtils.addCustomerDetails(r,{name_en:n.name_en,village:n.village,custNo:n.custNo},25),s=this.period(),d=this.periodEnd();if(s&&d){let F=new Date(s),ut=new Date(d);l=this.pdfUtils.addBillingPeriod(r,F,ut,l)}let u=i.map(F=>[new Date(F.dateObj).toLocaleDateString("en-US",{month:"short",day:"numeric"}),F.AM.qty>0?F.AM.qty.toFixed(1):"-",F.AM.fat>0?F.AM.fat.toFixed(1):"-",F.AM.amt>0?F.AM.amt.toFixed(2):"-",F.PM.qty>0?F.PM.qty.toFixed(1):"-",F.PM.fat>0?F.PM.fat.toFixed(1):"-",F.PM.amt>0?F.PM.amt.toFixed(2):"-",F.dayAmt>0?F.dayAmt.toFixed(2):"-"]),f=this.totals();u.push(["Total",f.AM.qty.toFixed(1),"-",f.AM.amt.toFixed(2),f.PM.qty.toFixed(1),"-",f.PM.amt.toFixed(2),f.total.toFixed(2)]),_l(r,{startY:l+6,head:[["Date",{content:"AM Session",colSpan:3},{content:"PM Session",colSpan:3},"Day Amt"],["","Qty","Fat","\u20B9","Qty","Fat","\u20B9","\u20B9"]],body:u,theme:"grid",headStyles:{fillColor:[66,139,202],fontSize:9},bodyStyles:{fontSize:8},columnStyles:{0:{cellWidth:20},1:{cellWidth:15},2:{cellWidth:15},3:{cellWidth:18},4:{cellWidth:15},5:{cellWidth:15},6:{cellWidth:18},7:{cellWidth:20}},didParseCell:F=>{F.row.index===u.length-1&&(F.cell.styles.fontStyle="bold",F.cell.styles.fillColor=[240,240,240])}});let v=r.lastAutoTable.finalY+10,_=this.custBill(),g=_?.paidAmt||0,A=_?.prevDueAmt||0,k=this.dueAmt();this.pdfUtils.addPaymentSummary(r,{billedAmount:f.total,prevDueAmount:A,paidAmount:g,dueAmount:k},v);let L=`${n.name_en.replace(/\s+/g,"_")}_${s}.pdf`,M=this.pdfUtils.createPdfFile(r,L),H=this.pdfUtils.generateWhatsAppMessage({name_en:n.name_en},{start:new Date(s),end:new Date(d)},{totalAmount:f.total,prevDueAmount:A,paidAmount:g,dueAmount:k}),V=this.pdfUtils.formatPhoneForWhatsApp(n.mobileNo);if(navigator.share&&navigator.canShare&&navigator.canShare({files:[M]}))try{await navigator.share({files:[M],title:"Milk Collection Passbook",text:H}),this.messageService.add({severity:"success",summary:"Success",detail:"Shared successfully!"})}catch(F){F.name!=="AbortError"&&this.fallbackToWhatsAppWeb(V,H)}else this.fallbackToWhatsAppWeb(V,H)}catch{this.messageService.add({severity:"error",summary:"Error",detail:"Failed to generate PDF"})}}fallbackToWhatsAppWeb(n,t){let i=encodeURIComponent(t+`

(PDF will be sent separately)`),r=`https://wa.me/${n}?text=${i}`;window.open(r,"_blank"),this.messageService.add({severity:"info",summary:"WhatsApp Opened",detail:"Please send the PDF manually from your device."})}static \u0275fac=function(t){return new(t||e)(Le(Ro),Le(ha),Le(_a),Le(lr),Le(Wn),Le(cs))};static \u0275cmp=Dn({type:e,selectors:[["app-user-passbook"]],features:[or([Wn])],decls:34,vars:19,consts:[[1,"user-passbook-container"],[1,"passbook-header"],[1,"back-button"],["icon","pi pi-arrow-left","severity","secondary",3,"onClick","outlined"],[1,"title-section"],[1,"period-actions-row"],[1,"table-wrapper"],["styleClass","p-datatable-gridlines p-datatable-striped passbook-table","scrollHeight","flex",3,"value","scrollable","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"payment-section"],["position","top-right"],[1,"payment-row"],[1,"payment-item"],[1,"payment-value"],["inputId","paidAmt","mode","decimal","prefix","\u20B9 ",3,"ngModel","minFractionDigits","maxFractionDigits","min"],[1,"billing-period-panel"],["icon","pi pi-chevron-left","size","small","severity","secondary",3,"onClick","outlined","disabled"],[1,"period-dates"],["icon","pi pi-chevron-right","size","small","severity","secondary",3,"onClick","outlined","disabled"],[1,"share-button-wrapper"],["icon","pi pi-whatsapp","size","small","severity","success","label","Share","pTooltip","Share via WhatsApp","tooltipPosition","bottom",3,"onClick","outlined"],["rowspan","2","pFrozenColumn","",1,"col-date"],["colspan","3",1,"session-header","am-header"],["colspan","3",1,"session-header","pm-header"],["rowspan","2",1,"col-day-amt"],[1,"col-qty"],[1,"col-fat"],[1,"col-amt"],["pFrozenColumn","",1,"col-date"],[1,"col-day-amt"],[1,"totals-row"],["pFrozenColumn","",1,"totals-label"],[1,"col-qty","total-qty"],[1,"col-amt","total-amt"],[1,"col-day-amt","total-day-amt"],["inputId","paidAmt","mode","decimal","prefix","\u20B9 ",3,"ngModelChange","ngModel","minFractionDigits","maxFractionDigits","min"],["label","Edit","icon","pi pi-pencil","severity","info"],[2,"color","red","font-weight","bold","margin-left","1rem"],["label","Edit","icon","pi pi-pencil","severity","info",3,"onClick"],["label","Save","icon","pi pi-check","severity","success",3,"onClick"],["label","Cancel","icon","pi pi-times","severity","secondary",3,"onClick","outlined"]],template:function(t,i){if(t&1&&(Z(0,"div",0)(1,"div",1)(2,"div",2)(3,"p-button",3),ee("onClick",function(){return i.goBack()}),G()(),Z(4,"div",4),me(5,jy,2,3,"h2"),G()(),me(6,qy,10,13,"div",5),Z(7,"div",6)(8,"p-table",7),Ae(9,Uy,18,0,"ng-template",8)(10,Hy,25,32,"ng-template",9)(11,Vy,20,20,"ng-template",10),G()(),Z(12,"div",11),Je(13,"p-toast",12),Z(14,"div",13)(15,"div",14)(16,"label"),Ct(17,"Paid:"),G(),me(18,Wy,3,4,"span",15)(19,$y,1,4,"p-inputNumber",16),G(),Z(20,"div",14)(21,"label"),Ct(22,"Prev Due:"),G(),Z(23,"span",15),Ct(24),we(25,"number"),G()(),Z(26,"div",14)(27,"label"),Ct(28,"Due Amt:"),G(),Z(29,"span",15),Ct(30),we(31,"number"),G()(),me(32,Zy,2,1)(33,Xy,2,1),G()()()),t&2){let r;et(3),At("outlined",!0),et(2),ve(i.customer()?5:-1),et(),ve(i.period()&&i.periodEnd()?6:-1),et(2),At("value",i.passbookRows())("scrollable",!0)("tableStyle",Qn(18,zy)),et(10),ve(i.isEditMode()?19:18),et(6),Fn("\u20B9 ",Ce(25,12,((r=i.custBill())==null?null:r.prevDueAmt)||0,"1.2-2")),et(5),Li("negative",i.dueAmt()<0),et(),Fn("\u20B9 ",Ce(31,15,i.dueAmt(),"1.2-2")),et(2),ve(i.isEditMode()?i.isEditMode()?33:-1:32)}},dependencies:[si,fa,gc,mc,Ri,Fi,Ii,$f,Bi,sr,Mc,Gf,Yf,pa,zo,Pc,Zf,uc,dc],styles:[`.user-passbook-container[_ngcontent-%COMP%]{padding:1.5rem;height:100vh;display:flex;flex-direction:column;overflow:hidden;box-sizing:border-box}.user-passbook-container[_ngcontent-%COMP%]   .passbook-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1.5rem;flex-shrink:0}.user-passbook-container[_ngcontent-%COMP%]   .passbook-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.user-passbook-container[_ngcontent-%COMP%]   .passbook-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.3rem;font-weight:600}.user-passbook-container[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{text-decoration:none}.user-passbook-container[_ngcontent-%COMP%]   .period-actions-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem;gap:1rem;flex-shrink:0}.user-passbook-container[_ngcontent-%COMP%]   .billing-period-panel[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.25rem .5rem;background-color:#bbdefb;border-radius:4px;box-shadow:0 1px 2px #0000001a;width:fit-content}.user-passbook-container[_ngcontent-%COMP%]   .billing-period-panel[_ngcontent-%COMP%]   .period-dates[_ngcontent-%COMP%]{font-weight:700;font-size:.95rem;color:#1565c0;white-space:nowrap}.user-passbook-container[_ngcontent-%COMP%]   .billing-period-panel[_ngcontent-%COMP%]     .p-button{color:#1565c0;border-color:#1565c0;min-width:36px;padding:.25rem .5rem}.user-passbook-container[_ngcontent-%COMP%]   .billing-period-panel[_ngcontent-%COMP%]     .p-button:not(:disabled):hover{background-color:#1565c0;border-color:#1565c0;color:#fff}.user-passbook-container[_ngcontent-%COMP%]   .billing-period-panel[_ngcontent-%COMP%]     .p-button:disabled{opacity:.6;cursor:not-allowed}.user-passbook-container[_ngcontent-%COMP%]   .billing-period-panel[_ngcontent-%COMP%]     .p-button:disabled:hover{background-color:transparent;border-color:#9e9e9e;color:#9e9e9e}.user-passbook-container[_ngcontent-%COMP%]   .billing-period-panel[_ngcontent-%COMP%]     .p-button .pi{font-size:.9rem}.user-passbook-container[_ngcontent-%COMP%]   .share-button-wrapper[_ngcontent-%COMP%]     .p-button:not(:disabled):hover{background-color:#25d366;border-color:#25d366;color:#fff}.user-passbook-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-height:0;overflow:auto;width:fit-content;max-width:100%;align-self:flex-start}.user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]{font-size:.9rem;width:fit-content;max-width:100%}.user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]     .p-datatable{width:fit-content;max-width:100%}.user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]     .p-datatable-wrapper{overflow:auto;width:fit-content;max-width:100%}.user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]     .p-datatable-thead{position:sticky;top:0;z-index:10;background-color:#fff}.user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]     table{border-collapse:collapse;width:auto;table-layout:auto}.user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]     th, .user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]     td{padding:.5rem;white-space:nowrap}.user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]     .col-date{width:70px;min-width:70px;text-align:center}.user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]     thead tr:first-child th{background-color:#f8f9fa;border:1px solid #dee2e6;font-weight:600;text-align:center}.user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]     thead tr:first-child th.session-header{text-align:center}.user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]     thead tr:first-child th.session-header.am-header{background-color:#e3f2fd;color:#1565c0}.user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]     thead tr:first-child th.session-header.pm-header{background-color:#fff3e0;color:#e65100}.user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]     thead tr:nth-child(2) th{background-color:#f8f9fa;border:1px solid #dee2e6;text-align:center;font-weight:500}.user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]     thead tr:nth-child(2) th i{font-size:.9rem}.user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]     tbody tr:nth-child(2n){background-color:#f9f9f9}.user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]     tbody tr:nth-child(odd){background-color:#fff}.user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]     tbody td{border:1px solid #dee2e6}.user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]     tfoot tr{background-color:#f8f9fa;font-weight:600}.user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]     tfoot tr td{border:1px solid #dee2e6}.user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]     .col-date{text-align:left;width:70px;white-space:nowrap}.user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]     .col-qty{text-align:right;width:60px}.user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]     th.col-qty:before{content:"";display:inline-block;width:16px;height:16px;margin-right:4px;vertical-align:middle;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M.038.309A.5.5 0 0 1 .5 0H14a2 2 0 0 1 2 2v5.959a1.041 1.041 0 0 1-2.069.17l-.849-5.094A.041.041 0 0 0 13 3.04V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V3.743a2.5 2.5 0 0 0-.732-1.768L.146.854A.5.5 0 0 1 .038.309M1.708 1l.267.268A3.5 3.5 0 0 1 3 3.743V14a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V3.041a1.041 1.041 0 0 1 2.069-.17l.849 5.094A.041.041 0 0 0 15 7.96V2a1 1 0 0 0-1-1zM4 3h3.5a.5.5 0 1 1 0 1H4zm0 2h1.5a.5.5 0 1 1 0 1H4zm0 2h3.5a.5.5 0 1 1 0 1H4zm0 2h1.5a.5.5 0 1 1 0 1H4zm0 2h3.5a.5.5 0 0 1 0 1H4zm0 2h1.5a.5.5 0 0 1 0 1H4z"/></svg>');background-size:contain;background-repeat:no-repeat;opacity:.7}.user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]     .col-fat{text-align:right;width:50px}.user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]     th.col-fat:before{content:"";display:inline-block;width:16px;height:16px;margin-right:4px;vertical-align:middle;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M9.5 12.5a1.5 1.5 0 1 1-2-1.415V6.5a.5.5 0 0 1 1 0v4.585a1.5 1.5 0 0 1 1 1.415"/><path d="M5.5 2.5a2.5 2.5 0 0 1 5 0v7.55a3.5 3.5 0 1 1-5 0zM8 1a1.5 1.5 0 0 0-1.5 1.5v7.987l-.167.15a2.5 2.5 0 1 0 3.333 0l-.166-.15V2.5A1.5 1.5 0 0 0 8 1"/></svg>');background-size:contain;background-repeat:no-repeat;opacity:.7}.user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]     .col-amt{text-align:right;width:70px;background-color:#f0f8ff}.user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]     .col-day-amt{text-align:right;width:80px;background-color:#e3f2fd}.user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]     .totals-row .totals-label{text-align:left}.user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]     .totals-row .total-qty, .user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]     .totals-row .total-amt, .user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]     .totals-row .total-day-amt{font-weight:700}.user-passbook-container[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]{margin-top:.25rem;padding:.25rem .5rem;background-color:#f8f9fa;border-radius:4px;border:1px solid #dee2e6;width:fit-content;flex-shrink:0}.user-passbook-container[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .payment-row[_ngcontent-%COMP%], .user-passbook-container[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .payment-row[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.user-passbook-container[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .payment-row[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;color:#495057;font-weight:500;white-space:nowrap}.user-passbook-container[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .payment-row[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]   .payment-value[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#495057;min-width:80px}.user-passbook-container[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .payment-row[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]   .payment-value.negative[_ngcontent-%COMP%]{color:#dc3545}.user-passbook-container[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .payment-row[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]   p-inputNumber[_ngcontent-%COMP%]     .p-inputnumber-input{width:120px;text-align:right}.user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n)   td[_ngcontent-%COMP%], .user-passbook-container[_ngcontent-%COMP%]   .ledger-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n)   td[_ngcontent-%COMP%]{position:relative}.user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n)   td[_ngcontent-%COMP%]:before, .user-passbook-container[_ngcontent-%COMP%]   .ledger-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n)   td[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:#0000000a;pointer-events:none;z-index:1}.user-passbook-container[_ngcontent-%COMP%]   .passbook-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n)   td[_ngcontent-%COMP%], .user-passbook-container[_ngcontent-%COMP%]   .ledger-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n)   td[_ngcontent-%COMP%]{z-index:2}`]})};var Ky=[{path:"rate-card",component:Dc},{path:"customers",component:Ec},{path:"ledger-entry",component:_d},{path:"payment-report",component:bd},{path:"rate-card-edit",component:yd},{path:"user-passbook",component:wd}],xd=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=Qa({type:e});static \u0275inj=Ka({imports:[nu.forChild(Ky),nu]})};var cg=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=Qa({type:e});static \u0275inj=Ka({imports:[xd]})};export{cg as McmModule};
